import{L as Ra}from"./vue-loading-C9b7XXWa.js";/* empty css                    */import{L as he,h as Mo}from"./mapHelpers-B3S8Or5o.js";import{n as Po,a as ba,l as Ma}from"./app-DUq6JUcL.js";import"./moment-zH0z38ay.js";/* empty css            */(function(h){if(typeof exports=="object"&&typeof module<"u")module.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var E;typeof window<"u"?E=window:typeof global<"u"?E=global:typeof self<"u"?E=self:E=this,E.turf=h()}})(function(){return function h(E,u,_){function d(c,f){if(!u[c]){if(!E[c]){var p=typeof require=="function"&&require;if(!f&&p)return p(c,!0);if(S)return S(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var m=u[c]={exports:{}};E[c][0].call(m.exports,function(N){var y=E[c][1][N];return d(y||N)},m,m.exports,h,E,u,_)}return u[c].exports}for(var S=typeof require=="function"&&require,a=0;a<_.length;a++)d(_[a]);return d}({1:[function(h,E,u){var _=h("@turf/helpers"),d=h("@turf/invariant"),S=h("@turf/meta"),a={isolines:h("@turf/isolines"),convex:h("@turf/convex"),within:h("@turf/within"),concave:h("@turf/concave"),difference:h("@turf/difference"),dissolve:h("@turf/dissolve"),collect:h("@turf/collect"),flip:h("@turf/flip"),simplify:h("@turf/simplify"),bezier:h("@turf/bezier"),tag:h("@turf/tag"),sample:h("@turf/sample"),envelope:h("@turf/envelope"),square:h("@turf/square"),circle:h("@turf/circle"),midpoint:h("@turf/midpoint"),buffer:h("@turf/buffer"),center:h("@turf/center"),centerOfMass:h("@turf/center-of-mass"),centroid:h("@turf/centroid"),combine:h("@turf/combine"),distance:h("@turf/distance"),explode:h("@turf/explode"),bbox:h("@turf/bbox"),tesselate:h("@turf/tesselate"),bboxPolygon:h("@turf/bbox-polygon"),inside:h("@turf/inside"),intersect:h("@turf/intersect"),nearest:h("@turf/nearest"),planepoint:h("@turf/planepoint"),random:h("@turf/random"),tin:h("@turf/tin"),union:h("@turf/union"),bearing:h("@turf/bearing"),destination:h("@turf/destination"),kinks:h("@turf/kinks"),pointOnSurface:h("@turf/point-on-surface"),area:h("@turf/area"),along:h("@turf/along"),lineDistance:h("@turf/line-distance"),lineSlice:h("@turf/line-slice"),lineSliceAlong:h("@turf/line-slice-along"),pointOnLine:h("@turf/point-on-line"),pointGrid:h("@turf/point-grid"),squareGrid:h("@turf/square-grid"),triangleGrid:h("@turf/triangle-grid"),hexGrid:h("@turf/hex-grid"),idw:h("@turf/idw"),truncate:h("@turf/truncate"),flatten:h("@turf/flatten"),lineIntersect:h("@turf/line-intersect"),mask:h("@turf/mask"),lineChunk:h("@turf/line-chunk"),unkinkPolygon:h("@turf/unkink-polygon"),greatCircle:h("@turf/great-circle"),lineSegment:h("@turf/line-segment"),point:_.point,polygon:_.polygon,lineString:_.lineString,multiPoint:_.multiPoint,multiPolygon:_.multiPolygon,multiLineString:_.multiLineString,feature:_.feature,featureCollection:_.featureCollection,geometryCollection:_.geometryCollection,getCoord:d.getCoord,getCoords:d.getCoords,geojsonType:d.geojsonType,featureOf:d.featureOf,collectionOf:d.collectionOf,coordEach:S.coordEach,coordReduce:S.coordReduce,propEach:S.propEach,propReduce:S.propReduce,featureEach:S.featureEach,featureReduce:S.featureReduce,coordAll:S.coordAll,geomEach:S.geomEach,geomReduce:S.geomReduce};E.exports=a},{"@turf/along":2,"@turf/area":12,"@turf/bbox":18,"@turf/bbox-polygon":16,"@turf/bearing":20,"@turf/bezier":22,"@turf/buffer":25,"@turf/center":57,"@turf/center-of-mass":29,"@turf/centroid":61,"@turf/circle":64,"@turf/collect":69,"@turf/combine":76,"@turf/concave":78,"@turf/convex":86,"@turf/destination":105,"@turf/difference":108,"@turf/dissolve":110,"@turf/distance":121,"@turf/envelope":124,"@turf/explode":129,"@turf/flatten":132,"@turf/flip":136,"@turf/great-circle":139,"@turf/helpers":141,"@turf/hex-grid":142,"@turf/idw":147,"@turf/inside":163,"@turf/intersect":165,"@turf/invariant":167,"@turf/isolines":169,"@turf/kinks":192,"@turf/line-chunk":194,"@turf/line-distance":221,"@turf/line-intersect":231,"@turf/line-segment":247,"@turf/line-slice":265,"@turf/line-slice-along":255,"@turf/mask":277,"@turf/meta":286,"@turf/midpoint":287,"@turf/nearest":296,"@turf/planepoint":300,"@turf/point-grid":301,"@turf/point-on-line":308,"@turf/point-on-surface":318,"@turf/random":332,"@turf/sample":334,"@turf/simplify":336,"@turf/square":345,"@turf/square-grid":338,"@turf/tag":349,"@turf/tesselate":352,"@turf/tin":355,"@turf/triangle-grid":357,"@turf/truncate":362,"@turf/union":363,"@turf/unkink-polygon":365,"@turf/within":384}],2:[function(h,E,u){var _=h("@turf/distance"),d=h("@turf/helpers").point,S=h("@turf/bearing"),a=h("@turf/destination");E.exports=function(c,f,p){var g;if(c.type==="Feature")g=c.geometry.coordinates;else if(c.type==="LineString")g=c.coordinates;else throw new Error("input must be a LineString Feature or Geometry");for(var m=0,N=0;N<g.length&&!(f>=m&&N===g.length-1);N++)if(m>=f){var y=f-m;if(y){var R=S(g[N],g[N-1])-180,I=a(g[N],y,R,p);return I}else return d(g[N])}else m+=_(g[N],g[N+1],p);return d(g[g.length-1])}},{"@turf/bearing":3,"@turf/destination":5,"@turf/distance":8,"@turf/helpers":11}],3:[function(h,E,u){var _=h("@turf/invariant").getCoord;function d(a,c,f){if(f===!0)return S(a,c);var p=Math.PI/180,g=180/Math.PI,m=_(a),N=_(c),y=p*m[0],R=p*N[0],I=p*m[1],v=p*N[1],M=Math.sin(R-y)*Math.cos(v),T=Math.cos(I)*Math.sin(v)-Math.sin(I)*Math.cos(v)*Math.cos(R-y),w=g*Math.atan2(M,T);return w}function S(a,c){var f=d(c,a);return f=(f+180)%360,f}E.exports=d},{"@turf/invariant":4}],4:[function(h,E,u){function _(p){if(!p)throw new Error("No obj passed");var g=d(p);if(g.length>1&&typeof g[0]=="number"&&typeof g[1]=="number")return g;throw new Error("Coordinate is not a valid Point")}function d(p){if(!p)throw new Error("No obj passed");var g;if(p.length?g=p:p.coordinates?g=p.coordinates:p.geometry&&p.geometry.coordinates&&(g=p.geometry.coordinates),g)return S(g),g;throw new Error("No valid coordinates")}function S(p){if(p.length>1&&typeof p[0]=="number"&&typeof p[1]=="number")return!0;if(p[0].length)return S(p[0]);throw new Error("coordinates must only contain numbers")}function a(p,g,m){if(!g||!m)throw new Error("type and name required");if(!p||p.type!==g)throw new Error("Invalid input to "+m+": must be a "+g+", given "+p.type)}function c(p,g,m){if(!p)throw new Error("No feature passed");if(!m)throw new Error(".featureOf() requires a name");if(!p||p.type!=="Feature"||!p.geometry)throw new Error("Invalid input to "+m+", Feature with geometry required");if(!p.geometry||p.geometry.type!==g)throw new Error("Invalid input to "+m+": must be a "+g+", given "+p.geometry.type)}function f(p,g,m){if(!p)throw new Error("No featureCollection passed");if(!m)throw new Error(".collectionOf() requires a name");if(!p||p.type!=="FeatureCollection")throw new Error("Invalid input to "+m+", FeatureCollection required");for(var N=0;N<p.features.length;N++){var y=p.features[N];if(!y||y.type!=="Feature"||!y.geometry)throw new Error("Invalid input to "+m+", Feature with geometry required");if(!y.geometry||y.geometry.type!==g)throw new Error("Invalid input to "+m+": must be a "+g+", given "+y.geometry.type)}}E.exports.geojsonType=a,E.exports.collectionOf=f,E.exports.featureOf=c,E.exports.getCoord=_,E.exports.getCoords=d},{}],5:[function(h,E,u){var _=h("@turf/invariant").getCoord,d=h("@turf/helpers"),S=d.point,a=d.distanceToRadians;E.exports=function(c,f,p,g){var m=Math.PI/180,N=180/Math.PI,y=_(c),R=m*y[0],I=m*y[1],v=m*p,M=a(f,g),T=Math.asin(Math.sin(I)*Math.cos(M)+Math.cos(I)*Math.sin(M)*Math.cos(v)),w=R+Math.atan2(Math.sin(v)*Math.sin(M)*Math.cos(I),Math.cos(M)-Math.sin(I)*Math.sin(T));return S([N*w,N*T])}},{"@turf/helpers":6,"@turf/invariant":7}],6:[function(h,E,u){function _(S,a){if(!S)throw new Error("No geometry passed");return{type:"Feature",properties:a||{},geometry:S}}E.exports.feature=_,E.exports.point=function(S,a){if(!S)throw new Error("No coordinates passed");if(S.length===void 0)throw new Error("Coordinates must be an array");if(S.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(typeof S[0]!="number"||typeof S[1]!="number")throw new Error("Coordinates must numbers");return _({type:"Point",coordinates:S},a)},E.exports.polygon=function(S,a){if(!S)throw new Error("No coordinates passed");for(var c=0;c<S.length;c++){var f=S[c];if(f.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<f[f.length-1].length;p++)if(f[f.length-1][p]!==f[0][p])throw new Error("First and last Position are not equivalent.")}return _({type:"Polygon",coordinates:S},a)},E.exports.lineString=function(S,a){if(!S)throw new Error("No coordinates passed");return _({type:"LineString",coordinates:S},a)},E.exports.featureCollection=function(S){if(!S)throw new Error("No features passed");return{type:"FeatureCollection",features:S}},E.exports.multiLineString=function(S,a){if(!S)throw new Error("No coordinates passed");return _({type:"MultiLineString",coordinates:S},a)},E.exports.multiPoint=function(S,a){if(!S)throw new Error("No coordinates passed");return _({type:"MultiPoint",coordinates:S},a)},E.exports.multiPolygon=function(S,a){if(!S)throw new Error("No coordinates passed");return _({type:"MultiPolygon",coordinates:S},a)},E.exports.geometryCollection=function(S,a){if(!S)throw new Error("No geometries passed");return _({type:"GeometryCollection",geometries:S},a)};var d={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:2090879265e-2};E.exports.radiansToDistance=function(S,a){var c=d[a||"kilometers"];if(c===void 0)throw new Error("Invalid unit");return S*c},E.exports.distanceToRadians=function(S,a){var c=d[a||"kilometers"];if(c===void 0)throw new Error("Invalid unit");return S/c},E.exports.distanceToDegrees=function(S,a){var c=d[a||"kilometers"];if(c===void 0)throw new Error("Invalid unit");return S/c*57.2958}},{}],7:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],8:[function(h,E,u){var _=h("@turf/invariant").getCoord,d=h("@turf/helpers").radiansToDistance;E.exports=function(S,a,c){var f=Math.PI/180,p=_(S),g=_(a),m=f*(g[1]-p[1]),N=f*(g[0]-p[0]),y=f*p[1],R=f*g[1],I=Math.pow(Math.sin(m/2),2)+Math.pow(Math.sin(N/2),2)*Math.cos(y)*Math.cos(R);return d(2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I)),c)}},{"@turf/helpers":9,"@turf/invariant":10}],9:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],10:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],11:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],12:[function(h,E,u){var _=h("@mapbox/geojson-area").geometry,d=h("@turf/meta").geomReduce;E.exports=function(S){return d(S,function(a,c){return a+_(c)},0)}},{"@mapbox/geojson-area":13,"@turf/meta":14}],13:[function(h,E,u){var _=h("wgs84");E.exports.geometry=d,E.exports.ring=a;function d(f){var p=0,g;switch(f.type){case"Polygon":return S(f.coordinates);case"MultiPolygon":for(g=0;g<f.coordinates.length;g++)p+=S(f.coordinates[g]);return p;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(g=0;g<f.geometries.length;g++)p+=d(f.geometries[g]);return p}}function S(f){var p=0;if(f&&f.length>0){p+=Math.abs(a(f[0]));for(var g=1;g<f.length;g++)p-=Math.abs(a(f[g]))}return p}function a(f){var p,g,m,N,y,R,I,v=0,M=f.length;if(M>2){for(I=0;I<M;I++)I===M-2?(N=M-2,y=M-1,R=0):I===M-1?(N=M-1,y=0,R=1):(N=I,y=I+1,R=I+2),p=f[N],g=f[y],m=f[R],v+=(c(m[0])-c(p[0]))*Math.sin(c(g[1]));v=v*_.RADIUS*_.RADIUS/2}return v}function c(f){return f*Math.PI/180}},{wgs84:15}],14:[function(h,E,u){function _(N,y,R){var I,v,M,T,w,b,P,O,D,C=0,q=0,B,U=N.type==="FeatureCollection",W=N.type==="Feature",L=U?N.features.length:1;for(I=0;I<L;I++)for(D=U?N.features[I].geometry:W?N.geometry:N,B=D.type==="GeometryCollection",P=B?D.geometries.length:1,T=0;T<P;T++)if(b=B?D.geometries[T]:D,O=b.coordinates,C=R&&(b.type==="Polygon"||b.type==="MultiPolygon")?1:0,b.type==="Point")y(O,q),q++;else if(b.type==="LineString"||b.type==="MultiPoint")for(v=0;v<O.length;v++)y(O[v],q),q++;else if(b.type==="Polygon"||b.type==="MultiLineString")for(v=0;v<O.length;v++)for(M=0;M<O[v].length-C;M++)y(O[v][M],q),q++;else if(b.type==="MultiPolygon")for(v=0;v<O.length;v++)for(M=0;M<O[v].length;M++)for(w=0;w<O[v][M].length-C;w++)y(O[v][M][w],q),q++;else if(b.type==="GeometryCollection")for(v=0;v<b.geometries.length;v++)_(b.geometries[v],y,R);else throw new Error("Unknown Geometry Type")}E.exports.coordEach=_;function d(N,y,R,I){var v=R;return _(N,function(M,T){T===0&&R===void 0?v=M:v=y(v,M,T)},I),v}E.exports.coordReduce=d;function S(N,y){var R;switch(N.type){case"FeatureCollection":for(R=0;R<N.features.length;R++)y(N.features[R].properties,R);break;case"Feature":y(N.properties,0);break}}E.exports.propEach=S;function a(N,y,R){var I=R;return S(N,function(v,M){M===0&&R===void 0?I=v:I=y(I,v,M)}),I}E.exports.propReduce=a;function c(N,y){if(N.type==="Feature")y(N,0);else if(N.type==="FeatureCollection")for(var R=0;R<N.features.length;R++)y(N.features[R],R)}E.exports.featureEach=c;function f(N,y,R){var I=R;return c(N,function(v,M){M===0&&R===void 0?I=v:I=y(I,v,M)}),I}E.exports.featureReduce=f;function p(N){var y=[];return _(N,function(R){y.push(R)}),y}E.exports.coordAll=p;function g(N,y){var R,I,v,M,T,w,b,P=0,O=N.type==="FeatureCollection",D=N.type==="Feature",C=O?N.features.length:1;for(R=0;R<C;R++)for(w=O?N.features[R].geometry:D?N.geometry:N,b=w.type==="GeometryCollection",T=b?w.geometries.length:1,v=0;v<T;v++)if(M=b?w.geometries[v]:w,M.type==="Point"||M.type==="LineString"||M.type==="MultiPoint"||M.type==="Polygon"||M.type==="MultiLineString"||M.type==="MultiPolygon")y(M,P),P++;else if(M.type==="GeometryCollection")for(I=0;I<M.geometries.length;I++)y(M.geometries[I],P),P++;else throw new Error("Unknown Geometry Type")}E.exports.geomEach=g;function m(N,y,R){var I=R;return g(N,function(v,M){M===0&&R===void 0?I=v:I=y(I,v,M)}),I}E.exports.geomReduce=m},{}],15:[function(h,E,u){E.exports.RADIUS=6378137,E.exports.FLATTENING=1/298.257223563,E.exports.POLAR_RADIUS=63567523142e-4},{}],16:[function(h,E,u){var _=h("@turf/helpers").polygon;E.exports=function(d){var S=[d[0],d[1]],a=[d[0],d[3]],c=[d[2],d[3]],f=[d[2],d[1]];return _([[S,f,c,a,S]])}},{"@turf/helpers":17}],17:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],18:[function(h,E,u){var _=h("@turf/meta").coordEach;E.exports=function(d){var S=[1/0,1/0,-1/0,-1/0];return _(d,function(a){S[0]>a[0]&&(S[0]=a[0]),S[1]>a[1]&&(S[1]=a[1]),S[2]<a[0]&&(S[2]=a[0]),S[3]<a[1]&&(S[3]=a[1])}),S}},{"@turf/meta":19}],19:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],20:[function(h,E,u){arguments[4][3][0].apply(u,arguments)},{"@turf/invariant":21,dup:3}],21:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],22:[function(h,E,u){var _=h("@turf/helpers").lineString,d=h("./spline.js");E.exports=function(S,a,c){var f=_([]);f.properties=S.properties;for(var p=new d({points:S.geometry.coordinates.map(function(N){return{x:N[0],y:N[1]}}),duration:a,sharpness:c}),g=0;g<p.duration;g+=10){var m=p.pos(g);Math.floor(g/100)%2===0&&f.geometry.coordinates.push([m.x,m.y])}return f}},{"./spline.js":24,"@turf/helpers":23}],23:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],24:[function(h,E,u){var _=function(d){this.points=d.points||[],this.duration=d.duration||1e4,this.sharpness=d.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=d.stepLength||60,this.length=this.points.length,this.delay=0;for(var S=0;S<this.length;S++)this.points[S].z=this.points[S].z||0;for(var S=0;S<this.length-1;S++){var a=this.points[S],c=this.points[S+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var S=0;S<this.centers.length-1;S++){var a=this.centers[S],c=this.centers[S+1],f=this.points[S+1].x-(this.centers[S].x+this.centers[S+1].x)/2,p=this.points[S+1].y-(this.centers[S].y+this.centers[S+1].y)/2,g=this.points[S+1].z-(this.centers[S].y+this.centers[S+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[S+1].x+this.sharpness*(this.centers[S].x+f),y:(1-this.sharpness)*this.points[S+1].y+this.sharpness*(this.centers[S].y+p),z:(1-this.sharpness)*this.points[S+1].z+this.sharpness*(this.centers[S].z+g)},{x:(1-this.sharpness)*this.points[S+1].x+this.sharpness*(this.centers[S+1].x+f),y:(1-this.sharpness)*this.points[S+1].y+this.sharpness*(this.centers[S+1].y+p),z:(1-this.sharpness)*this.points[S+1].z+this.sharpness*(this.centers[S+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};_.prototype.cacheSteps=function(d){var S=[],a=this.pos(0);S.push(0);for(var c=0;c<this.duration;c+=10){var f=this.pos(c),p=Math.sqrt((f.x-a.x)*(f.x-a.x)+(f.y-a.y)*(f.y-a.y)+(f.z-a.z)*(f.z-a.z));p>d&&(S.push(c),a=f)}return S},_.prototype.vector=function(d){var S=this.pos(d+10),a=this.pos(d-10);return{angle:180*Math.atan2(S.y-a.y,S.x-a.x)/3.14,speed:Math.sqrt((a.x-S.x)*(a.x-S.x)+(a.y-S.y)*(a.y-S.y)+(a.z-S.z)*(a.z-S.z))}},_.prototype.pos=function(d){function S(g,m,N,y,R){var I=function(T){var w=T*T,b=w*T;return[b,3*w*(1-T),3*T*(1-T)*(1-T),(1-T)*(1-T)*(1-T)]},v=I(g),M={x:R.x*v[0]+y.x*v[1]+N.x*v[2]+m.x*v[3],y:R.y*v[0]+y.y*v[1]+N.y*v[2]+m.y*v[3],z:R.z*v[0]+y.z*v[1]+N.z*v[2]+m.z*v[3]};return M}var a=d-this.delay;a<0&&(a=0),a>this.duration&&(a=this.duration-1);var c=a/this.duration;if(c>=1)return this.points[this.length-1];var f=Math.floor((this.points.length-1)*c),p=(this.length-1)*c-f;return S(p,this.points[f],this.controls[f][1],this.controls[f+1][0],this.points[f+1])},E.exports=_},{}],25:[function(h,E,u){var _=h("@turf/helpers"),d=_.featureCollection,S=h("jsts"),a=h("@mapbox/geojson-normalize");E.exports=function(f,p,g){var m=_.distanceToDegrees(p,g),N=a(f),y=a(d(N.features.map(function(R){return c(R,m)})));if(y.features.length>1)return y;if(y.features.length===1)return y.features[0]};function c(f,p){var g=new S.io.GeoJSONReader,m=g.read(f.geometry),N=m.buffer(p),y=new S.io.GeoJSONWriter;return N=y.write(N),{type:"Feature",geometry:N,properties:{}}}},{"@mapbox/geojson-normalize":26,"@turf/helpers":27,jsts:28}],26:[function(h,E,u){E.exports=d;var _={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function d(S){if(!S||!S.type)return null;var a=_[S.type];if(!a)return null;if(a==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:S}]};if(a==="feature")return{type:"FeatureCollection",features:[S]};if(a==="featurecollection")return S}},{}],27:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],28:[function(h,E,u){(function(_,d){d(typeof u=="object"&&typeof E<"u"?u:_.jsts=_.jsts||{})})(this,function(_){function d(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function S(){}function a(){}function c(){}function f(){}function p(){}function g(){}function m(){}function N(t){this.name="RuntimeException",this.message=t,this.stack=new Error().stack,Error.call(this,t)}function y(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function R(){if(arguments.length===0)N.call(this);else if(arguments.length===1){var t=arguments[0];N.call(this,t)}}function I(){}function v(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)v.call(this,0,0);else if(arguments.length===1){var t=arguments[0];v.call(this,t.x,t.y,t.z)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];v.call(this,e,n,v.NULL_ORDINATE)}else if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2];this.x=r,this.y=s,this.z=o}}function M(){if(this.dimensionsToTest=2,arguments.length===0)M.call(this,2);else if(arguments.length===1){var t=arguments[0];if(t!==2&&t!==3)throw new a;this.dimensionsToTest=t}}function T(){}function w(){}function b(t){this.message=t||""}function P(){}function O(t){this.message=t||""}function D(t){this.message=t||""}function C(){this.array_=[],arguments[0]instanceof w&&this.addAll(arguments[0])}function q(){if(C.apply(this),arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}}function B(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof v){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof B){var e=arguments[0];this.init(e)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(arguments.length===4){var s=arguments[0],o=arguments[1],l=arguments[2],x=arguments[3];this.init(s,o,l,x)}}function U(){}function W(){U.call(this,"Projective point not representable on the Cartesian plane.")}function L(){}function X(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function ot(){}function F(t){this.str=t}function Y(t){this.value=t}function H(){}function z(){if(this.hi=0,this.lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof z){var e=arguments[0];this.init(e)}else if(typeof arguments[0]=="string"){var n=arguments[0];z.call(this,z.parse(n))}}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this.init(r,s)}}function J(){}function G(){}function k(){}function j(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof j&&arguments[1]instanceof j){var r=arguments[0],s=arguments[1];this.x=r.y*s.w-s.y*r.w,this.y=s.x*r.w-r.x*s.w,this.w=r.x*s.y-s.x*r.y}else if(arguments[0]instanceof v&&arguments[1]instanceof v){var o=arguments[0],l=arguments[1];this.x=o.y-l.y,this.y=l.x-o.x,this.w=o.x*l.y-l.x*o.y}}else if(arguments.length===3){var x=arguments[0],A=arguments[1],V=arguments[2];this.x=x,this.y=A,this.w=V}else if(arguments.length===4){var Z=arguments[0],K=arguments[1],$=arguments[2],ut=arguments[3],ft=Z.y-K.y,gt=K.x-Z.x,Ot=Z.x*K.y-K.x*Z.y,Xt=$.y-ut.y,Ve=ut.x-$.x,ir=$.x*ut.y-ut.x*$.y;this.x=gt*ir-Ve*Ot,this.y=Xt*Ot-ft*ir,this.w=ft*Ve-Xt*gt}}function rt(){}function it(){}function Q(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function lt(){}function st(){}function ct(){}function vt(){}function Re(){}function Qt(){}function at(){}function Nn(){}function sr(){}function $e(){}function Yt(){}function zt(){}function Rt(){this.array_=[],arguments[0]instanceof w&&this.addAll(arguments[0])}function ke(t){return t==null?fn:t.color}function Et(t){return t==null?null:t.parent}function Oe(t,e){t!==null&&(t.color=e)}function Mr(t){return t==null?null:t.left}function Ni(t){return t==null?null:t.right}function Vt(){this.root_=null,this.size_=0}function or(){}function Ci(){}function Jt(){this.array_=[],arguments[0]instanceof w&&this.addAll(arguments[0])}function _e(){}function tt(){}function tn(){}function zn(){}function xt(){this.geometries=null;var t=arguments[0],e=arguments[1];if(Q.call(this,e),t===null&&(t=[]),Q.hasNullElements(t))throw new a;this.geometries=t}function ce(){var t=arguments[0],e=arguments[1];xt.call(this,t,e)}function pn(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,arguments.length===1){var t=arguments[0];pn.call(this,t,st.MOD2_BOUNDARY_RULE)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function Ls(){this.count=null}function To(){}function Oo(){}function _o(){}function Ao(){}function Do(){}function Fo(){}function ye(){}function kt(){}function mt(){this.points=null;var t=arguments[0],e=arguments[1];Q.call(this,e),this.init(t)}function wi(){}function At(){this.coordinates=null;var t=arguments[0],e=arguments[1];Q.call(this,e),this.init(t)}function en(){}function Mt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(Q.call(this,n),t===null&&(t=this.getFactory().createLinearRing()),e===null&&(e=[]),Q.hasNullElements(e))throw new a;if(t.isEmpty()&&Q.hasNonEmptyElements(e))throw new a;this.shell=t,this.holes=e}function fe(){var t=arguments[0],e=arguments[1];xt.call(this,t,e)}function qt(){if(arguments[0]instanceof v&&arguments[1]instanceof yt){var t=arguments[0],e=arguments[1];qt.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(X(arguments[0],G)&&arguments[1]instanceof yt){var n=arguments[0],r=arguments[1];mt.call(this,n,r),this.validateConstruction()}}function Zt(){var t=arguments[0],e=arguments[1];xt.call(this,t,e)}function xe(){if(this.factory=null,this.isUserDataCopied=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.factory=t}}}function Si(){}function Rs(){}function bs(){}function Ms(){}function Ee(){if(this.dimension=3,this.coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];Ee.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this.coordinates[n]=new v}else if(X(arguments[0],G)){var r=arguments[0];if(r===null)return this.coordinates=new Array(0).fill(null),null;this.dimension=r.getDimension(),this.coordinates=new Array(r.size()).fill(null);for(var n=0;n<this.coordinates.length;n++)this.coordinates[n]=r.getCoordinateCopy(n)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],o=arguments[1];this.coordinates=s,this.dimension=o,s===null&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],x=arguments[1];this.coordinates=new Array(l).fill(null),this.dimension=x;for(var n=0;n<l;n++)this.coordinates[n]=new v}}}function mn(){}function qo(t,e){return t===e||t!==t&&e!==e}function Go(t,e){function n(r){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(r&&Bo.call(this,r))):new n(r)}return $o(t,"size",{get:Jo}),t.constructor=n,n.prototype=t,n}function Bo(t){this.add?t.forEach(this.add,this):t.forEach(function(e){this.set(e[0],e[1])},this)}function zo(t){return this.has(t)&&(this._keys.splice(Ke,1),this._values.splice(Ke,1),this._itp.forEach(function(e){Ke<e[0]&&e[0]--})),Ke>-1}function Vo(t){return this.has(t)?this._values[Ke]:void 0}function ko(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||e===0)for(Ke=t.length;Ke--&&!qo(t[Ke],e););else Ke=t.indexOf(e);return Ke>-1}function Xo(t){return ko.call(this,this._keys,t)}function Uo(t,e){return this.has(t)?this._values[Ke]=e:this._values[this._keys.push(t)-1]=e,this}function Yo(){(this._keys||0).length=this._values.length=0}function Ho(){return Ps(this._itp,this._keys)}function Wo(){return Ps(this._itp,this._values)}function Zo(){return Ps(this._itp,this._keys,this._values)}function Ps(t,e,n){var r=[0],s=!1;return t.push(r),{next:function(){var o,l=r[0];return!s&&l<e.length?(o=n?[e[l],n[l]]:e[l],r[0]++):(s=!0,t.splice(t.indexOf(r),1)),{done:s,value:o}}}}function Jo(){return this._values.length}function jo(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}}function nn(){this.map_=new ea}function St(){if(this.modelType=null,this.scale=null,arguments.length===0)this.modelType=St.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Xe){var t=arguments[0];this.modelType=t,t===St.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var e=arguments[0];this.modelType=St.FIXED,this.setScale(e)}else if(arguments[0]instanceof St){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}}function Xe(){this.name=null;var t=arguments[0];this.name=t,Xe.nameToTypeMap.put(t,this)}function yt(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,arguments.length===0)yt.call(this,new St,0);else if(arguments.length===1){if(X(arguments[0],rt)){var t=arguments[0];yt.call(this,new St,0,t)}else if(arguments[0]instanceof St){var e=arguments[0];yt.call(this,e,0,yt.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];yt.call(this,n,r,yt.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.precisionModel=s,this.coordinateSequenceFactory=l,this.SRID=o}}function Ts(t){this.geometryFactory=t||new yt}function $t(t){this.parser=new Ts(t)}function Pt(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new v,this.intPt[1]=new v,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function Ht(){Pt.apply(this)}function Vn(){}function kn(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function nt(){}function dt(){if(this.p0=null,this.p1=null,arguments.length===0)dt.call(this,new v,new v);else if(arguments.length===1){var t=arguments[0];dt.call(this,t.p0,t.p1)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(arguments.length===4){var r=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3];dt.call(this,new v(r,s),new v(o,l))}}function bt(){if(this.matrix=null,arguments.length===0)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(tt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var t=arguments[0];bt.call(this),this.set(t)}else if(arguments[0]instanceof bt){var e=arguments[0];bt.call(this),this.matrix[L.INTERIOR][L.INTERIOR]=e.matrix[L.INTERIOR][L.INTERIOR],this.matrix[L.INTERIOR][L.BOUNDARY]=e.matrix[L.INTERIOR][L.BOUNDARY],this.matrix[L.INTERIOR][L.EXTERIOR]=e.matrix[L.INTERIOR][L.EXTERIOR],this.matrix[L.BOUNDARY][L.INTERIOR]=e.matrix[L.BOUNDARY][L.INTERIOR],this.matrix[L.BOUNDARY][L.BOUNDARY]=e.matrix[L.BOUNDARY][L.BOUNDARY],this.matrix[L.BOUNDARY][L.EXTERIOR]=e.matrix[L.BOUNDARY][L.EXTERIOR],this.matrix[L.EXTERIOR][L.INTERIOR]=e.matrix[L.EXTERIOR][L.INTERIOR],this.matrix[L.EXTERIOR][L.BOUNDARY]=e.matrix[L.EXTERIOR][L.BOUNDARY],this.matrix[L.EXTERIOR][L.EXTERIOR]=e.matrix[L.EXTERIOR][L.EXTERIOR]}}}function rn(){this.areaBasePt=null,this.triangleCent3=new v,this.areasum2=0,this.cg3=new v,this.lineCentSum=new v,this.totalLength=0,this.ptCount=0,this.ptCentSum=new v;var t=arguments[0];this.areaBasePt=null,this.add(t)}function Li(t){this.message=t||""}function re(){this.array_=[]}function ar(){this.treeSet=new Jt,this.list=new C}function sn(){if(this.geomFactory=null,this.inputPts=null,arguments.length===1){var t=arguments[0];sn.call(this,sn.extractCoordinates(t),t.getFactory())}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.inputPts=ar.filterCoordinates(e),this.geomFactory=n}}function ur(){this.origin=null;var t=arguments[0];this.origin=t}function oe(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function lr(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new dt,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof mt&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];lr.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];this.srcPts=n,this._isClosed=lr.isClosed(n),this.snapTolerance=r}}function ie(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function Pr(){if(oe.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,arguments.length===2){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.snapTolerance=n,this.snapPts=r,this.isSelfSnap=s}}function Ie(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Tr(){this.commonCoord=null,this.ccFilter=new Ri}function Ri(){this.commonBitsX=new Ie,this.commonBitsY=new Ie}function Or(){this.trans=null;var t=arguments[0];this.trans=t}function Xn(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function Un(){if(this.boundaryRule=st.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new a;this.boundaryRule=t}}}function hr(){}function _r(){}function Os(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function bi(){}function on(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function _s(){this._size=null,this.items=null,this._size=0,this.items=new C,this.items.add(null)}function Cn(){}function Mi(){}function se(){if(this.childBoundables=new C,this.bounds=null,this.level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.level=t}}}function ae(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function Gt(){if(this.root=null,this.built=!1,this.itemBoundables=new C,this.nodeCapacity=null,arguments.length===0)Gt.call(this,Gt.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var t=arguments[0];I.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Ko(){}function Pi(){}function Dt(){if(arguments.length===0)Dt.call(this,Dt.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var t=arguments[0];Gt.call(this,t)}}function Ar(){var t=arguments[0];se.call(this,t)}function ue(){}function As(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.segString=t,this.coord=new v(e),this.segmentIndex=n,this.segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Ds(){this.nodeMap=new Vt,this.edge=null;var t=arguments[0];this.edge=t}function wo(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function Fs(){}function Ue(){this.nodeList=new Ds(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Dr(){this.tempEnv1=new B,this.tempEnv2=new B,this.overlapSeg1=new dt,this.overlapSeg2=new dt}function qs(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=r}function Nt(){}function Ae(){}function Fr(){}function Ti(){if(this.segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}}function wn(){if(this.monoChains=new C,this.index=new Dt,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,arguments.length!==0){if(arguments.length===1){var t=arguments[0];Ti.call(this,t)}}}function qr(){Dr.apply(this),this.si=null;var t=arguments[0];this.si=t}function ge(){if(this.pt=null,arguments.length===1){var t=arguments[0];N.call(this,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];N.call(this,ge.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new v(n)}}function Gr(){}function vn(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new C,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function Br(){this.li=new Ht,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function Yn(){this.nv=null;var t=arguments[0];this.nv=new Br(Yn.toSegmentStrings(t))}function cr(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function et(){}function de(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[et.ON]=e}else if(arguments[0]instanceof de){var n=arguments[0];if(this.init(n.location.length),n!==null)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.init(3),this.location[et.ON]=s,this.location[et.LEFT]=o,this.location[et.RIGHT]=l}}function Bt(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new de(t),this.elt[1]=new de(t)}else if(arguments[0]instanceof Bt){var e=arguments[0];this.elt[0]=new de(e.elt[0]),this.elt[1]=new de(e.elt[1])}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[0]=new de(L.NONE),this.elt[1]=new de(L.NONE),this.elt[n].setLocation(r)}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.elt[0]=new de(s,o,l),this.elt[1]=new de(s,o,l)}else if(arguments.length===4){var x=arguments[0],A=arguments[1],V=arguments[2],Z=arguments[3];this.elt[0]=new de(L.NONE,L.NONE,L.NONE),this.elt[1]=new de(L.NONE,L.NONE,L.NONE),this.elt[x].setLocations(A,V,Z)}}function fr(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new C,this.pts=new C,this.label=new Bt(L.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new C,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function Oi(){var t=arguments[0],e=arguments[1];fr.call(this,t,e)}function zr(){var t=arguments[0],e=arguments[1];fr.call(this,t,e)}function Sn(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.label=t}}}function an(){Sn.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new Bt(0,L.NONE)}function gr(){this.nodeMap=new Vt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function Ye(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,arguments.length===1){var t=arguments[0];this.edge=t}else if(arguments.length===3){var e=arguments[0],n=arguments[1],r=arguments[2];Ye.call(this,e,n,r,null)}else if(arguments.length===4){var s=arguments[0],o=arguments[1],l=arguments[2],x=arguments[3];Ye.call(this,s),this.init(o,l),this.label=x}}function Hn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(Ye.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function Wn(){}function He(){if(this.edges=new C,this.nodes=null,this.edgeEndList=new C,arguments.length===0)this.nodes=new gr(new Wn);else if(arguments.length===1){var t=arguments[0];this.nodes=new gr(t)}}function _i(){this.geometryFactory=null,this.shellList=new C;var t=arguments[0];this.geometryFactory=t}function Gs(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new C,this.resultLineList=new C;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function Bs(){this.op=null,this.geometryFactory=null,this.resultPointList=new C;var t=arguments[0],e=arguments[1];this.op=t,this.geometryFactory=e}function Ai(){}function Ne(){this.geom=null;var t=arguments[0];this.geom=t}function Zn(){this.edgeMap=new Vt,this.edgeList=null,this.ptInAreaLocation=[L.NONE,L.NONE]}function Di(){Zn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function dr(){Wn.apply(this)}function zs(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function un(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,arguments.length===2){var t=arguments[0],e=arguments[1];this.eventType=un.DELETE,this.xValue=t,this.insertEvent=e}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.eventType=un.INSERT,this.label=n,this.xValue=r,this.obj=s}}function Fi(){}function Ln(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function qi(){Fi.apply(this),this.events=new C,this.nOverlaps=null}function Jn(){this.min=c.POSITIVE_INFINITY,this.max=c.NEGATIVE_INFINITY}function Vs(){}function Gi(){Jn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function Bi(){Jn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function ks(){this.leaves=new C,this.root=null,this.level=0}function te(){if(this.lines=null,this.isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this.lines=t}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function zi(){this.items=new C}function Vr(){this.index=null;var t=arguments[0];if(!X(t,en))throw new a;this.index=new ki(t)}function Vi(){this.counter=null;var t=arguments[0];this.counter=t}function ki(){this.index=new ks;var t=arguments[0];this.init(t)}function Xs(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new v(t),this.segmentIndex=e,this.dist=n}function Us(){this.nodeMap=new Vt,this.edge=null;var t=arguments[0];this.edge=t}function kr(){}function Ys(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new B,this.env2=new B;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new kr;this.startIndex=e.getChainStartIndices(this.pts)}function De(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this.depth[t][e]=De.NULL_VALUE}function be(){if(Sn.apply(this),this.pts=null,this.env=null,this.eiList=new Us(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new De,this.depthDelta=0,arguments.length===1){var t=arguments[0];be.call(this,t,null)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function le(){if(He.apply(this),this.parentGeom=null,this.lineEdgeMap=new nn,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Un,arguments.length===2){var t=arguments[0],e=arguments[1];le.call(this,t,e,st.OGC_SFS_BOUNDARY_RULE)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.argIndex=n,this.parentGeom=r,this.boundaryNodeRule=s,r!==null&&this.add(r)}}function Rn(){if(this.li=new Ht,this.resultPrecisionModel=null,this.arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new le(0,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];Rn.call(this,e,n,st.OGC_SFS_BOUNDARY_RULE)}else if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2];r.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new le(0,r,o),this.arg[1]=new le(1,s,o)}}function bn(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=bn.orientation(t)}function Xi(){this.edges=new C,this.ocaMap=new Vt}function ht(){this.ptLocator=new Un,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Xi,this.resultPolyList=new C,this.resultLineList=new C,this.resultPointList=new C;var t=arguments[0],e=arguments[1];Rn.call(this,t,e),this.graph=new He(new dr),this.geomFact=t.getFactory()}function Me(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function Wt(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function Fe(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function pr(){this.poly=null,this.centreY=null,this.hiY=c.MAX_VALUE,this.loY=-c.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=Fe.avg(this.loY,this.hiY)}function Ui(){this.centroid=null,this.minDistance=c.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),this.interiorPoint===null&&this.addEndpoints(t)}function Yi(){this.centroid=null,this.minDistance=c.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function Mn(){this.tempEnv1=new B,this.selectedSegment=new dt}function We(){this.items=new C,this.subnode=[null,null]}function ln(){if(this.min=null,this.max=null,arguments.length===0)this.min=0,this.max=0;else if(arguments.length===1){var t=arguments[0];this.init(t.min,t.max)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.init(e,n)}}function jn(){}function Qo(t,e){var n,r,s,o,l={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},x={32:8,64:11}[t];if(o||(n=e<0||1/e<0,isFinite(e)||(o=l[t],n&&(o.d+=1<<t/4-1),r=Math.pow(2,x)-1,s=0)),!o){for(r={32:127,64:1023}[t],s=Math.abs(e);s>=2;)r++,s/=2;for(;s<1&&r>0;)r--,s*=2;r<=0&&(s/=2)}return r}function Xr(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function yn(){We.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function Pn(){}function mr(){We.apply(this)}function vr(){this.root=null,this.minExtent=1,this.root=new mr}function Hs(){}function Ur(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new ln;var t=arguments[0];this.ring=t,this.buildIndex()}function Yr(){Mn.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function pt(){}function Tt(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function xn(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function ee(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new dt,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,arguments.length===1){var t=arguments[0];ee.call(this,t,!1)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function Tn(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function Hr(){oe.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function hn(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function pe(){this._isMarked=!1;var t=arguments[0];hn.call(this,t)}function yr(){this.vertexMap=new nn}function Hi(){this._isStart=!1;var t=arguments[0];pe.call(this,t)}function Wi(){yr.apply(this)}function Wr(){this.result=null,this.factory=null,this.graph=null,this.lines=new C,this.nodeEdgeStack=new re,this.ringStartEdge=null,this.graph=new Wi}function Ze(){this.items=new C,this.subnode=new Array(4).fill(null)}function Zr(){this.pt=new v,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function En(){Ze.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function Kn(){Ze.apply(this)}function On(){this.root=null,this.minExtent=1,this.root=new Kn}function Ws(t){this.geometryFactory=t||new yt}function So(t){this.geometryFactory=t||new yt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ws(this.geometryFactory)}function Lo(){this.parser=new Ws(this.geometryFactory)}function Ro(t){this.geometryFactory=t||new yt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ts(this.geometryFactory)}function Jr(t){return[t.x,t.y]}function bo(t,e){this.geometryFactory=t||new yt,this.ol=e||typeof ol<"u"&&ol}function jr(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,arguments.length===2){var t=arguments[0],e=arguments[1];jr.call(this,t,e,0,0)}else if(arguments.length===4){var n=arguments[0],r=arguments[1];this.noder=n,this.scaleFactor=r,this.isScaled=!this.isIntegerPrecision()}}function Kr(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,arguments.length===1){var t=arguments[0];this.inputGeom=t}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Zi(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function Ct(){if(this.quadrantSegments=Ct.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Ct.CAP_ROUND,this.joinStyle=Ct.JOIN_ROUND,this.mitreLimit=Ct.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Ct.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(arguments.length===4){var r=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(s),this.setJoinStyle(o),this.setMitreLimit(l)}}}function Zs(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Ji(){this.array_=[]}function Js(){this.finder=null,this.dirEdgeList=new C,this.nodes=new C,this.rightMostCoord=null,this.env=null,this.finder=new Zs}function jt(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=nt.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Qr(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new C}function Je(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new dt,this.seg1=new dt,this.offset0=new dt,this.offset1=new dt,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new Ht,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Ct.JOIN_ROUND&&(this.closingSegLengthFactor=Je.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function $r(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function ji(){this.subgraphs=null,this.seg=new dt,this.cga=new nt;var t=arguments[0];this.subgraphs=t}function Ki(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new dt(t),this.leftDepth=e}function js(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new C;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function ti(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function _n(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Xi;var t=arguments[0];this.bufParams=t}function ei(){this.li=new Ht,this.segStrings=null;var t=arguments[0];this.segStrings=t}function xr(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,e<=0)throw new a;e!==1&&(this.pt=new v(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new v,this.p1Scaled=new v),this.initCorners(this.pt)}function Qi(){this.index=null;var t=arguments[0];this.index=t}function ni(){Mn.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function Ks(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new C}function Qs(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new Ht,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function Kt(){if(this.argGeom=null,this.distance=null,this.bufParams=new Ct,this.resultGeometry=null,this.saveException=null,arguments.length===1){var t=arguments[0];this.argGeom=t}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function Qn(){this.comps=null;var t=arguments[0];this.comps=t}function me(){if(this.component=null,this.segIndex=null,this.pt=null,arguments.length===2){var t=arguments[0],e=arguments[1];me.call(this,t,me.INSIDE_AREA,e)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.component=n,this.segIndex=r,this.pt=s}}function $n(){this.pts=null;var t=arguments[0];this.pts=t}function ri(){this.locations=null;var t=arguments[0];this.locations=t}function qe(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Un,this.minDistanceLocation=null,this.minDistance=c.MAX_VALUE,arguments.length===2){var t=arguments[0],e=arguments[1];qe.call(this,t,e,0)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=r,this.terminateDistance=s}}function $s(){this.factory=null,this.directedEdges=new C,this.coordinates=null;var t=arguments[0];this.factory=t}function Pe(){this._isMarked=!1,this._isVisited=!1,this.data=null}function Ce(){Pe.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.from=t,this.to=e,this.edgeDirection=r,this.p0=t.getCoordinate(),this.p1=n;var s=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Nt.quadrant(s,o),this.angle=Math.atan2(o,s)}function ii(){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];Ce.call(this,t,e,n,r)}function je(){if(Pe.apply(this),this.dirEdge=null,arguments.length!==0){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}}function to(){this.outEdges=new C,this.sorted=!1}function cn(){if(Pe.apply(this),this.pt=null,this.deStar=null,arguments.length===1){var t=arguments[0];cn.call(this,t,new to)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function $i(){je.apply(this),this.line=null;var t=arguments[0];this.line=t}function eo(){this.nodeMap=new Vt}function Er(){this.edges=new Rt,this.dirEdges=new Rt,this.nodeMap=new eo}function ts(){Er.apply(this)}function no(){this.graph=new ts,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function si(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];Ce.call(this,t,e,n,r)}function es(){je.apply(this),this.line=null;var t=arguments[0];this.line=t}function oi(){this.geometryFactory=new yt,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function ns(){}function ai(){if(this.edgeEnds=new C,arguments.length===1){var t=arguments[0];ai.call(this,null,t)}else if(arguments.length===2){var e=arguments[1];Ye.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new Bt(e.getLabel())),this.insert(e)}}function rs(){Zn.apply(this)}function is(){var t=arguments[0],e=arguments[1];an.call(this,t,e)}function ui(){Wn.apply(this)}function ro(){this.nodes=new gr(new ui)}function ss(){this.li=new Ht,this.geomGraph=null,this.nodeGraph=new ro,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function io(){this.graph=null,this.rings=new C,this.totalEnv=new B,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function It(){if(this.errorType=null,this.pt=null,arguments.length===1){var t=arguments[0];It.call(this,t,null)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.errorType=e,n!==null&&(this.pt=n.copy())}}function we(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function Ge(){this.factory=null,this.deList=new C,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function so(){}function Ut(){Er.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function ve(){if(this.lineStringAdder=new os(this),this.graph=null,this.dangles=new C,this.cutEdges=new C,this.invalidRingLines=new C,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,arguments.length===0)ve.call(this,!1);else if(arguments.length===1){var t=arguments[0];this.extractOnlyPolygonal=t}}function os(){this.p=null;var t=arguments[0];this.p=t}function as(){this.li=new Ht,this.ptLocator=new Un,this.arg=null,this.nodes=new gr(new ui),this.im=null,this.isolatedEdges=new C,this.invalidPoint=null;var t=arguments[0];this.arg=t}function li(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function oo(){this.li=new Ht,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new v(t.getMinX(),t.getMinY()),this.diagUp1=new v(t.getMaxX(),t.getMaxY()),this.diagDown0=new v(t.getMinX(),t.getMaxY()),this.diagDown1=new v(t.getMaxX(),t.getMinY())}function An(){this._isDone=!1}function Ir(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function us(){An.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function ls(){An.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function hs(){An.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new v,this.p1=new v;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new oo(this.rectEnv)}function wt(){if(this._relate=null,arguments.length===2){var t=arguments[0],e=arguments[1];Rn.call(this,t,e),this._relate=new as(this.arg)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];Rn.call(this,n,r,s),this._relate=new as(this.arg)}}function Se(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Se.extractFactory(t),this.inputGeoms=t}function hi(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Dn(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Te(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,this.inputPolys===null&&(this.inputPolys=new C)}function Fn(){if(this.polygons=new C,this.lines=new C,this.points=new C,this.geomFact=null,arguments.length===1){if(X(arguments[0],w)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof Q){var e=arguments[0];this.extract(e)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.geomFact=r,this.extract(n)}}function cs(){xe.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function tr(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function ci(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new dt;var t=arguments[0];this.pts=t}function Nr(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function fi(){oe.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function gi(){if(this.parent=null,this.index=null,arguments.length===2){var t=arguments[0],e=arguments[1];gi.call(this,t,e,null,-1)}else if(arguments.length===4){var n=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3];dt.call(this,n,r),this.parent=s,this.index=o}}function In(){if(this.parentLine=null,this.segs=null,this.resultSegs=new C,this.minimumSize=null,arguments.length===1){var t=arguments[0];In.call(this,t,2)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function Cr(){this.index=new On}function ao(){this.querySeg=null,this.items=new C;var t=arguments[0];this.querySeg=t}function di(){this.li=new Ht,this.inputIndex=new Cr,this.outputIndex=new Cr,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function uo(){this.inputIndex=new Cr,this.outputIndex=new Cr,this.distanceTolerance=0}function er(){this.inputGeom=null,this.lineSimplifier=new uo,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function pi(){oe.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function fs(){this.tps=null;var t=arguments[0];this.tps=t}function wr(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function lo(){}function mi(){}function _t(){}function Lt(){if(this.p=null,arguments.length===1){var t=arguments[0];this.p=new v(t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.p=new v(e,n)}else if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2];this.p=new v(r,s,o)}}function qn(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];Lt.call(this,t)}function Ft(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function vi(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function ho(){}function gs(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function Sr(){if(this.seg=null,arguments.length===1){if(typeof arguments[0]=="string"){var t=arguments[0];N.call(this,t)}else if(arguments[0]instanceof dt){var e=arguments[0];N.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new dt(e)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];N.call(this,Sr.msgWithSpatial(n,r)),this.seg=new dt(r)}}function Lr(){}function Le(){this.visitedKey=0,this.quadEdges=new C,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new dt,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/Le.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new gs(this)}function ds(){}function ps(){this.triList=new C}function ms(){this.triList=new C}function vs(){this.coordList=new q,this.triCoords=new C}function nr(){if(this.ls=null,this.data=null,arguments.length===2){var t=arguments[0],e=arguments[1];this.ls=new dt(t,e)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.ls=new dt(n,r),this.data=s}else if(arguments.length===6){var o=arguments[0],l=arguments[1],x=arguments[2],A=arguments[3],V=arguments[4],Z=arguments[5];nr.call(this,new v(o,l,x),new v(A,V,Z))}else if(arguments.length===7){var K=arguments[0],$=arguments[1],ut=arguments[2],ft=arguments[3],gt=arguments[4],Ot=arguments[5],Xt=arguments[6];nr.call(this,new v(K,$,ut),new v(ft,gt,Ot),Xt)}}function yi(){}function ys(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,arguments.length===2){var t=arguments[0],e=arguments[1];this.p=new v(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.p=new v(n,r),this.left=null,this.right=null,this.count=1,this.data=s}}function rr(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,arguments.length===0)rr.call(this,0);else if(arguments.length===1){var t=arguments[0];this.tolerance=t}}function xs(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Gn(){this.initialVertices=null,this.segVertices=null,this.segments=new C,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new mi,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new C(t),this.tolerance=e,this.kdt=new rr(e)}function ne(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Rr(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new Vt}function xi(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Es(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var s=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:n;for(s=s<0?Math.max(n+arguments[2],0):Math.min(s,n);r<s;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!==t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)},d(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),S.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},c.isNaN=function(t){return Number.isNaN(t)},c.doubleToLongBits=function(t){return t},c.longBitsToDouble=function(t){return t},c.isInfinite=function(t){return!Number.isFinite(t)},c.MAX_VALUE=Number.MAX_VALUE,N.prototype=Object.create(Error.prototype),N.prototype.constructor=Error,y(R,N),d(R.prototype,{interfaces_:function(){return[]},getClass:function(){return R}}),d(I.prototype,{interfaces_:function(){return[]},getClass:function(){return I}}),I.shouldNeverReachHere=function(){if(arguments.length===0)I.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new R("Should never reach here"+(t!==null?": "+t:""))}},I.isTrue=function(){if(arguments.length===1){var t=arguments[0];I.isTrue(t,null)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(!e)throw n===null?new R:new R(n)}},I.equals=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];I.equals(t,e,null)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];if(!r.equals(n))throw new R("Expected "+n+" but encountered "+r+(s!==null?": "+s:""))}},d(v.prototype,{setOrdinate:function(t,e){switch(t){case v.X:this.x=e;break;case v.Y:this.y=e;break;case v.Z:this.z=e;break;default:throw new a}},equals2D:function(){if(arguments.length===1){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(arguments.length===2){var e=arguments[0],n=arguments[1];return!!S.equalsWithTolerance(this.x,e.x,n)&&!!S.equalsWithTolerance(this.y,e.y,n)}},getOrdinate:function(t){switch(t){case v.X:return this.x;case v.Y:return this.y;case v.Z:return this.z}throw new a},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||c.isNaN(this.z)&&c.isNaN(t.z))},equals:function(t){return t instanceof v&&this.equals2D(t)},equalInZ:function(t,e){return S.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{var t=null;return t}catch(e){if(e instanceof CloneNotSupportedException)return I.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}finally{}},copy:function(){return new v(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+v.hashCode(this.x),t=37*t+v.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[f,p,m]},getClass:function(){return v}}),v.hashCode=function(){if(arguments.length===1){var t=arguments[0],e=c.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},d(M.prototype,{compare:function(t,e){var n=t,r=e,s=M.compare(n.x,r.x);if(s!==0)return s;var o=M.compare(n.y,r.y);if(o!==0)return o;if(this.dimensionsToTest<=2)return 0;var l=M.compare(n.z,r.z);return l},interfaces_:function(){return[g]},getClass:function(){return M}}),M.compare=function(t,e){return t<e?-1:t>e?1:c.isNaN(t)?c.isNaN(e)?0:-1:c.isNaN(e)?1:0},v.DimensionalComparator=M,v.serialVersionUID=6683108902428367e3,v.NULL_ORDINATE=c.NaN,v.X=0,v.Y=1,v.Z=2,T.prototype.hasNext=function(){},T.prototype.next=function(){},T.prototype.remove=function(){},w.prototype.add=function(){},w.prototype.addAll=function(){},w.prototype.isEmpty=function(){},w.prototype.iterator=function(){},w.prototype.size=function(){},w.prototype.toArray=function(){},w.prototype.remove=function(){},b.prototype=new Error,b.prototype.name="IndexOutOfBoundsException",P.prototype=Object.create(w.prototype),P.prototype.constructor=P,P.prototype.get=function(){},P.prototype.set=function(){},P.prototype.isEmpty=function(){},O.prototype=new Error,O.prototype.name="NoSuchElementException",D.prototype=new Error,D.prototype.name="OperationNotSupported",C.prototype=Object.create(P.prototype),C.prototype.constructor=C,C.prototype.ensureCapacity=function(){},C.prototype.interfaces_=function(){return[P,w]},C.prototype.add=function(t){return arguments.length===1?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},C.prototype.clear=function(){this.array_=[]},C.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},C.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},C.prototype.iterator=function(){return new Ei(this)},C.prototype.get=function(t){if(t<0||t>=this.size())throw new b;return this.array_[t]},C.prototype.isEmpty=function(){return this.array_.length===0},C.prototype.size=function(){return this.array_.length},C.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},C.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Ei=function(t){this.arrayList_=t,this.position_=0};Ei.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new O;return this.arrayList_.get(this.position_++)},Ei.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Ei.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Ei.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},y(q,C),d(q.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(arguments.length===2){for(var t=arguments[0],e=arguments[1],n=!1,r=t.iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return C.prototype.addAll.apply(this,arguments)},clone:function(){for(var e=C.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},toCoordinateArray:function(){return this.toArray(q.coordArrayType)},add:function(){if(arguments.length===1){var t=arguments[0];C.prototype.add.call(this,t)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof v&&typeof arguments[1]=="boolean"){var r=arguments[0],s=arguments[1];if(!s&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(r))return null}C.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var l=arguments[0],x=arguments[1];return this.add(l,x),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var A=arguments[0],V=arguments[1],Z=arguments[2];if(Z)for(var K=0;K<A.length;K++)this.add(A[K],V);else for(var K=A.length-1;K>=0;K--)this.add(A[K],V);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof v){var $=arguments[0],ut=arguments[1],ft=arguments[2];if(!ft){var gt=this.size();if(gt>0){if($>0){var Ot=this.get($-1);if(Ot.equals2D(ut))return null}if($<gt){var Xt=this.get($);if(Xt.equals2D(ut))return null}}}C.prototype.add.call(this,$,ut)}}else if(arguments.length===4){var Ve=arguments[0],ir=arguments[1],Cs=arguments[2],ws=arguments[3],Ss=1;Cs>ws&&(Ss=-1);for(var K=Cs;K!==ws;K+=Ss)this.add(Ve[K],ir);return!0}},closeRing:function(){this.size()>0&&this.add(new v(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return q}}),q.coordArrayType=new Array(0).fill(null),d(B.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof B))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new B;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny,r=this.maxx<t.maxx?this.maxx:t.maxx,s=this.maxy<t.maxy?this.maxy:t.maxy;return new B(e,r,n,s)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(arguments.length===1){if(arguments[0]instanceof v){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof B){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&r>=this.miny&&r<=this.maxy}},intersects:function(){if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof v){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||r>this.maxy||r<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(arguments.length===1){if(arguments[0]instanceof v){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof B){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=r,this.maxy=r):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),r<this.miny&&(this.miny=r),r>this.maxy&&(this.maxy=r))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(arguments.length===1){if(arguments[0]instanceof B){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof v){var e=arguments[0];return this.covers(e)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},centre:function(){return this.isNull()?null:new v((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof v){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof B){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(arguments.length===4){var s=arguments[0],o=arguments[1],l=arguments[2],x=arguments[3];s<o?(this.minx=s,this.maxx=o):(this.minx=o,this.maxx=s),l<x?(this.miny=l,this.maxy=x):(this.miny=x,this.maxy=l)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),e===0?n:n===0?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+v.hashCode(this.minx),t=37*t+v.hashCode(this.maxx),t=37*t+v.hashCode(this.miny),t=37*t+v.hashCode(this.maxy)},interfaces_:function(){return[f,m]},getClass:function(){return B}}),B.intersects=function(){if(arguments.length===3){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(arguments.length===4){var r=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3],x=Math.min(o.x,l.x),A=Math.max(o.x,l.x),V=Math.min(r.x,s.x),Z=Math.max(r.x,s.x);return!(V>A)&&!(Z<x)&&(x=Math.min(o.y,l.y),A=Math.max(o.y,l.y),V=Math.min(r.y,s.y),Z=Math.max(r.y,s.y),!(V>A)&&!(Z<x))}},B.serialVersionUID=5873921885273102e3,y(W,U),d(W.prototype,{interfaces_:function(){return[]},getClass:function(){return W}}),d(L.prototype,{interfaces_:function(){return[]},getClass:function(){return L}}),L.toLocationSymbol=function(t){switch(t){case L.EXTERIOR:return"e";case L.BOUNDARY:return"b";case L.INTERIOR:return"i";case L.NONE:return"-"}throw new a},L.INTERIOR=0,L.BOUNDARY=1,L.EXTERIOR=2,L.NONE=-1,d(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),ot.log10=function(t){var e=Math.log(t);return c.isInfinite(e)||c.isNaN(e)?e:e/ot.LOG_10},ot.min=function(t,e,n,r){var s=t;return e<s&&(s=e),n<s&&(s=n),r<s&&(s=r),s},ot.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],s=arguments[1],o=arguments[2];return r<s?s:r>o?o:r}},ot.wrap=function(t,e){return t<0?e- -t%e:t%e},ot.max=function(){if(arguments.length===3){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(arguments.length===4){var s=arguments[0],o=arguments[1],l=arguments[2],x=arguments[3],r=s;return o>r&&(r=o),l>r&&(r=l),x>r&&(r=x),r}},ot.average=function(t,e){return(t+e)/2},ot.LOG_10=Math.log(10),F.prototype.append=function(t){this.str+=t},F.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},F.prototype.toString=function(t){return this.str},Y.prototype.intValue=function(){return this.value},Y.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Y.isNaN=function(t){return Number.isNaN(t)},H.isWhitespace=function(t){return t<=32&&t>=0||t==127},H.toUpperCase=function(t){return t.toUpperCase()},d(z.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),r=z.magnitude(n.hi),s=z.TEN.pow(r);n=n.divide(s),n.gt(z.TEN)?(n=n.divide(z.TEN),r+=1):n.lt(z.ONE)&&(n=n.multiply(z.TEN),r-=1);for(var o=r+1,l=new F,x=z.MAX_PRINT_DIGITS-1,A=0;A<=x;A++){t&&A===o&&l.append(".");var V=Math.trunc(n.hi);if(V<0)break;var Z=!1,K=0;V>9?(Z=!0,K="9"):K="0"+V,l.append(K),n=n.subtract(z.valueOf(V)).multiply(z.TEN),Z&&n.selfAdd(z.TEN);var $=!0,ut=z.magnitude(n.hi);if(ut<0&&Math.abs(ut)>=x-A&&($=!1),!$)break}return e[0]=r,l.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof z){var t=arguments[0];return this.add(t.negate())}if(typeof arguments[0]=="number"){var e=arguments[0];return this.add(-e)}},equals:function(){if(arguments.length===1){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return this.hi===0&&this.lo===0},selfSubtract:function(){if(arguments[0]instanceof z){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if(typeof arguments[0]=="number"){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(arguments.length===1){if(arguments[0]instanceof z){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if(typeof arguments[0]=="number"){var e=arguments[0];return this.selfDivide(e,0)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],s=null,o=null,l=null,x=null,A=null,V=null,Z=null,K=null;return A=this.hi/n,V=z.SPLIT*A,s=V-A,K=z.SPLIT*n,s=V-s,o=A-s,l=K-n,Z=A*n,l=K-l,x=n-l,K=s*l-Z+s*x+o*l+o*x,V=(this.hi-Z-K+this.lo-A*r)/n,K=A+V,this.hi=K,this.lo=A-K+V,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof z){var t=arguments[0],e=null,n=null,r=null,s=null,o=null,l=null,x=null,A=null;o=this.hi/t.hi,l=z.SPLIT*o,e=l-o,A=z.SPLIT*t.hi,e=l-e,n=o-e,r=A-t.hi,x=o*t.hi,r=A-r,s=t.hi-r,A=e*r-x+e*s+n*r+n*s,l=(this.hi-x-A+this.lo-o*t.lo)/t.hi,A=o+l;var V=A,Z=o-A+l;return new z(V,Z)}if(typeof arguments[0]=="number"){var K=arguments[0];return c.isNaN(K)?z.createNaN():z.copy(this).selfDivide(K,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(t===0)return z.valueOf(1);var e=new z(this),n=z.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2===1&&n.selfMultiply(e),r/=2,r>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return z.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new z(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()},setValue:function(){if(arguments[0]instanceof z){var t=arguments[0];return this.init(t),this}if(typeof arguments[0]=="number"){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return z.valueOf(0);if(this.isNegative())return z.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=z.valueOf(e),r=this.subtract(n.sqr()),s=r.hi*(.5*t);return n.add(s)},selfAdd:function(){if(arguments.length===1){if(arguments[0]instanceof z){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if(typeof arguments[0]=="number"){var e=arguments[0],n=null,r=null,s=null,o=null,l=null,x=null;return s=this.hi+e,l=s-this.hi,o=s-l,o=e-l+(this.hi-o),x=o+this.lo,n=s+x,r=x+(s-n),this.hi=n+r,this.lo=r+(n-this.hi),this}}else if(arguments.length===2){var A=arguments[0],V=arguments[1],n=null,r=null,Z=null,K=null,s=null,o=null,l=null,x=null;s=this.hi+A,Z=this.lo+V,l=s-this.hi,x=Z-this.lo,o=s-l,K=Z-x,o=A-l+(this.hi-o),K=V-x+(this.lo-K),l=o+Z,n=s+l,r=l+(s-n),l=K+r;var $=n+l,ut=l+(n-$);return this.hi=$,this.lo=ut,this}},selfMultiply:function(){if(arguments.length===1){if(arguments[0]instanceof z){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if(typeof arguments[0]=="number"){var e=arguments[0];return this.selfMultiply(e,0)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],s=null,o=null,l=null,x=null,A=null,V=null;A=z.SPLIT*this.hi,s=A-this.hi,V=z.SPLIT*n,s=A-s,o=this.hi-s,l=V-n,A=this.hi*n,l=V-l,x=n-l,V=s*l-A+s*x+o*l+o*x+(this.hi*r+this.lo*n);var Z=A+V;s=A-Z;var K=V+s;return this.hi=Z,this.lo=K,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return z.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new z(t,e)},negate:function(){return this.isNaN()?this:new z(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}finally{}},multiply:function(){if(arguments[0]instanceof z){var t=arguments[0];return t.isNaN()?z.createNaN():z.copy(this).selfMultiply(t)}if(typeof arguments[0]=="number"){var e=arguments[0];return c.isNaN(e)?z.createNaN():z.copy(this).selfMultiply(e,0)}},isNaN:function(){return c.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=z.magnitude(this.hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(t!==null)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,s=n;if(n.charAt(0)===".")s="0"+n;else if(r<0)s="0."+z.stringOfChar("0",-r)+n;else if(n.indexOf(".")===-1){var o=r-n.length,l=z.stringOfChar("0",o);s=n+l+".0"}return this.isNegative()?"-"+s:s},reciprocal:function(){var t=null,e=null,n=null,r=null,s=null,o=null,l=null,x=null;s=1/this.hi,o=z.SPLIT*s,t=o-s,x=z.SPLIT*this.hi,t=o-t,e=s-t,n=x-this.hi,l=s*this.hi,n=x-n,r=this.hi-n,x=t*n-l+t*r+e*n+e*r,o=(1-l-x-s*this.lo)/this.hi;var A=s+o,V=s-A+o;return new z(A,V)},toSciNotation:function(){if(this.isZero())return z.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=z.SCI_NOT_EXPONENT_CHAR+e[0];if(n.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+n);var s="";n.length>1&&(s=n.substring(1));var o=n.charAt(0)+"."+s;return this.isNegative()?"-"+o+r:o+r},abs:function(){return this.isNaN()?z.NaN:this.isNegative()?this.negate():new z(this)},isPositive:function(){return this.hi>0||this.hi===0&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof z){var t=arguments[0];return z.copy(this).selfAdd(t)}if(typeof arguments[0]=="number"){var e=arguments[0];return z.copy(this).selfAdd(e)}},init:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof z){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.hi=n,this.lo=r}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||this.hi===0&&this.lo<0},trunc:function(){return this.isNaN()?z.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[m,f,p]},getClass:function(){return z}}),z.sqr=function(t){return z.valueOf(t).selfMultiply(t)},z.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return z.parse(t)}if(typeof arguments[0]=="number"){var e=arguments[0];return new z(e)}},z.sqrt=function(t){return z.valueOf(t).sqrt()},z.parse=function(t){for(var e=0,n=t.length;H.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var s=t.charAt(e);s!=="-"&&s!=="+"||(e++,s==="-"&&(r=!0))}for(var o=new z,l=0,x=0,A=0;!(e>=n);){var V=t.charAt(e);if(e++,H.isDigit(V)){var Z=V-"0";o.selfMultiply(z.TEN),o.selfAdd(Z),l++}else{if(V!=="."){if(V==="e"||V==="E"){var K=t.substring(e);try{A=Y.parseInt(K)}catch(gt){throw gt instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+K+" in string "+t):gt}finally{}break}throw new NumberFormatException("Unexpected character '"+V+"' at position "+e+" in string "+t)}x=l}}var $=o,ut=l-x-A;if(ut===0)$=o;else if(ut>0){var ft=z.TEN.pow(ut);$=o.divide(ft)}else if(ut<0){var ft=z.TEN.pow(-ut);$=o.multiply(ft)}return r?$.negate():$},z.createNaN=function(){return new z(c.NaN,c.NaN)},z.copy=function(t){return new z(t)},z.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n)),s=Math.pow(10,r);return 10*s<=e&&(r+=1),r},z.stringOfChar=function(t,e){for(var n=new F,r=0;r<e;r++)n.append(t);return n.toString()},z.PI=new z(3.141592653589793,12246467991473532e-32),z.TWO_PI=new z(6.283185307179586,24492935982947064e-32),z.PI_2=new z(1.5707963267948966,6123233995736766e-32),z.E=new z(2.718281828459045,14456468917292502e-32),z.NaN=new z(c.NaN,c.NaN),z.EPS=123259516440783e-46,z.SPLIT=134217729,z.MAX_PRINT_DIGITS=32,z.TEN=z.valueOf(10),z.ONE=z.valueOf(1),z.SCI_NOT_EXPONENT_CHAR="E",z.SCI_NOT_ZERO="0.0E0",d(J.prototype,{interfaces_:function(){return[]},getClass:function(){return J}}),J.orientationIndex=function(t,e,n){var r=J.orientationIndexFilter(t,e,n);if(r<=1)return r;var s=z.valueOf(e.x).selfAdd(-t.x),o=z.valueOf(e.y).selfAdd(-t.y),l=z.valueOf(n.x).selfAdd(-e.x),x=z.valueOf(n.y).selfAdd(-e.y);return s.selfMultiply(x).selfSubtract(o.selfMultiply(l)).signum()},J.signOfDet2x2=function(t,e,n,r){var s=t.multiply(r).selfSubtract(e.multiply(n));return s.signum()},J.intersection=function(t,e,n,r){var s=z.valueOf(r.y).selfSubtract(n.y).selfMultiply(z.valueOf(e.x).selfSubtract(t.x)),o=z.valueOf(r.x).selfSubtract(n.x).selfMultiply(z.valueOf(e.y).selfSubtract(t.y)),l=s.subtract(o),x=z.valueOf(r.x).selfSubtract(n.x).selfMultiply(z.valueOf(t.y).selfSubtract(n.y)),A=z.valueOf(r.y).selfSubtract(n.y).selfMultiply(z.valueOf(t.x).selfSubtract(n.x)),V=x.subtract(A),Z=V.selfDivide(l).doubleValue(),K=z.valueOf(t.x).selfAdd(z.valueOf(e.x).selfSubtract(t.x).selfMultiply(Z)).doubleValue(),$=z.valueOf(e.x).selfSubtract(t.x).selfMultiply(z.valueOf(t.y).selfSubtract(n.y)),ut=z.valueOf(e.y).selfSubtract(t.y).selfMultiply(z.valueOf(t.x).selfSubtract(n.x)),ft=$.subtract(ut),gt=ft.selfDivide(l).doubleValue(),Ot=z.valueOf(n.y).selfAdd(z.valueOf(r.y).selfSubtract(n.y).selfMultiply(gt)).doubleValue();return new v(K,Ot)},J.orientationIndexFilter=function(t,e,n){var r=null,s=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),l=s-o;if(s>0){if(o<=0)return J.signum(l);r=s+o}else{if(!(s<0)||o>=0)return J.signum(l);r=-s-o}var x=J.DP_SAFE_EPSILON*r;return l>=x||-l>=x?J.signum(l):2},J.signum=function(t){return t>0?1:t<0?-1:0},J.DP_SAFE_EPSILON=1e-15,d(G.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[p]},getClass:function(){return G}}),G.X=0,G.Y=1,G.Z=2,G.M=3,k.arraycopy=function(t,e,n,r,s){for(var o=0,l=e;l<e+s;l++)n[r+o]=t[l],o++},k.getProperty=function(t){return{"line.separator":`
`}[t]},d(j.prototype,{getY:function(){var t=this.y/this.w;if(c.isNaN(t)||c.isInfinite(t))throw new W;return t},getX:function(){var t=this.x/this.w;if(c.isNaN(t)||c.isInfinite(t))throw new W;return t},getCoordinate:function(){var t=new v;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return j}}),j.intersection=function(t,e,n,r){var s=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,x=n.y-r.y,A=r.x-n.x,V=n.x*r.y-r.x*n.y,Z=o*V-A*l,K=x*l-s*V,$=s*A-x*o,ut=Z/$,ft=K/$;if(c.isNaN(ut)||c.isInfinite(ut)||c.isNaN(ft)||c.isInfinite(ft))throw new W;return new v(ut,ft)},d(rt.prototype,{create:function(){arguments.length===1&&(arguments[0]instanceof Array||X(arguments[0],G))},interfaces_:function(){return[]},getClass:function(){return rt}}),d(it.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return it}}),d(Q.prototype,{isGeometryCollection:function(){return this.getSortIndex()===Q.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments.length===1){if(arguments[0]instanceof Q){var t=arguments[0];return t!==null&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Q))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(Q.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return t!==null&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(arguments.length===1){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(arguments.length===2){var n=arguments[0],r=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,r)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===Q.SORTINDEX_GEOMETRYCOLLECTION)throw new a},equal:function(t,e,n){return n===0?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return this.envelope===null&&(this.envelope=this.computeEnvelopeInternal()),new B(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var s=n.next(),o=r.next(),l=s.compareTo(o);if(l!==0)return l}return n.hasNext()?1:r.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===Q.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Q.SORTINDEX_MULTIPOINT||this.getSortIndex()===Q.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Q.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[p,f,m]},getClass:function(){return Q}}),Q.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Q.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(t[e]===null)return!0;return!1},Q.serialVersionUID=8763622679187377e3,Q.SORTINDEX_POINT=0,Q.SORTINDEX_MULTIPOINT=1,Q.SORTINDEX_LINESTRING=2,Q.SORTINDEX_LINEARRING=3,Q.SORTINDEX_MULTILINESTRING=4,Q.SORTINDEX_POLYGON=5,Q.SORTINDEX_MULTIPOLYGON=6,Q.SORTINDEX_GEOMETRYCOLLECTION=7,Q.geometryChangedFilter={interfaces_:function(){return[it]},filter:function(t){t.geometryChangedAction()}},d(lt.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return lt}}),d(st.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return st}}),d(ct.prototype,{isInBoundary:function(t){return t%2===1},interfaces_:function(){return[st]},getClass:function(){return ct}}),d(vt.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[st]},getClass:function(){return vt}}),d(Re.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[st]},getClass:function(){return Re}}),d(Qt.prototype,{isInBoundary:function(t){return t===1},interfaces_:function(){return[st]},getClass:function(){return Qt}}),st.Mod2BoundaryNodeRule=ct,st.EndPointBoundaryNodeRule=vt,st.MultiValentEndPointBoundaryNodeRule=Re,st.MonoValentEndPointBoundaryNodeRule=Qt,st.MOD2_BOUNDARY_RULE=new ct,st.ENDPOINT_BOUNDARY_RULE=new vt,st.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new Re,st.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new Qt,st.OGC_SFS_BOUNDARY_RULE=st.MOD2_BOUNDARY_RULE,d(at.prototype,{interfaces_:function(){return[]},getClass:function(){return at}}),at.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},at.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(at.indexOf(r,e)<0)return r}return null},at.scroll=function(t,e){var n=at.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);k.arraycopy(t,n,r,0,t.length-n),k.arraycopy(t,0,r,t.length-n,n),k.arraycopy(r,0,t,0,t.length)},at.equals=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(t===null||e===null||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2];if(r===s)return!0;if(r===null||s===null||r.length!==s.length)return!1;for(var n=0;n<r.length;n++)if(o.compare(r[n],s[n])!==0)return!1;return!0}},at.intersection=function(t,e){for(var n=new q,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},at.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},at.removeRepeatedPoints=function(t){if(!at.hasRepeatedPoints(t))return t;var e=new q(t,!1);return e.toCoordinateArray()},at.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var s=t[r];t[r]=t[e-r],t[e-r]=s}},at.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)t[n]!==null&&e++;var r=new Array(e).fill(null);if(e===0)return r;for(var s=0,n=0;n<t.length;n++)t[n]!==null&&(r[s++]=t[n]);return r},at.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new v(t[n]);return e}if(arguments.length===5)for(var r=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3],x=arguments[4],n=0;n<x;n++)o[l+n]=new v(r[s+n])},at.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],s=e[t.length-n-1];if(r.compareTo(s)!==0)return!1}return!0},at.envelope=function(t){for(var e=new B,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},at.toCoordinateArray=function(t){return t.toArray(at.coordArrayType)},at.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},at.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},at.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(r!==0)return r}return 1},at.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(r!==0)return r;n++}return n<e.length?-1:n<t.length?1:0},at.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(e===null||e.compareTo(t[n])>0)&&(e=t[n]);return e},at.extract=function(t,e,n){e=ot.clamp(e,0,t.length),n=ot.clamp(n,-1,t.length);var r=n-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var s=new Array(r).fill(null);if(r===0)return s;for(var o=0,l=e;l<=n;l++)s[o++]=t[l];return s},d(Nn.prototype,{compare:function(t,e){var n=t,r=e;return at.compare(n,r)},interfaces_:function(){return[g]},getClass:function(){return Nn}}),d(sr.prototype,{compare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(n.length===0)return 0;var s=at.compare(n,r),o=at.isEqualReversed(n,r);return o?0:s},OLDcompare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(n.length===0)return 0;for(var s=at.increasingDirection(n),o=at.increasingDirection(r),l=s>0?0:n.length-1,x=o>0?0:n.length-1,A=0;A<n.length;A++){var V=n[l].compareTo(r[x]);if(V!==0)return V;l+=s,x+=o}return 0},interfaces_:function(){return[g]},getClass:function(){return sr}}),at.ForwardComparator=Nn,at.BidirectionalComparator=sr,at.coordArrayType=new Array(0).fill(null),$e.prototype.get=function(){},$e.prototype.put=function(){},$e.prototype.size=function(){},$e.prototype.values=function(){},$e.prototype.entrySet=function(){},Yt.prototype=new $e,zt.prototype=new w,zt.prototype.contains=function(){},Rt.prototype=new zt,Rt.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){var r=this.array_[e];if(r===t)return!0}return!1},Rt.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},Rt.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Rt.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},Rt.prototype.size=function(){return this.array_.length},Rt.prototype.isEmpty=function(){return this.array_.length===0},Rt.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Rt.prototype.iterator=function(){return new Is(this)};var Is=function(t){this.hashSet_=t,this.position_=0};Is.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new O;return this.hashSet_.array_[this.position_++]},Is.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Is.prototype.remove=function(){throw new D};var fn=0,Bn=1;Vt.prototype=new Yt,Vt.prototype.get=function(t){for(var e=this.root_;e!==null;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Vt.prototype.put=function(t,e){if(this.root_===null)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:fn,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,s=this.root_;do if(n=s,r=t.compareTo(s.key),r<0)s=s.left;else{if(!(r>0)){var o=s.value;return s.value=e,o}s=s.right}while(s!==null);var l={key:t,left:null,right:null,value:e,parent:n,color:fn,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=l:n.right=l,this.fixAfterInsertion(l),this.size_++,null},Vt.prototype.fixAfterInsertion=function(t){for(t.color=Bn;t!=null&&t!=this.root_&&t.parent.color==Bn;)if(Et(t)==Mr(Et(Et(t)))){var e=Ni(Et(Et(t)));ke(e)==Bn?(Oe(Et(t),fn),Oe(e,fn),Oe(Et(Et(t)),Bn),t=Et(Et(t))):(t==Ni(Et(t))&&(t=Et(t),this.rotateLeft(t)),Oe(Et(t),fn),Oe(Et(Et(t)),Bn),this.rotateRight(Et(Et(t))))}else{var e=Mr(Et(Et(t)));ke(e)==Bn?(Oe(Et(t),fn),Oe(e,fn),Oe(Et(Et(t)),Bn),t=Et(Et(t))):(t==Mr(Et(t))&&(t=Et(t),this.rotateRight(t)),Oe(Et(t),fn),Oe(Et(Et(t)),Bn),this.rotateLeft(Et(Et(t))))}this.root_.color=fn},Vt.prototype.values=function(){var t=new C,e=this.getFirstEntry();if(e!==null)for(t.add(e.value);(e=Vt.successor(e))!==null;)t.add(e.value);return t},Vt.prototype.entrySet=function(){var t=new Rt,e=this.getFirstEntry();if(e!==null)for(t.add(e);(e=Vt.successor(e))!==null;)t.add(e);return t},Vt.prototype.rotateLeft=function(t){if(t!=null){var e=t.right;t.right=e.left,e.left!=null&&(e.left.parent=t),e.parent=t.parent,t.parent==null?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Vt.prototype.rotateRight=function(t){if(t!=null){var e=t.left;t.left=e.right,e.right!=null&&(e.right.parent=t),e.parent=t.parent,t.parent==null?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Vt.prototype.getFirstEntry=function(){var t=this.root_;if(t!=null)for(;t.left!=null;)t=t.left;return t},Vt.successor=function(t){if(t===null)return null;if(t.right!==null){for(var e=t.right;e.left!==null;)e=e.left;return e}for(var e=t.parent,n=t;e!==null&&n===e.right;)n=e,e=e.parent;return e},Vt.prototype.size=function(){return this.size_},d(or.prototype,{interfaces_:function(){return[]},getClass:function(){return or}}),Ci.prototype=new zt,Jt.prototype=new Ci,Jt.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){var r=this.array_[e];if(r.compareTo(t)===0)return!0}return!1},Jt.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){var r=this.array_[e];if(r.compareTo(t)===1)return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},Jt.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Jt.prototype.remove=function(t){throw new D},Jt.prototype.size=function(){return this.array_.length},Jt.prototype.isEmpty=function(){return this.array_.length===0},Jt.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Jt.prototype.iterator=function(){return new Ns(this)};var Ns=function(t){this.treeSet_=t,this.position_=0};Ns.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new O;return this.treeSet_.array_[this.position_++]},Ns.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ns.prototype.remove=function(){throw new D},_e.sort=function(){var t,e,n,r,s=arguments[0];if(arguments.length===1)return r=function(l,x){return l.compareTo(x)},void s.sort(r);if(arguments.length===2)n=arguments[1],r=function(l,x){return n.compare(l,x)},s.sort(r);else{if(arguments.length===3){e=s.slice(arguments[1],arguments[2]),e.sort();var o=s.slice(0,arguments[1]).concat(e,s.slice(arguments[2],s.length));for(s.splice(0,s.length),t=0;t<o.length;t++)s.push(o[t]);return}if(arguments.length===4){for(e=s.slice(arguments[1],arguments[2]),n=arguments[3],r=function(l,x){return n.compare(l,x)},e.sort(r),o=s.slice(0,arguments[1]).concat(e,s.slice(arguments[2],s.length)),s.splice(0,s.length),t=0;t<o.length;t++)s.push(o[t]);return}}},_e.asList=function(t){for(var e=new C,n=0,r=t.length;n<r;n++)e.add(t[n]);return e},d(tt.prototype,{interfaces_:function(){return[]},getClass:function(){return tt}}),tt.toDimensionSymbol=function(t){switch(t){case tt.FALSE:return tt.SYM_FALSE;case tt.TRUE:return tt.SYM_TRUE;case tt.DONTCARE:return tt.SYM_DONTCARE;case tt.P:return tt.SYM_P;case tt.L:return tt.SYM_L;case tt.A:return tt.SYM_A}throw new a},tt.toDimensionValue=function(t){switch(H.toUpperCase(t)){case tt.SYM_FALSE:return tt.FALSE;case tt.SYM_TRUE:return tt.TRUE;case tt.SYM_DONTCARE:return tt.DONTCARE;case tt.SYM_P:return tt.P;case tt.SYM_L:return tt.L;case tt.SYM_A:return tt.A}throw new a},tt.P=0,tt.L=1,tt.A=2,tt.FALSE=-1,tt.TRUE=-2,tt.DONTCARE=-3,tt.SYM_FALSE="F",tt.SYM_TRUE="T",tt.SYM_DONTCARE="*",tt.SYM_P="0",tt.SYM_L="1",tt.SYM_A="2",d(tn.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return tn}}),d(zn.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return zn}}),y(xt,Q),d(xt.prototype,{computeEnvelopeInternal:function(){for(var t=new B,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return Q.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var r=this.geometries[n].getCoordinates(),s=0;s<r.length;s++)e++,t[e]=r[s];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var r=0;r<this.geometries.length;r++)if(!this.geometries[r].equalsExact(n.geometries[r],e))return!1;return!0}return Q.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();_e.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=tt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=tt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(arguments.length===1){var t=arguments[0],e=new Jt(_e.asList(this.geometries)),n=new Jt(_e.asList(t.geometries));return this.compare(e,n)}if(arguments.length===2){for(var r=arguments[0],s=arguments[1],o=r,l=this.getNumGeometries(),x=o.getNumGeometries(),A=0;A<l&&A<x;){var V=this.getGeometryN(A),Z=o.getGeometryN(A),K=V.compareToSameClass(Z,s);if(K!==0)return K;A++}return A<l?1:A<x?-1:0}},apply:function(){if(X(arguments[0],lt))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(X(arguments[0],zn)){var n=arguments[0];if(this.geometries.length===0)return null;for(var e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(X(arguments[0],tn)){var r=arguments[0];r.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}else if(X(arguments[0],it)){var s=arguments[0];s.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(s)}},getBoundary:function(){return this.checkNotGeometryCollection(this),I.shouldNeverReachHere(),null},clone:function(){var t=Q.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new xt(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return xt}}),xt.serialVersionUID=-5694727726395021e3,y(ce,xt),d(ce.prototype,{getSortIndex:function(){return Q.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&xt.prototype.equalsExact.call(this,t,e)}return xt.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?tt.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new pn(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ce(t,this.factory)},interfaces_:function(){return[or]},getClass:function(){return ce}}),ce.serialVersionUID=8166665132445434e3,d(pn.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return e.length===1?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof mt?this.boundaryLineString(this.geom):this.geom instanceof ce?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var e=this.bnRule.isInBoundary(2);return e?t.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new C;this.endpointMap=new Vt;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);r.getNumPoints()!==0&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var s=this.endpointMap.entrySet().iterator();s.hasNext();){var o=s.next(),l=o.getValue(),x=l.count;this.bnRule.isInBoundary(x)&&e.add(o.getKey())}return at.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);e===null&&(e=new Ls,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return pn}}),pn.getBoundary=function(){if(arguments.length===1){var t=arguments[0],e=new pn(t);return e.getBoundary()}if(arguments.length===2){var n=arguments[0],r=arguments[1],e=new pn(n,r);return e.getBoundary()}},d(Ls.prototype,{interfaces_:function(){return[]},getClass:function(){return Ls}}),d(ye.prototype,{interfaces_:function(){return[]},getClass:function(){return ye}}),ye.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return new String(n)},ye.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],e=new Ao,n=new To;return t.printStackTrace(n),e.toString()}if(arguments.length===2){for(var r=arguments[0],s=arguments[1],o="",l=new Oo(ye.getStackTrace(r)),x=new Fo,A=0;A<s;A++)try{o+=x.readLine()+ye.NEWLINE}catch(V){if(!(V instanceof Do))throw V;I.shouldNeverReachHere()}finally{}return o}},ye.split=function(t,e){for(var n=e.length,r=new C,s=""+t,o=s.indexOf(e);o>=0;){var l=s.substring(0,o);r.add(l),s=s.substring(o+n),o=s.indexOf(e)}s.length>0&&r.add(s);for(var x=new Array(r.size()).fill(null),A=0;A<x.length;A++)x[A]=r.get(A);return x},ye.toString=function(){if(arguments.length===1){var t=arguments[0];return ye.SIMPLE_ORDINATE_FORMAT.format(t)}},ye.spaces=function(t){return ye.chars(" ",t)},ye.NEWLINE=k.getProperty("line.separator"),ye.SIMPLE_ORDINATE_FORMAT=new _o,d(kt.prototype,{interfaces_:function(){return[]},getClass:function(){return kt}}),kt.copyCoord=function(t,e,n,r){for(var s=Math.min(t.getDimension(),n.getDimension()),o=0;o<s;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},kt.isRing=function(t){var e=t.size();return e===0||!(e<=3)&&t.getOrdinate(0,G.X)===t.getOrdinate(e-1,G.X)&&t.getOrdinate(0,G.Y)===t.getOrdinate(e-1,G.Y)},kt.isEqual=function(t,e){var n=t.size(),r=e.size();if(n!==r)return!1;for(var s=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var l=0;l<s;l++){var x=t.getOrdinate(o,l),A=e.getOrdinate(o,l);if(!(t.getOrdinate(o,l)===e.getOrdinate(o,l)||c.isNaN(x)&&c.isNaN(A)))return!1}return!0},kt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),s=e.size();if(kt.copy(e,0,r,0,s),s>0)for(var o=s;o<n;o++)kt.copy(e,s-1,r,o,1);return r},kt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)kt.swap(t,r,e-r)},kt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var s=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,s)}},kt.copy=function(t,e,n,r,s){for(var o=0;o<s;o++)kt.copyCoord(t,e+o,n,r+o)},kt.toString=function(){if(arguments.length===1){var t=arguments[0],e=t.size();if(e===0)return"()";var n=t.getDimension(),r=new F;r.append("(");for(var s=0;s<e;s++){s>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(ye.toString(t.getOrdinate(s,o)))}return r.append(")"),r.toString()}},kt.ensureValidRing=function(t,e){var n=e.size();if(n===0)return e;if(n<=3)return kt.createClosedRing(t,e,4);var r=e.getOrdinate(0,G.X)===e.getOrdinate(n-1,G.X)&&e.getOrdinate(0,G.Y)===e.getOrdinate(n-1,G.Y);return r?e:kt.createClosedRing(t,e,n+1)},kt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),s=e.size();kt.copy(e,0,r,0,s);for(var o=s;o<n;o++)kt.copy(e,0,r,o,1);return r},y(mt,Q),d(mt.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new B:this.points.expandEnvelope(new B)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return Q.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var r=0;r<this.points.size();r++)if(!this.equal(this.points.getCoordinate(r),n.points.getCoordinate(r),e))return!1;return!0}return Q.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&kt.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?tt.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return nt.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();kt.reverse(t);var e=this.getFactory().createLineString(t);return e},compareToSameClass:function(){if(arguments.length===1){for(var t=arguments[0],e=t,n=0,r=0;n<this.points.size()&&r<e.points.size();){var s=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(r));if(s!==0)return s;n++,r++}return n<this.points.size()?1:r<e.points.size()?-1:0}if(arguments.length===2){var o=arguments[0],l=arguments[1],e=o;return l.compare(this.points,e.points)}},apply:function(){if(X(arguments[0],lt))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(X(arguments[0],zn)){var n=arguments[0];if(this.points.size()===0)return null;for(var e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(X(arguments[0],tn)){var r=arguments[0];r.filter(this)}else if(X(arguments[0],it)){var s=arguments[0];s.filter(this)}},getBoundary:function(){return new pn(this).getBoundary()},isEquivalentClass:function(t){return t instanceof mt},clone:function(){var t=Q.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new mt(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return this.points.size()===0},init:function(t){if(t===null&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),t.size()===1)throw new a("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[or]},getClass:function(){return mt}}),mt.serialVersionUID=0x2b2b51ba435c8e00,d(wi.prototype,{interfaces_:function(){return[]},getClass:function(){return wi}}),y(At,Q),d(At.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new B;var t=new B;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return Q.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return Q.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return this.coordinates.size()!==0?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return tt.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(arguments.length===1){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(arguments.length===2){var n=arguments[0],r=arguments[1],e=n;return r.compare(this.coordinates,e.coordinates)}},apply:function(){if(X(arguments[0],lt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(X(arguments[0],zn)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(X(arguments[0],tn)){var n=arguments[0];n.filter(this)}else if(X(arguments[0],it)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=Q.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new At(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return this.coordinates.size()===0},init:function(t){t===null&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),I.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[wi]},getClass:function(){return At}}),At.serialVersionUID=4902022702746615e3,d(en.prototype,{interfaces_:function(){return[]},getClass:function(){return en}}),y(Mt,Q),d(Mt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return Q.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),r=0;r<n.length;r++)e++,t[e]=n[r];for(var s=0;s<this.holes.length;s++)for(var o=this.holes[s].getCoordinates(),l=0;l<o.length;l++)e++,t[e]=o[l];return t},getArea:function(){var t=0;t+=Math.abs(nt.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(nt.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(this.getNumInteriorRing()!==0||this.shell===null||this.shell.getNumPoints()!==5)return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var s=t.getY(n);if(s!==e.getMinY()&&s!==e.getMaxY())return!1}for(var o=t.getX(0),l=t.getY(0),n=1;n<=4;n++){var r=t.getX(n),s=t.getY(n),x=r!==o,A=s!==l;if(x===A)return!1;o=r,l=s}return!0},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this.shell,s=n.shell;if(!r.equalsExact(s,e)||this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0}return Q.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(arguments.length===0){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);_e.sort(this.holes)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);k.arraycopy(e.getCoordinates(),0,r,0,r.length);var s=at.minCoordinate(e.getCoordinates());at.scroll(r,s),k.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],nt.isCCW(e.getCoordinates())===n&&at.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(arguments.length===1){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(arguments.length===2){var r=arguments[0],s=arguments[1],o=r,e=this.shell,n=o.shell,l=e.compareToSameClass(n,s);if(l!==0)return l;for(var x=this.getNumInteriorRing(),A=o.getNumInteriorRing(),V=0;V<x&&V<A;){var Z=this.getInteriorRingN(V),K=o.getInteriorRingN(V),$=Z.compareToSameClass(K,s);if($!==0)return $;V++}return V<x?1:V<A?-1:0}},apply:function(){if(X(arguments[0],lt)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(X(arguments[0],zn)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(var e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(X(arguments[0],tn)){var r=arguments[0];r.filter(this)}else if(X(arguments[0],it)){var s=arguments[0];s.filter(this),this.shell.apply(s);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(s)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=Q.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Mt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[en]},getClass:function(){return Mt}}),Mt.serialVersionUID=-0x307ffefd8dc97200,y(fe,xt),d(fe.prototype,{getSortIndex:function(){return Q.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&xt.prototype.equalsExact.call(this,t,e)}return xt.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(arguments.length===1){var t=arguments[0];return this.geometries[t].getCoordinate()}return xt.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return tt.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new fe(t,this.factory)},interfaces_:function(){return[wi]},getClass:function(){return fe}}),fe.serialVersionUID=-8048474874175356e3,y(qt,mt),d(qt.prototype,{getSortIndex:function(){return Q.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return tt.FALSE},isClosed:function(){return!!this.isEmpty()||mt.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();kt.reverse(t);var e=this.getFactory().createLinearRing(t);return e},validateConstruction:function(){if(!this.isEmpty()&&!mt.prototype.isClosed.call(this))throw new a;if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<qt.MINIMUM_VALID_SIZE)throw new a("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new qt(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return qt}}),qt.MINIMUM_VALID_SIZE=4,qt.serialVersionUID=-0x3b229e262367a600,y(Zt,xt),d(Zt.prototype,{getSortIndex:function(){return Q.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&xt.prototype.equalsExact.call(this,t,e)}return xt.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new C,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e],r=n.getBoundary(),s=0;s<r.getNumGeometries();s++)t.add(r.getGeometryN(s));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Zt(t,this.factory)},interfaces_:function(){return[en]},getClass:function(){return Zt}}),Zt.serialVersionUID=-0x7a5aa1369171980,d(xe.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(t===null)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return this.factory===null&&(this.factory=t.getFactory()),t instanceof xt?this.editGeometryCollection(t,e):t instanceof Mt?this.editPolygon(t,e):t instanceof At?e.edit(t,this.factory):t instanceof mt?e.edit(t,this.factory):(I.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),r=new C,s=0;s<n.getNumGeometries();s++){var o=this.edit(n.getGeometryN(s),e);o===null||o.isEmpty()||r.add(o)}return n.getClass()===fe?this.factory.createMultiPoint(r.toArray([])):n.getClass()===ce?this.factory.createMultiLineString(r.toArray([])):n.getClass()===Zt?this.factory.createMultiPolygon(r.toArray([])):this.factory.createGeometryCollection(r.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(n===null&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(r===null||r.isEmpty())return this.factory.createPolygon();for(var s=new C,o=0;o<n.getNumInteriorRing();o++){var l=this.edit(n.getInteriorRingN(o),e);l===null||l.isEmpty()||s.add(l)}return this.factory.createPolygon(r,s.toArray([]))},interfaces_:function(){return[]},getClass:function(){return xe}}),xe.GeometryEditorOperation=Si,d(Rs.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Si]},getClass:function(){return Rs}}),d(bs.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return n===null?t:t instanceof qt?e.createLinearRing(n):t instanceof mt?e.createLineString(n):t instanceof At?n.length>0?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[Si]},getClass:function(){return bs}}),d(Ms.prototype,{edit:function(t,e){return t instanceof qt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof mt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof At?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Si]},getClass:function(){return Ms}}),xe.NoOpGeometryOperation=Rs,xe.CoordinateOperation=bs,xe.CoordinateSequenceOperation=Ms,d(Ee.prototype,{setOrdinate:function(t,e,n){switch(e){case G.X:this.coordinates[t].x=n;break;case G.Y:this.coordinates[t].y=n;break;case G.Z:this.coordinates[t].z=n;break;default:throw new a}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case G.X:return this.coordinates[t].x;case G.Y:return this.coordinates[t].y;case G.Z:return this.coordinates[t].z}return c.NaN},getCoordinate:function(){if(arguments.length===1){var t=arguments[0];return this.coordinates[t]}if(arguments.length===2){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new v(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Ee(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Ee(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new F(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[G,m]},getClass:function(){return Ee}}),Ee.serialVersionUID=-0xcb44a778db18e00,d(mn.prototype,{readResolve:function(){return mn.instance()},create:function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new Ee(t)}if(X(arguments[0],G)){var e=arguments[0];return new Ee(e)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Ee(n):new Ee(n,r)}},interfaces_:function(){return[rt,m]},getClass:function(){return mn}}),mn.instance=function(){return mn.instanceObject},mn.serialVersionUID=-0x38e49fa6cf6f2e00,mn.instanceObject=new mn;var Ke,$o=Object.defineProperty,ta=Go({delete:zo,has:Xo,get:Vo,set:Uo,keys:Ho,values:Wo,entries:Zo,forEach:jo,clear:Yo}),ea=typeof Map<"u"&&Map.prototype.values?Map:ta;nn.prototype=new $e,nn.prototype.get=function(t){return this.map_.get(t)||null},nn.prototype.put=function(t,e){return this.map_.set(t,e),e},nn.prototype.values=function(){for(var t=new C,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},nn.prototype.entrySet=function(){var t=new Rt;return this.map_.entries().forEach(function(e){return t.add(e)}),t},nn.prototype.size=function(){return this.map_.size()},d(St.prototype,{equals:function(t){if(!(t instanceof St))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new Y(n).compareTo(new Y(r))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===St.FLOATING||this.modelType===St.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===St.FLOATING?t="Floating":this.modelType===St.FLOATING_SINGLE?t="Floating-Single":this.modelType===St.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if(typeof arguments[0]=="number"){var t=arguments[0];if(c.isNaN(t))return t;if(this.modelType===St.FLOATING_SINGLE){var e=t;return e}return this.modelType===St.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof v){var n=arguments[0];if(this.modelType===St.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===St.FLOATING?t=16:this.modelType===St.FLOATING_SINGLE?t=6:this.modelType===St.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[m,f]},getClass:function(){return St}}),St.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},d(Xe.prototype,{readResolve:function(){return Xe.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[m]},getClass:function(){return Xe}}),Xe.serialVersionUID=-552860263173159e4,Xe.nameToTypeMap=new nn,St.Type=Xe,St.serialVersionUID=7777263578777804e3,St.FIXED=new Xe("FIXED"),St.FLOATING=new Xe("FLOATING"),St.FLOATING_SINGLE=new Xe("FLOATING SINGLE"),St.maximumPreciseValue=9007199254740992,d(yt.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new v(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new v(t.getMinX(),t.getMinY()),new v(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new v(t.getMinX(),t.getMinY()),new v(t.getMinX(),t.getMaxY()),new v(t.getMaxX(),t.getMaxY()),new v(t.getMaxX(),t.getMinY()),new v(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(X(arguments[0],G)){var e=arguments[0];return new mt(e,this)}}},createMultiLineString:function(){if(arguments.length===0)return new ce(null,this);if(arguments.length===1){var t=arguments[0];return new ce(t,this)}},buildGeometry:function(t){for(var e=null,n=!1,r=!1,s=t.iterator();s.hasNext();){var o=s.next(),l=o.getClass();e===null&&(e=l),l!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(e===null)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(yt.toGeometryArray(t));var x=t.iterator().next(),A=t.size()>1;if(A){if(x instanceof Mt)return this.createMultiPolygon(yt.toPolygonArray(t));if(x instanceof mt)return this.createMultiLineString(yt.toLineStringArray(t));if(x instanceof At)return this.createMultiPoint(yt.toPointArray(t));I.shouldNeverReachHere("Unhandled class: "+x.getClass().getName())}return x},createMultiPointFromCoords:function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof v){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}if(X(arguments[0],G)){var e=arguments[0];return new At(e,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(arguments.length===0)return new Mt(null,null,this);if(arguments.length===1){if(X(arguments[0],G)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof qt){var n=arguments[0];return this.createPolygon(n,null)}}else if(arguments.length===2){var r=arguments[0],s=arguments[1];return new Mt(r,s,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(arguments.length===0)return new xt(null,this);if(arguments.length===1){var t=arguments[0];return new xt(t,this)}},createGeometry:function(t){var e=new xe(this);return e.edit(t,{edit:function(){if(arguments.length===2){var n=arguments[0];return this.coordinateSequenceFactory.create(n)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(X(arguments[0],G)){var e=arguments[0];return new qt(e,this)}}},createMultiPolygon:function(){if(arguments.length===0)return new Zt(null,this);if(arguments.length===1){var t=arguments[0];return new Zt(t,this)}},createMultiPoint:function(){if(arguments.length===0)return new fe(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new fe(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(X(arguments[0],G)){var n=arguments[0];if(n===null)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),s=0;s<n.size();s++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());kt.copy(n,s,o,0,1),r[s]=this.createPoint(o)}return this.createMultiPoint(r)}}},interfaces_:function(){return[m]},getClass:function(){return yt}}),yt.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.toGeometryArray=function(t){if(t===null)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.getDefaultCoordinateSequenceFactory=function(){return mn.instance()},yt.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},yt.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},yt.serialVersionUID=-6820524753094096e3;var Be={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};d(Ts.prototype,{read:function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var s=Be.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(s=Be.emptyTypeStr.exec(t),s[2]=void 0),s&&(n=s[1].toLowerCase(),r=s[2],br[n]&&(e=br[n].apply(this,[r]))),e===void 0)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!gn[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+gn[e].apply(this,[t])+")"}});var gn={coordinate:function(t){return t.x+" "+t.y},point:function(t){return gn.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push("("+gn.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t.points.coordinates.length;n<r;++n)e.push(gn.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t.points.coordinates.length;n<r;++n)e.push(gn.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push("("+gn.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+gn.linestring.apply(this,[t.shell])+")");for(var n=0,r=t.holes.length;n<r;++n)e.push("("+gn.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push("("+gn.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},br={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var e=t.trim().split(Be.spaces);return this.geometryFactory.createPoint(new v(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(t===void 0)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],s=0,o=n.length;s<o;++s)e=n[s].replace(Be.trimParens,"$1"),r.push(br.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],s=0,o=n.length;s<o;++s)e=n[s].trim().split(Be.spaces),r.push(new v(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],s=0,o=n.length;s<o;++s)e=n[s].trim().split(Be.spaces),r.push(new v(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(t===void 0)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Be.parenComma),r=[],s=0,o=n.length;s<o;++s)e=n[s].replace(Be.trimParens,"$1"),r.push(br.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(t===void 0)return this.geometryFactory.createPolygon();for(var e,n,r,s,o=t.trim().split(Be.parenComma),l=[],x=0,A=o.length;x<A;++x)e=o[x].replace(Be.trimParens,"$1"),n=br.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n.points),x===0?s=r:l.push(r);return this.geometryFactory.createPolygon(s,l)},multipolygon:function(t){if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Be.doubleParenComma),r=[],s=0,o=n.length;s<o;++s)e=n[s].replace(Be.trimParens,"$1"),r.push(br.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],r=0,s=e.length;r<s;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}};d($t.prototype,{write:function(t){return this.parser.write(t)}}),d($t,{toLineString:function(t,e){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),d(Pt.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new F;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,r){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=r,this.result=this.computeIntersect(t,e,n,r)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(arguments.length===0)this.intLineIndex===null&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==Pt.NO_INTERSECTION},getEdgeDistance:function(t,e){var n=Pt.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1]);return n},isCollinear:function(){return this.result===Pt.COLLINEAR_INTERSECTION},toString:function(){return $t.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+$t.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return Pt}}),Pt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>s?r:s;else{var l=Math.abs(t.x-e.x),x=Math.abs(t.y-e.y);o=r>s?l:x,o!==0||t.equals(e)||(o=Math.max(l,x))}return I.isTrue(!(o===0&&!t.equals(e)),"Bad distance calculation"),o},Pt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,s=t.y-e.y,o=Math.sqrt(r*r+s*s);return I.isTrue(!(o===0&&!t.equals(e)),"Invalid distance calculation"),o},Pt.DONT_INTERSECT=0,Pt.DO_INTERSECT=1,Pt.COLLINEAR=2,Pt.NO_INTERSECTION=0,Pt.POINT_INTERSECTION=1,Pt.COLLINEAR_INTERSECTION=2,y(Ht,Pt),d(Ht.prototype,{isInSegmentEnvelopes:function(t){var e=new B(this.inputLines[0][0],this.inputLines[0][1]),n=new B(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(arguments.length!==3)return Pt.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,B.intersects(e,n,t)&&nt.orientationIndex(e,n,t)===0&&nt.orientationIndex(n,e,t)===0?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=Pt.POINT_INTERSECTION,null):void(this.result=Pt.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,r,s){s.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),s.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=s.x,t.y-=s.y,e.x-=s.x,e.y-=s.y,n.x-=s.x,n.y-=s.y,r.x-=s.x,r.y-=s.y},safeHCoordinateIntersection:function(t,e,n,r){var s=null;try{s=j.intersection(t,e,n,r)}catch(o){if(!(o instanceof W))throw o;s=Ht.nearestEndpoint(t,e,n,r)}finally{}return s},intersection:function(t,e,n,r){var s=this.intersectionWithNormalization(t,e,n,r);return this.isInSegmentEnvelopes(s)||(s=new v(Ht.nearestEndpoint(t,e,n,r))),this.precisionModel!==null&&this.precisionModel.makePrecise(s),s},smallestInAbsValue:function(t,e,n,r){var s=t,o=Math.abs(s);return Math.abs(e)<o&&(s=e,o=Math.abs(e)),Math.abs(n)<o&&(s=n,o=Math.abs(n)),Math.abs(r)<o&&(s=r),s},checkDD:function(t,e,n,r,s){var o=J.intersection(t,e,n,r),l=this.isInSegmentEnvelopes(o);k.out.println("DD in env = "+l+"  --------------------- "+o),s.distance(o)>1e-4&&k.out.println("Distance = "+s.distance(o))},intersectionWithNormalization:function(t,e,n,r){var s=new v(t),o=new v(e),l=new v(n),x=new v(r),A=new v;this.normalizeToEnvCentre(s,o,l,x,A);var V=this.safeHCoordinateIntersection(s,o,l,x);return V.x+=A.x,V.y+=A.y,V},computeCollinearIntersection:function(t,e,n,r){var s=B.intersects(t,e,n),o=B.intersects(t,e,r),l=B.intersects(n,r,t),x=B.intersects(n,r,e);return s&&o?(this.intPt[0]=n,this.intPt[1]=r,Pt.COLLINEAR_INTERSECTION):l&&x?(this.intPt[0]=t,this.intPt[1]=e,Pt.COLLINEAR_INTERSECTION):s&&l?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||x?Pt.COLLINEAR_INTERSECTION:Pt.POINT_INTERSECTION):s&&x?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||l?Pt.COLLINEAR_INTERSECTION:Pt.POINT_INTERSECTION):o&&l?(this.intPt[0]=r,this.intPt[1]=t,!r.equals(t)||s||x?Pt.COLLINEAR_INTERSECTION:Pt.POINT_INTERSECTION):o&&x?(this.intPt[0]=r,this.intPt[1]=e,!r.equals(e)||s||l?Pt.COLLINEAR_INTERSECTION:Pt.POINT_INTERSECTION):Pt.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,r,s){var o=t.x<e.x?t.x:e.x,l=t.y<e.y?t.y:e.y,x=t.x>e.x?t.x:e.x,A=t.y>e.y?t.y:e.y,V=n.x<r.x?n.x:r.x,Z=n.y<r.y?n.y:r.y,K=n.x>r.x?n.x:r.x,$=n.y>r.y?n.y:r.y,ut=o>V?o:V,ft=x<K?x:K,gt=l>Z?l:Z,Ot=A<$?A:$,Xt=(ut+ft)/2,Ve=(gt+Ot)/2;s.x=Xt,s.y=Ve,t.x-=s.x,t.y-=s.y,e.x-=s.x,e.y-=s.y,n.x-=s.x,n.y-=s.y,r.x-=s.x,r.y-=s.y},computeIntersect:function(t,e,n,r){if(this._isProper=!1,!B.intersects(t,e,n,r))return Pt.NO_INTERSECTION;var s=nt.orientationIndex(t,e,n),o=nt.orientationIndex(t,e,r);if(s>0&&o>0||s<0&&o<0)return Pt.NO_INTERSECTION;var l=nt.orientationIndex(n,r,t),x=nt.orientationIndex(n,r,e);if(l>0&&x>0||l<0&&x<0)return Pt.NO_INTERSECTION;var A=s===0&&o===0&&l===0&&x===0;return A?this.computeCollinearIntersection(t,e,n,r):(s===0||o===0||l===0||x===0?(this._isProper=!1,t.equals2D(n)||t.equals2D(r)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(r)?this.intPt[0]=e:s===0?this.intPt[0]=new v(n):o===0?this.intPt[0]=new v(r):l===0?this.intPt[0]=new v(t):x===0&&(this.intPt[0]=new v(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,r)),Pt.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Ht}}),Ht.nearestEndpoint=function(t,e,n,r){var s=t,o=nt.distancePointLine(t,n,r),l=nt.distancePointLine(e,n,r);return l<o&&(o=l,s=e),l=nt.distancePointLine(n,t,e),l<o&&(o=l,s=n),l=nt.distancePointLine(r,t,e),l<o&&(o=l,s=r),s},d(Vn.prototype,{interfaces_:function(){return[]},getClass:function(){return Vn}}),Vn.orientationIndex=function(t,e,n){var r=e.x-t.x,s=e.y-t.y,o=n.x-e.x,l=n.y-e.y;return Vn.signOfDet2x2(r,s,o,l)},Vn.signOfDet2x2=function(t,e,n,r){var s=null,o=null,l=null;if(s=1,t===0||r===0)return e===0||n===0?0:e>0?n>0?-s:s:n>0?s:-s;if(e===0||n===0)return r>0?t>0?s:-s:t>0?-s:s;if(0<e?0<r?e<=r||(s=-s,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(s=-s,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):0<r?-e<=r?(s=-s,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(s=-s,o=-t,t=-n,n=o,o=-e,e=-r,r=o),0<t){if(!(0<n)||!(t<=n))return s}else{if(0<n||!(t>=n))return-s;s=-s,t=-t,n=-n}for(;;){if(l=Math.floor(n/t),n-=l*t,r-=l*e,r<0)return-s;if(r>e)return s;if(t>n+n){if(e<r+r)return s}else{if(e>r+r)return-s;n=t-n,r=e-r,s=-s}if(r===0)return n===0?0:-s;if(n===0||(l=Math.floor(t/n),t-=l*n,e-=l*r,e<0))return s;if(e>r)return-s;if(n>t+t){if(r<e+e)return-s}else{if(r>e+e)return s;t=n-t,e=r-e,s=-s}if(e===0)return t===0?0:s;if(t===0)return-s}},d(kn.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this.p.x>=n&&this.p.x<=r&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var s=t.x-this.p.x,o=t.y-this.p.y,l=e.x-this.p.x,x=e.y-this.p.y,A=Vn.signOfDet2x2(s,o,l,x);if(A===0)return this.isPointOnSegment=!0,null;x<o&&(A=-A),A>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==L.EXTERIOR},getLocation:function(){return this.isPointOnSegment?L.BOUNDARY:this.crossingCount%2===1?L.INTERIOR:L.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return kn}}),kn.locatePointInRing=function(){if(arguments[0]instanceof v&&X(arguments[1],G)){for(var t=arguments[0],e=arguments[1],n=new kn(t),r=new v,s=new v,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,s),n.countSegment(r,s),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof v&&arguments[1]instanceof Array){for(var l=arguments[0],x=arguments[1],n=new kn(l),o=1;o<x.length;o++){var r=x[o],s=x[o-1];if(n.countSegment(r,s),n.isOnSegment())return n.getLocation()}return n.getLocation()}},d(nt.prototype,{interfaces_:function(){return[]},getClass:function(){return nt}}),nt.orientationIndex=function(t,e,n){return J.orientationIndex(t,e,n)},nt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var s=t[r].x-n,o=t[r+1].y,l=t[r-1].y;e+=s*(l-o)}return e/2}if(X(arguments[0],G)){var x=arguments[0],A=x.size();if(A<3)return 0;var V=new v,Z=new v,K=new v;x.getCoordinate(0,Z),x.getCoordinate(1,K);var n=Z.x;K.x-=n;for(var e=0,r=1;r<A-1;r++)V.y=Z.y,Z.x=K.x,Z.y=K.y,x.getCoordinate(r+1,K),K.x-=n,e+=Z.x*(V.y-K.y);return e/2}},nt.distanceLineLine=function(t,e,n,r){if(t.equals(e))return nt.distancePointLine(t,n,r);if(n.equals(r))return nt.distancePointLine(r,t,e);var s=!1;if(B.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(o===0)s=!0;else{var l=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),x=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),A=x/o,V=l/o;(V<0||V>1||A<0||A>1)&&(s=!0)}}else s=!0;return s?ot.min(nt.distancePointLine(t,n,r),nt.distancePointLine(e,n,r),nt.distancePointLine(n,t,e),nt.distancePointLine(r,t,e)):0},nt.isPointInRing=function(t,e){return nt.locatePointInRing(t,e)!==L.EXTERIOR},nt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new v;t.getCoordinate(0,r);for(var s=r.x,o=r.y,l=1;l<e;l++){t.getCoordinate(l,r);var x=r.x,A=r.y,V=x-s,Z=A-o;n+=Math.sqrt(V*V+Z*Z),s=x,o=A}return n},nt.isCCW=function(t){var e=t.length-1;if(e<3)throw new a;for(var n=t[0],r=0,s=1;s<=e;s++){var o=t[s];o.y>n.y&&(n=o,r=s)}var l=r;do l-=1,l<0&&(l=e);while(t[l].equals2D(n)&&l!==r);var x=r;do x=(x+1)%e;while(t[x].equals2D(n)&&x!==r);var A=t[l],V=t[x];if(A.equals2D(n)||V.equals2D(n)||A.equals2D(V))return!1;var Z=nt.computeOrientation(A,n,V);return Z===0?A.x>V.x:Z>0},nt.locatePointInRing=function(t,e){return kn.locatePointInRing(t,e)},nt.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),s=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(s)*Math.sqrt(r)},nt.computeOrientation=function(t,e,n){return nt.orientationIndex(t,e,n)},nt.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(e.length===0)throw new a;for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var s=nt.distancePointLine(t,e[r],e[r+1]);s<n&&(n=s)}return n}if(arguments.length===3){var o=arguments[0],l=arguments[1],x=arguments[2];if(l.x===x.x&&l.y===x.y)return o.distance(l);var A=(x.x-l.x)*(x.x-l.x)+(x.y-l.y)*(x.y-l.y),V=((o.x-l.x)*(x.x-l.x)+(o.y-l.y)*(x.y-l.y))/A;if(V<=0)return o.distance(l);if(V>=1)return o.distance(x);var Z=((l.y-o.y)*(x.x-l.x)-(l.x-o.x)*(x.y-l.y))/A;return Math.abs(Z)*Math.sqrt(A)}},nt.isOnLine=function(t,e){for(var n=new Ht,r=1;r<e.length;r++){var s=e[r-1],o=e[r];if(n.computeIntersection(t,s,o),n.hasIntersection())return!0}return!1},nt.CLOCKWISE=-1,nt.RIGHT=nt.CLOCKWISE,nt.COUNTERCLOCKWISE=1,nt.LEFT=nt.COUNTERCLOCKWISE,nt.COLLINEAR=0,nt.STRAIGHT=nt.COLLINEAR,d(dt.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof dt){var t=arguments[0],e=nt.orientationIndex(this.p0,this.p1,t.p0),n=nt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof v){var r=arguments[0];return nt.orientationIndex(this.p0,this.p1,r)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof dt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new Ht;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof v){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new v(t);var e=this.projectionFactor(t),n=new v;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof dt){var r=arguments[0],s=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(s>=1&&o>=1||s<=0&&o<=0)return null;var l=this.project(r.p0);s<0&&(l=this.p0),s>1&&(l=this.p1);var x=this.project(r.p1);return o<0&&(x=this.p0),o>1&&(x=this.p1),new dt(l,x)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return t===0?this.p0:this.p1},distancePerpendicular:function(t){return nt.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return dt.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;if(r<=0)return c.NaN;var s=((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r;return s},closestPoints:function(t){var e=this.intersection(t);if(e!==null)return[e,e];var n=new Array(2).fill(null),r=c.MAX_VALUE,s=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var l=this.closestPoint(t.p1);s=l.distance(t.p1),s<r&&(r=s,n[0]=l,n[1]=t.p1);var x=t.closestPoint(this.p0);s=x.distance(this.p0),s<r&&(r=s,n[0]=this.p0,n[1]=x);var A=t.closestPoint(this.p1);return s=A.distance(this.p1),s<r&&(r=s,n[0]=this.p1,n[1]=A),n},closestPoint:function(t){var e=this.projectionFactor(t);if(e>0&&e<1)return this.project(t);var n=this.p0.distance(t),r=this.p1.distance(t);return n<r?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return n!==0?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{var e=j.intersection(this.p0,this.p1,t.p0,t.p1);return e}catch(n){if(!(n instanceof W))throw n}finally{}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),s=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,l=Math.sqrt(s*s+o*o),x=0,A=0;if(e!==0){if(l<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");x=e*s/l,A=e*o/l}var V=n-A,Z=r+x,K=new v(V,Z);return K},setCoordinates:function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||c.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof dt){var t=arguments[0];return nt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof v){var e=arguments[0];return nt.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new v;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);n^=31*java.lang.Double.doubleToLongBits(this.p1.y);var r=Math.trunc(n)^Math.trunc(n>>32);return e^r},interfaces_:function(){return[f,m]},getClass:function(){return dt}}),dt.midPoint=function(t,e){return new v((t.x+e.x)/2,(t.y+e.y)/2)},dt.serialVersionUID=0x2d2172135f411c00,d(bt.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){var t=bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])||bt.isTrue(this.matrix[L.INTERIOR][L.BOUNDARY])||bt.isTrue(this.matrix[L.BOUNDARY][L.INTERIOR])||bt.isTrue(this.matrix[L.BOUNDARY][L.BOUNDARY]);return t&&this.matrix[L.EXTERIOR][L.INTERIOR]===tt.FALSE&&this.matrix[L.EXTERIOR][L.BOUNDARY]===tt.FALSE},isCoveredBy:function(){var t=bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])||bt.isTrue(this.matrix[L.INTERIOR][L.BOUNDARY])||bt.isTrue(this.matrix[L.BOUNDARY][L.INTERIOR])||bt.isTrue(this.matrix[L.BOUNDARY][L.BOUNDARY]);return t&&this.matrix[L.INTERIOR][L.EXTERIOR]===tt.FALSE&&this.matrix[L.BOUNDARY][L.EXTERIOR]===tt.FALSE},set:function(){if(arguments.length===1)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.matrix[n][r]=tt.toDimensionValue(t.charAt(e))}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.matrix[s][o]=l}},isContains:function(){return bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&this.matrix[L.EXTERIOR][L.INTERIOR]===tt.FALSE&&this.matrix[L.EXTERIOR][L.BOUNDARY]===tt.FALSE},setAtLeast:function(){if(arguments.length===1)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.setAtLeast(n,r,tt.toDimensionValue(t.charAt(e)))}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.matrix[s][o]<l&&(this.matrix[s][o]=l)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&this.matrix[L.INTERIOR][L.EXTERIOR]===tt.FALSE&&this.matrix[L.BOUNDARY][L.EXTERIOR]===tt.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===tt.A&&e===tt.A||t===tt.L&&e===tt.L||t===tt.L&&e===tt.A||t===tt.P&&e===tt.A||t===tt.P&&e===tt.L)&&this.matrix[L.INTERIOR][L.INTERIOR]===tt.FALSE&&(bt.isTrue(this.matrix[L.INTERIOR][L.BOUNDARY])||bt.isTrue(this.matrix[L.BOUNDARY][L.INTERIOR])||bt.isTrue(this.matrix[L.BOUNDARY][L.BOUNDARY]))},isOverlaps:function(t,e){return t===tt.P&&e===tt.P||t===tt.A&&e===tt.A?bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&bt.isTrue(this.matrix[L.INTERIOR][L.EXTERIOR])&&bt.isTrue(this.matrix[L.EXTERIOR][L.INTERIOR]):t===tt.L&&e===tt.L&&this.matrix[L.INTERIOR][L.INTERIOR]===1&&bt.isTrue(this.matrix[L.INTERIOR][L.EXTERIOR])&&bt.isTrue(this.matrix[L.EXTERIOR][L.INTERIOR])},isEquals:function(t,e){return t===e&&bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&this.matrix[L.INTERIOR][L.EXTERIOR]===tt.FALSE&&this.matrix[L.BOUNDARY][L.EXTERIOR]===tt.FALSE&&this.matrix[L.EXTERIOR][L.INTERIOR]===tt.FALSE&&this.matrix[L.EXTERIOR][L.BOUNDARY]===tt.FALSE},toString:function(){for(var t=new F("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,tt.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(t.length!==9)throw new a;for(var e=0;e<3;e++)for(var n=0;n<3;n++)if(!bt.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[L.INTERIOR][L.INTERIOR]===tt.FALSE&&this.matrix[L.INTERIOR][L.BOUNDARY]===tt.FALSE&&this.matrix[L.BOUNDARY][L.INTERIOR]===tt.FALSE&&this.matrix[L.BOUNDARY][L.BOUNDARY]===tt.FALSE},isCrosses:function(t,e){return t===tt.P&&e===tt.L||t===tt.P&&e===tt.A||t===tt.L&&e===tt.A?bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&bt.isTrue(this.matrix[L.INTERIOR][L.EXTERIOR]):t===tt.L&&e===tt.P||t===tt.A&&e===tt.P||t===tt.A&&e===tt.L?bt.isTrue(this.matrix[L.INTERIOR][L.INTERIOR])&&bt.isTrue(this.matrix[L.EXTERIOR][L.INTERIOR]):t===tt.L&&e===tt.L&&this.matrix[L.INTERIOR][L.INTERIOR]===0},interfaces_:function(){return[p]},getClass:function(){return bt}}),bt.matches=function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var t=arguments[0],e=arguments[1];return e===tt.SYM_DONTCARE||e===tt.SYM_TRUE&&(t>=0||t===tt.TRUE)||e===tt.SYM_FALSE&&t===tt.FALSE||e===tt.SYM_P&&t===tt.P||e===tt.SYM_L&&t===tt.L||e===tt.SYM_A&&t===tt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var n=arguments[0],r=arguments[1],s=new bt(n);return s.matches(r)}},bt.isTrue=function(t){return t>=0||t===tt.TRUE};var na=Object.freeze({Coordinate:v,CoordinateList:q,Envelope:B,LineSegment:dt,GeometryFactory:yt,Geometry:Q,Point:At,LineString:mt,LinearRing:qt,Polygon:Mt,GeometryCollection:xt,MultiPoint:fe,MultiLineString:ce,MultiPolygon:Zt,Dimension:tt,IntersectionMatrix:bt,PrecisionModel:St});d(rn.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){this.areaBasePt===null&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);if(r!==0){e+=r;var s=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=r*s;var o=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=r*o}}this.totalLength+=e,e===0&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=nt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new v;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!nt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,r){var s=r?1:-1;rn.centroid3(t,e,n,this.triangleCent3);var o=rn.area2(t,e,n);this.cg3.x+=s*o*this.triangleCent3.x,this.cg3.y+=s*o*this.triangleCent3.y,this.areasum2+=s*o},add:function(){if(arguments[0]instanceof Mt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof Q){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof At)this.addPoint(n.getCoordinate());else if(n instanceof mt)this.addLineSegments(n.getCoordinates());else if(n instanceof Mt){var r=n;this.add(r)}else if(n instanceof xt)for(var s=n,e=0;e<s.getNumGeometries();e++)this.add(s.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return rn}}),rn.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},rn.centroid3=function(t,e,n,r){return r.x=t.x+e.x+n.x,r.y=t.y+e.y+n.y,null},rn.getCentroid=function(t){var e=new rn(t);return e.getCentroid()},Li.prototype=new Error,Li.prototype.name="EmptyStackException",re.prototype=new P,re.prototype.add=function(t){return this.array_.push(t),!0},re.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},re.prototype.push=function(t){return this.array_.push(t),t},re.prototype.pop=function(t){if(this.array_.length===0)throw new Li;return this.array_.pop()},re.prototype.peek=function(){if(this.array_.length===0)throw new Li;return this.array_[this.array_.length-1]},re.prototype.empty=function(){return this.array_.length===0},re.prototype.isEmpty=function(){return this.empty()},re.prototype.search=function(t){return this.array_.indexOf(t)},re.prototype.size=function(){return this.array_.length},re.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},d(ar.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[lt]},getClass:function(){return ar}}),ar.filterCoordinates=function(t){for(var e=new ar,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},d(sn.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return _e.sort(t,1,t.length,new ur(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new q;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),t.length===3)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){I.equals(t[0],t[t.length-1]);for(var e=new C,n=null,r=0;r<=t.length-2;r++){var s=t[r],o=t[r+1];s.equals(o)||n!==null&&this.isBetween(n,s,o)||(e.add(s),n=s)}e.add(t[t.length-1]);var l=new Array(e.size()).fill(null);return e.toArray(l)},isBetween:function(t,e,n){return nt.computeOrientation(t,e,n)!==0?!1:t.x!==n.x&&(t.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=t.x)||t.y!==n.y&&(t.y<=e.y&&e.y<=n.y||n.y<=e.y&&e.y<=t.y)},reduce:function(t){var e=this.computeOctRing(t);if(e===null)return t;for(var n=new Jt,r=0;r<e.length;r++)n.add(e[r]);for(var r=0;r<t.length;r++)nt.isPointInRing(t[r],e)||n.add(t[r]);var s=at.toCoordinateArray(n);return s.length<3?this.padArray3(s):s},getConvexHull:function(){if(this.inputPts.length===0)return this.geomFactory.createGeometryCollection(null);if(this.inputPts.length===1)return this.geomFactory.createPoint(this.inputPts[0]);if(this.inputPts.length===2)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),r=this.toCoordinateArray(n);return this.lineOrPolygon(r)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var r=1;r<t.length;r++)t[r].x<e[0].x&&(e[0]=t[r]),t[r].x-t[r].y<e[1].x-e[1].y&&(e[1]=t[r]),t[r].y>e[2].y&&(e[2]=t[r]),t[r].x+t[r].y>e[3].x+e[3].y&&(e[3]=t[r]),t[r].x>e[4].x&&(e[4]=t[r]),t[r].x-t[r].y>e[5].x-e[5].y&&(e[5]=t[r]),t[r].y<e[6].y&&(e[6]=t[r]),t[r].x+t[r].y<e[7].x+e[7].y&&(e[7]=t[r]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var r=t.get(n);e[n]=r}return e},grahamScan:function(t){var e=null,n=new re;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var r=3;r<t.length;r++){for(e=n.pop();!n.empty()&&nt.computeOrientation(n.peek(),e,t[r])>0;)e=n.pop();e=n.push(e),e=n.push(t[r])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return sn}}),sn.extractCoordinates=function(t){var e=new ar;return t.apply(e),e.getCoordinates()},d(ur.prototype,{compare:function(t,e){var n=t,r=e;return ur.polarCompare(this.origin,n,r)},interfaces_:function(){return[g]},getClass:function(){return ur}}),ur.polarCompare=function(t,e,n){var r=e.x-t.x,s=e.y-t.y,o=n.x-t.x,l=n.y-t.y,x=nt.computeOrientation(t,e,n);if(x===nt.COUNTERCLOCKWISE)return 1;if(x===nt.CLOCKWISE)return-1;var A=r*r+s*s,V=o*o+l*l;return A<V?-1:A>V?1:0},sn.RadialComparator=ur,d(oe.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);r!==null&&r instanceof qt&&!r.isEmpty()||(n=!1);for(var s=new C,o=0;o<t.getNumInteriorRing();o++){var l=this.transformLinearRing(t.getInteriorRingN(o),t);l===null||l.isEmpty()||(l instanceof qt||(n=!1),s.add(l))}if(n)return this.factory.createPolygon(r,s.toArray([]));var x=new C;return r!==null&&x.add(r),x.addAll(s),this.factory.buildGeometry(x)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new C,r=0;r<t.getNumGeometries();r++){var s=this.transformLineString(t.getGeometryN(r),t);s!==null&&(s.isEmpty()||n.add(s))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new C,r=0;r<t.getNumGeometries();r++){var s=this.transformPoint(t.getGeometryN(r),t);s!==null&&(s.isEmpty()||n.add(s))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new C,r=0;r<t.getNumGeometries();r++){var s=this.transformPolygon(t.getGeometryN(r),t);s!==null&&(s.isEmpty()||n.add(s))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new C,r=0;r<t.getNumGeometries();r++){var s=this.transform(t.getGeometryN(r));s!==null&&(this.pruneEmptyGeometry&&s.isEmpty()||n.add(s))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(yt.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof At)return this.transformPoint(t,null);if(t instanceof fe)return this.transformMultiPoint(t,null);if(t instanceof qt)return this.transformLinearRing(t,null);if(t instanceof mt)return this.transformLineString(t,null);if(t instanceof ce)return this.transformMultiLineString(t,null);if(t instanceof Mt)return this.transformPolygon(t,null);if(t instanceof Zt)return this.transformMultiPolygon(t,null);if(t instanceof xt)return this.transformGeometryCollection(t,null);throw new a("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(n===null)return this.factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return oe}}),d(lr.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var s=t.get(r),o=this.findSnapForVertex(s,e);o!==null&&(t.set(r,new v(o)),r===0&&this._isClosed&&t.set(t.size()-1,new v(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new q(this.srcPts);this.snapVertices(e,t),this.snapSegments(e,t);var n=e.toCoordinateArray();return n},snapSegments:function(t,e){if(e.length===0)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var s=e[r],o=this.findSegmentIndexToSnap(s,t);o>=0&&t.add(o+1,new v(s),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=c.MAX_VALUE,r=-1,s=0;s<e.size()-1;s++){if(this.seg.p0=e.get(s),this.seg.p1=e.get(s+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var o=this.seg.distance(t);o<this.snapTolerance&&o<n&&(n=o,r=s)}return r},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return lr}}),lr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},d(ie.prototype,{snapTo:function(t,e){var n=this.extractTargetCoordinates(t),r=new Pr(e,n);return r.transform(this.srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this.srcGeom),r=new Pr(t,n,!0),s=r.transform(this.srcGeom),o=s;return e&&X(o,en)&&(o=s.buffer(0)),o},computeSnapTolerance:function(t){var e=this.computeMinimumSegmentLength(t),n=e/10;return n},extractTargetCoordinates:function(t){for(var e=new Jt,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=c.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},interfaces_:function(){return[]},getClass:function(){return ie}}),ie.snap=function(t,e,n){var r=new Array(2).fill(null),s=new ie(t);r[0]=s.snapTo(e,n);var o=new ie(e);return r[1]=o.snapTo(r[0],n),r},ie.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],e=ie.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===St.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(arguments.length===2){var s=arguments[0],o=arguments[1];return Math.min(ie.computeOverlaySnapTolerance(s),ie.computeOverlaySnapTolerance(o))}},ie.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal(),n=Math.min(e.getHeight(),e.getWidth()),r=n*ie.SNAP_PRECISION_FACTOR;return r},ie.snapToSelf=function(t,e,n){var r=new ie(t);return r.snapToSelf(e,n)},ie.SNAP_PRECISION_FACTOR=1e-9,y(Pr,oe),d(Pr.prototype,{snapLine:function(t,e){var n=new lr(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(r)},interfaces_:function(){return[]},getClass:function(){return Pr}}),d(Ie.prototype,{getCommon:function(){return c.longBitsToDouble(this.commonBits)},add:function(t){var e=c.doubleToLongBits(t);if(this.isFirst)return this.commonBits=e,this.commonSignExp=Ie.signExpBits(this.commonBits),this.isFirst=!1,null;var n=Ie.signExpBits(e);return n!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=Ie.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=Ie.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(arguments.length===1){var t=arguments[0],e=c.longBitsToDouble(t),n=Long.toBinaryString(t),r="0000000000000000000000000000000000000000000000000000000000000000"+n,s=r.substring(r.length-64),o=s.substring(0,1)+"  "+s.substring(1,12)+"(exp) "+s.substring(12)+" [ "+e+" ]";return o}},interfaces_:function(){return[]},getClass:function(){return Ie}}),Ie.getBit=function(t,e){var n=1<<e;return t&n?1:0},Ie.signExpBits=function(t){return t>>52},Ie.zeroLowerBits=function(t,e){var n=(1<<e)-1,r=~n,s=t&r;return s},Ie.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Ie.getBit(t,r)!==Ie.getBit(e,r))return n;n++}return 52},d(Tr.prototype,{addCommonBits:function(t){var e=new Or(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(this.commonCoord.x===0&&this.commonCoord.y===0)return t;var e=new v(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new Or(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Tr}}),d(Ri.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new v(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[lt]},getClass:function(){return Ri}}),d(Or.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[zn]},getClass:function(){return Or}}),Tr.CommonCoordinateFilter=Ri,Tr.Translater=Or,d(Xn.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Xn.isAtomic(this.parent)&&this.index++,this.parent;if(this.subcollectionIterator!==null){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new O;var t=this.parent.getGeometryN(this.index++);return t instanceof xt?(this.subcollectionIterator=new Xn(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(this.subcollectionIterator!==null){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[T]},getClass:function(){return Xn}}),Xn.isAtomic=function(t){return!(t instanceof xt)},d(Un.prototype,{locateInternal:function(){if(arguments[0]instanceof v&&arguments[1]instanceof Mt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return L.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===L.EXTERIOR)return L.EXTERIOR;if(r===L.BOUNDARY)return L.BOUNDARY;for(var s=0;s<e.getNumInteriorRing();s++){var o=e.getInteriorRingN(s),l=this.locateInPolygonRing(t,o);if(l===L.INTERIOR)return L.EXTERIOR;if(l===L.BOUNDARY)return L.BOUNDARY}return L.INTERIOR}if(arguments[0]instanceof v&&arguments[1]instanceof mt){var x=arguments[0],A=arguments[1];if(!A.getEnvelopeInternal().intersects(x))return L.EXTERIOR;var V=A.getCoordinates();return A.isClosed()||!x.equals(V[0])&&!x.equals(V[V.length-1])?nt.isOnLine(x,V)?L.INTERIOR:L.EXTERIOR:L.BOUNDARY}if(arguments[0]instanceof v&&arguments[1]instanceof At){var Z=arguments[0],K=arguments[1],$=K.getCoordinate();return $.equals2D(Z)?L.INTERIOR:L.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?nt.locatePointInRing(t,e.getCoordinates()):L.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==L.EXTERIOR},updateLocationInfo:function(t){t===L.INTERIOR&&(this.isIn=!0),t===L.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof At&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof mt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Mt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ce)for(var n=e,r=0;r<n.getNumGeometries();r++){var s=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof Zt)for(var o=e,r=0;r<o.getNumGeometries();r++){var l=o.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,l))}else if(e instanceof xt)for(var x=new Xn(e);x.hasNext();){var A=x.next();A!==e&&this.computeLocation(t,A)}},locate:function(t,e){return e.isEmpty()?L.EXTERIOR:e instanceof mt?this.locateInternal(t,e):e instanceof Mt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?L.BOUNDARY:this.numBoundaries>0||this.isIn?L.INTERIOR:L.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Un}}),d(hr.prototype,{interfaces_:function(){return[]},getClass:function(){return hr}}),hr.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];if(t===0&&e===0)throw new a;var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof v&&arguments[1]instanceof v){var s=arguments[0],o=arguments[1],l=o.x-s.x,x=o.y-s.y;if(l===0&&x===0)throw new a;return hr.octant(l,x)}},d(_r.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return _r}}),d(Os.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:hr.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return $t.toLineString(new Ee(this.pts))},interfaces_:function(){return[_r]},getClass:function(){return Os}}),d(bi.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return bi}}),d(on.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[bi,m]},getClass:function(){return on}}),d(_s.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return this._size===0},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return _s}}),d(Cn.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Cn}}),d(Mi.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){},interfaces_:function(){return[]},getClass:function(){return Mi}}),d(se.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){I.isTrue(this.bounds===null),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return this.bounds===null&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[bi,m]},getClass:function(){return se}}),se.serialVersionUID=6493722185909574e3;var Qe={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return Qe.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?_e.sort(n,e):_e.sort(n);for(var r=t.iterator(),s=0,o=n.length;s<o;s++)r.next(),r.set(n[s])},singletonList:function(t){var e=new C;return e.add(t),e}};d(ae.prototype,{expandToQueue:function(t,e){var n=ae.isComposite(this.boundable1),r=ae.isComposite(this.boundable2);if(n&&r)return ae.area(this.boundable1)>ae.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new a},isLeaves:function(){return!(ae.isComposite(this.boundable1)||ae.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,r){for(var s=t.getChildBoundables(),o=s.iterator();o.hasNext();){var l=o.next(),x=new ae(l,e,this.itemDistance);x.getDistance()<r&&n.add(x)}},getBoundable:function(t){return t===0?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[f]},getClass:function(){return ae}}),ae.area=function(t){return t.getBounds().getArea()},ae.isComposite=function(t){return t instanceof se},d(Gt.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this.root));if(arguments.length===1){for(var e=arguments[0],n=0,r=e.getChildBoundables().iterator();r.hasNext();){var s=r.next();s instanceof se?n+=this.size(s):s instanceof on&&(n+=1)}return n}},removeItem:function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var s=r.next();s instanceof on&&s.getItem()===e&&(n=s)}return n!==null&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(arguments.length===0){this.build();var t=this.itemsTree(this.root);return t===null?new C:t}if(arguments.length===1){for(var e=arguments[0],n=new C,r=e.getChildBoundables().iterator();r.hasNext();){var s=r.next();if(s instanceof se){var o=this.itemsTree(s);o!==null&&n.add(o)}else s instanceof on?n.add(s.getItem()):I.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){I.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new on(t,e))},boundablesAtLevel:function(){if(arguments.length===1){var t=arguments[0],e=new C;return this.boundablesAtLevel(t,this.root,e),e}if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];if(I.isTrue(n>-2),r.getLevel()===n)return s.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var l=o.next();l instanceof se?this.boundablesAtLevel(n,l,s):(I.isTrue(l instanceof on),n===-1&&s.add(l))}return null}},query:function(){if(arguments.length===1){var t=arguments[0];this.build();var e=new C;return this.isEmpty()||this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e}if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,r)}else if(arguments.length===3){if(X(arguments[2],Cn)&&arguments[0]instanceof Object&&arguments[1]instanceof se)for(var s=arguments[0],o=arguments[1],l=arguments[2],x=o.getChildBoundables(),A=0;A<x.size();A++){var V=x.get(A);this.getIntersectsOp().intersects(V.getBounds(),s)&&(V instanceof se?this.query(s,V,l):V instanceof on?l.visitItem(V.getItem()):I.shouldNeverReachHere())}else if(X(arguments[2],P)&&arguments[0]instanceof Object&&arguments[1]instanceof se)for(var Z=arguments[0],K=arguments[1],$=arguments[2],x=K.getChildBoundables(),A=0;A<x.size();A++){var V=x.get(A);this.getIntersectsOp().intersects(V.getBounds(),Z)&&(V instanceof se?this.query(Z,V,$):V instanceof on?$.add(V.getItem()):I.shouldNeverReachHere())}}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2],o=this.removeItem(r,s);if(o)return!0;for(var l=null,x=r.getChildBoundables().iterator();x.hasNext();){var A=x.next();if(this.getIntersectsOp().intersects(A.getBounds(),n)&&A instanceof se&&(o=this.remove(n,A,s))){l=A;break}}return l!==null&&l.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(l),o}},createHigherLevels:function(t,e){I.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return n.size()===1?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(arguments.length===1){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof se){var s=this.depth(r);s>e&&(e=s)}}return e+1}},createParentBoundables:function(t,e){I.isTrue(!t.isEmpty());var n=new C;n.add(this.createNode(e));var r=new C(t);Qe.sort(r,this.getComparator());for(var s=r.iterator();s.hasNext();){var o=s.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[m]},getClass:function(){return Gt}}),Gt.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Gt.IntersectsOp=Ko,Gt.serialVersionUID=-3886435814360241e3,Gt.DEFAULT_NODE_CAPACITY=10,d(Pi.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Pi}}),y(Dt,Gt),d(Dt.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){I.isTrue(t.length>0);for(var n=new C,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},createNode:function(t){return new Ar(t)},size:function(){return arguments.length===0?Gt.prototype.size.call(this):Gt.prototype.size.apply(this,arguments)},insert:function(){if(arguments.length!==2)return Gt.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void Gt.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Dt.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),s=t.iterator(),o=0;o<e;o++){r[o]=new C;for(var l=0;s.hasNext()&&l<n;){var x=s.next();r[o].add(x),l++}}return r},query:function(){if(arguments.length===1){var t=arguments[0];return Gt.prototype.query.call(this,t)}if(arguments.length===2){var e=arguments[0],n=arguments[1];Gt.prototype.query.call(this,e,n)}else if(arguments.length===3){if(X(arguments[2],Cn)&&arguments[0]instanceof Object&&arguments[1]instanceof se){var r=arguments[0],s=arguments[1],o=arguments[2];Gt.prototype.query.call(this,r,s,o)}else if(X(arguments[2],P)&&arguments[0]instanceof Object&&arguments[1]instanceof se){var l=arguments[0],x=arguments[1],A=arguments[2];Gt.prototype.query.call(this,l,x,A)}}},getComparator:function(){return Dt.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return Gt.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return Gt.prototype.remove.call(this,t,e)}return Gt.prototype.remove.apply(this,arguments)},depth:function(){return arguments.length===0?Gt.prototype.depth.call(this):Gt.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){I.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new C(t);Qe.sort(r,Dt.xComparator);var s=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(s,e)},nearestNeighbour:function(){if(arguments.length===1){if(X(arguments[0],Pi)){var t=arguments[0],e=new ae(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof ae){var n=arguments[0];return this.nearestNeighbour(n,c.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof Dt&&X(arguments[1],Pi)){var r=arguments[0],s=arguments[1],e=new ae(this.getRoot(),r.getRoot(),s);return this.nearestNeighbour(e)}if(arguments[0]instanceof ae&&typeof arguments[1]=="number"){var o=arguments[0],l=arguments[1],x=l,A=null,V=new _s;for(V.add(o);!V.isEmpty()&&x>0;){var Z=V.poll(),K=Z.getDistance();if(K>=x)break;Z.isLeaves()?(x=K,A=Z):Z.expandToQueue(V,x)}return[A.getBoundable(0).getItem(),A.getBoundable(1).getItem()]}}else if(arguments.length===3){var $=arguments[0],ut=arguments[1],ft=arguments[2],gt=new on($,ut),e=new ae(this.getRoot(),gt,ft);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[Mi,m]},getClass:function(){return Dt}}),Dt.centreX=function(t){return Dt.avg(t.getMinX(),t.getMaxX())},Dt.avg=function(t,e){return(t+e)/2},Dt.centreY=function(t){return Dt.avg(t.getMinY(),t.getMaxY())},y(Ar,se),d(Ar.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();t===null?t=new B(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Ar}}),Dt.STRtreeNode=Ar,Dt.serialVersionUID=0x39920f7d5f261e0,Dt.xComparator={interfaces_:function(){return[g]},compare:function(t,e){return Gt.compareDoubles(Dt.centreX(t.getBounds()),Dt.centreX(e.getBounds()))}},Dt.yComparator={interfaces_:function(){return[g]},compare:function(t,e){return Gt.compareDoubles(Dt.centreY(t.getBounds()),Dt.centreY(e.getBounds()))}},Dt.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Dt.DEFAULT_NODE_CAPACITY=10,d(ue.prototype,{interfaces_:function(){return[]},getClass:function(){return ue}}),ue.relativeSign=function(t,e){return t<e?-1:t>e?1:0},ue.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=ue.relativeSign(e.x,n.x),s=ue.relativeSign(e.y,n.y);switch(t){case 0:return ue.compareValue(r,s);case 1:return ue.compareValue(s,r);case 2:return ue.compareValue(s,-r);case 3:return ue.compareValue(-r,s);case 4:return ue.compareValue(-r,-s);case 5:return ue.compareValue(-s,-r);case 6:return ue.compareValue(-s,r);case 7:return ue.compareValue(r,-s)}return I.shouldNeverReachHere("invalid octant value"),0},ue.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0},d(As.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:ue.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[f]},getClass:function(){return As}}),d(Ds.prototype,{getSplitCoordinates:function(){var t=new q;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new C;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),r=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(r)&&t.add(new Y(e+1))}},addEdgeCoordinates:function(t,e,n){e.segmentIndex-t.segmentIndex+2;var r=this.edge.getCoordinate(e.segmentIndex),s=e.isInterior()||!e.coord.equals2D(r);n.add(new v(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this.edge.getCoordinate(o));s&&n.add(new v(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),s=this.createSplitEdge(n,r);t.add(s),n=r}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,r===1&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var s=n.next(),o=this.findCollapseIndex(r,s,e);o&&t.add(new Y(e[0])),r=s}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),s=e.isInterior()||!e.coord.equals2D(r);s||n--;var o=new Array(n).fill(null),l=0;o[l++]=new v(t.coord);for(var x=t.segmentIndex+1;x<=e.segmentIndex;x++)o[l++]=this.edge.getCoordinate(x);return s&&(o[l]=new v(e.coord)),new Ue(o,this.edge.getData())},add:function(t,e){var n=new As(this.edge,t,e,this.edge.getSegmentOctant(e)),r=this.nodeMap.get(n);return r!==null?(I.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0),r=n.getCoordinate(0);if(!r.equals2D(e[0]))throw new N("bad split edge start point at "+r);var s=t.get(t.size()-1),o=s.getCoordinates(),l=o[o.length-1];if(!l.equals2D(e[e.length-1]))throw new N("bad split edge end point at "+l)},interfaces_:function(){return[]},getClass:function(){return Ds}}),d(wo.prototype,{next:function(){return this.currNode===null?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):this.nextNode===null?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex>this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return this.nextNode!==null},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[T]},getClass:function(){return wo}}),d(Fs.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[_r]},getClass:function(){return Fs}}),d(Ue.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:hr.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(arguments.length===4){var n=arguments[0],r=arguments[1],s=arguments[3],o=new v(n.getIntersection(s));this.addIntersection(o,r)}},toString:function(){return $t.toLineString(new Ee(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,r=n+1;if(r<this.pts.length){var s=this.pts[r];t.equals2D(s)&&(n=r)}var o=this.nodeList.add(t,n);return o},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[Fs]},getClass:function(){return Ue}}),Ue.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],e=new C;return Ue.getNodedSubstrings(t,e),e}if(arguments.length===2)for(var n=arguments[0],r=arguments[1],s=n.iterator();s.hasNext();){var o=s.next();o.getNodeList().addSplitEdges(r)}},d(Dr.prototype,{overlap:function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(r,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}}},interfaces_:function(){return[]},getClass:function(){return Dr}}),d(qs.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,r){var s=this.pts[e],o=this.pts[n];if(r.tempEnv1.init(s,o),n-e===1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var l=Math.trunc((e+n)/2);e<l&&this.computeSelect(t,e,l,r),l<n&&this.computeSelect(t,l,n,r)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(this.env===null){var t=this.pts[this.start],e=this.pts[this.end];this.env=new B(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,r,s,o){var l=this.pts[t],x=this.pts[e],A=n.pts[r],V=n.pts[s];if(e-t===1&&s-r===1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(l,x),o.tempEnv2.init(A,V),!o.tempEnv1.intersects(o.tempEnv2))return null;var Z=Math.trunc((t+e)/2),K=Math.trunc((r+s)/2);t<Z&&(r<K&&this.computeOverlapsInternal(t,Z,n,r,K,o),K<s&&this.computeOverlapsInternal(t,Z,n,K,s,o)),Z<e&&(r<K&&this.computeOverlapsInternal(Z,e,n,r,K,o),K<s&&this.computeOverlapsInternal(Z,e,n,K,s,o))},interfaces_:function(){return[]},getClass:function(){return qs}}),d(Nt.prototype,{interfaces_:function(){return[]},getClass:function(){return Nt}}),Nt.isNorthern=function(t){return t===Nt.NE||t===Nt.NW},Nt.isOpposite=function(t,e){if(t===e)return!1;var n=(t-e+4)%4;return n===2},Nt.commonHalfPlane=function(t,e){if(t===e)return t;var n=(t-e+4)%4;if(n===2)return-1;var r=t<e?t:e,s=t>e?t:e;return r===0&&s===3?3:r},Nt.isInHalfPlane=function(t,e){return e===Nt.SE?t===Nt.SE||t===Nt.SW:t===e||t===e+1},Nt.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];if(t===0&&e===0)throw new a;return t>=0?e>=0?Nt.NE:Nt.SE:e>=0?Nt.NW:Nt.SW}if(arguments[0]instanceof v&&arguments[1]instanceof v){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new a;return r.x>=n.x?r.y>=n.y?Nt.NE:Nt.SE:r.y>=n.y?Nt.NW:Nt.SW}},Nt.NE=0,Nt.NW=1,Nt.SW=2,Nt.SE=3,d(Ae.prototype,{interfaces_:function(){return[]},getClass:function(){return Ae}}),Ae.getChainStartIndices=function(t){var e=0,n=new C;n.add(new Y(e));do{var r=Ae.findChainEnd(t,e);n.add(new Y(r)),e=r}while(e<t.length-1);var s=Ae.toIntArray(n);return s},Ae.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Nt.quadrant(t[n],t[n+1]),s=e+1;s<t.length;){if(!t[s-1].equals2D(t[s])){var o=Nt.quadrant(t[s-1],t[s]);if(o!==r)break}s++}return s-1},Ae.getChains=function(){if(arguments.length===1){var t=arguments[0];return Ae.getChains(t,null)}if(arguments.length===2){for(var e=arguments[0],n=arguments[1],r=new C,s=Ae.getChainStartIndices(e),o=0;o<s.length-1;o++){var l=new qs(e,s[o],s[o+1],n);r.add(l)}return r}},Ae.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},d(Fr.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Fr}}),d(Ti.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[Fr]},getClass:function(){return Ti}}),y(wn,Ti),d(wn.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Ue.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Ae.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var r=n.next();r.setId(this.idCounter++),this.index.insert(r.getEnvelope(),r),this.monoChains.add(r)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new qr(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this.index.query(n.getEnvelope()),s=r.iterator();s.hasNext();){var o=s.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return wn}}),y(qr,Dr),d(qr.prototype,{overlap:function(){if(arguments.length!==4)return Dr.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3],s=t.getContext(),o=n.getContext();this.si.processIntersections(s,e,o,r)},interfaces_:function(){return[]},getClass:function(){return qr}}),wn.SegmentOverlapAction=qr,y(ge,N),d(ge.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return ge}}),ge.msgWithCoord=function(t,e){return e!==null?t+" [ "+e+" ]":t},d(Gr.prototype,{processIntersections:function(t,e,n,r){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Gr}}),d(vn.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,r){if(!this.findAllIntersections&&this.hasIntersection()||t===n&&e===r)return null;if(this.isCheckEndSegmentsOnly){var s=this.isEndSegment(t,e)||this.isEndSegment(n,r);if(!s)return null}var o=t.getCoordinates()[e],l=t.getCoordinates()[e+1],x=n.getCoordinates()[r],A=n.getCoordinates()[r+1];this.li.computeIntersection(o,l,x,A),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=o,this.intSegments[1]=l,this.intSegments[2]=x,this.intSegments[3]=A,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return e===0||e>=t.size()-2},hasIntersection:function(){return this.interiorIntersection!==null},isDone:function(){return!this.findAllIntersections&&this.interiorIntersection!==null},interfaces_:function(){return[Gr]},getClass:function(){return vn}}),vn.createAllIntersectionsFinder=function(t){var e=new vn(t);return e.setFindAllIntersections(!0),e},vn.createAnyIntersectionFinder=function(t){return new vn(t)},vn.createIntersectionCounter=function(t){var e=new vn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},d(Br.prototype,{execute:function(){return this.segInt!==null?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new vn(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new wn;if(t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new ge(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+$t.toLineString(t[0],t[1])+" and "+$t.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return Br}}),Br.computeIntersections=function(t){var e=new Br(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},d(Yn.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.toSegmentStrings=function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Os(r.getCoordinates(),r))}return e},Yn.checkValid=function(t){var e=new Yn(t);e.checkValid()},d(cr.prototype,{map:function(t){for(var e=new C,n=0;n<t.getNumGeometries();n++){var r=this.mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(yt.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return cr}}),cr.map=function(t,e){var n=new cr(e);return n.map(t)},d(et.prototype,{interfaces_:function(){return[]},getClass:function(){return et}}),et.opposite=function(t){return t===et.LEFT?et.RIGHT:t===et.RIGHT?et.LEFT:t},et.ON=0,et.LEFT=1,et.RIGHT=2,d(de.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==L.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===L.NONE&&(this.location[e]=t)},isLine:function(){return this.location.length===1},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[et.ON]=this.location[et.ON],e[et.LEFT]=L.NONE,e[et.RIGHT]=L.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===L.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[et.LEFT];this.location[et.LEFT]=this.location[et.RIGHT],this.location[et.RIGHT]=t},toString:function(){var t=new F;return this.location.length>1&&t.append(L.toLocationSymbol(this.location[et.LEFT])),t.append(L.toLocationSymbol(this.location[et.ON])),this.location.length>1&&t.append(L.toLocationSymbol(this.location[et.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[et.ON]=t,this.location[et.LEFT]=e,this.location[et.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:L.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===L.NONE)return!0;return!1},setLocation:function(){if(arguments.length===1){var t=arguments[0];this.setLocation(et.ON,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(L.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return de}}),d(Bt.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)this.elt[e]===null&&t.elt[e]!==null?this.elt[e]=new de(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(et.ON)}if(arguments.length===2){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new F;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(et.ON,e)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];this.elt[n].setLocation(r,s)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new de(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return Bt}}),Bt.toLineLabel=function(t){for(var e=new Bt(L.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e},d(fr.prototype,{computeRing:function(){if(this.ring!==null)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=nt.isCCW(this.ring.getCoordinates())},isIsolated:function(){return this.label.getGeometryCount()===1},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(e===null)throw new ge("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new ge("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var r=e.getLabel();I.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this.maxNodeDegree&&(this.maxNodeDegree=n),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var r=t.getCoordinates();if(e){var s=1;n&&(s=0);for(var o=s;o<r.length;o++)this.pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var o=s;o>=0;o--)this.pts.add(r[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing(),n=e.getEnvelopeInternal();if(!n.contains(t)||!nt.isPointInRing(t,e.getCoordinates()))return!1;for(var r=this.holes.iterator();r.hasNext();){var s=r.next();if(s.containsPoint(t))return!1}return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return this.shell===null},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var e=arguments[0],n=arguments[1],r=e.getLocation(n,et.RIGHT);if(r===L.NONE)return null;if(this.label.getLocation(n)===L.NONE)return this.label.setLocation(n,r),null}},setShell:function(t){this.shell=t,t!==null&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();var r=t.createPolygon(this.getLinearRing(),e);return r},interfaces_:function(){return[]},getClass:function(){return fr}}),y(Oi,fr),d(Oi.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return Oi}}),y(zr,fr),d(zr.prototype,{buildMinimalRings:function(){var t=new C,e=this.startDe;do{if(e.getMinEdgeRing()===null){var n=new Oi(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{var e=t.getNode();e.getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return zr}}),d(Sn.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){I.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return Sn}}),y(an,Sn),d(an.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){var e=t.next();if(e.getEdge().isInResult())return!0}return!1},isIsolated:function(){return this.label.getGeometryCount()===1},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=L.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==L.BOUNDARY&&(n=r)}return n},setLabel:function(){if(arguments.length!==2)return Sn.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];this.label===null?this.label=new Bt(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof an){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof Bt)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n),s=this.label.getLocation(n);s===L.NONE&&this.label.setLocation(n,r)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(this.label===null)return null;var e=L.NONE;this.label!==null&&(e=this.label.getLocation(t));var n=null;switch(e){case L.BOUNDARY:n=L.INTERIOR;break;case L.INTERIOR:n=L.BOUNDARY;break;default:n=L.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return an}}),d(gr.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof v){var t=arguments[0],e=this.nodeMap.get(t);return e===null&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof an){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return e===null?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new C,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===L.BOUNDARY&&e.add(r)}return e},add:function(t){var e=t.getCoordinate(),n=this.addNode(e);n.add(t)},interfaces_:function(){return[]},getClass:function(){return gr}}),d(Ye.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:nt.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),r=n.lastIndexOf("."),s=n.substring(r+1);t.print("  "+s+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf("."),r=e.substring(n+1);return"  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Nt.quadrant(this.dx,this.dy),I.isTrue(!(this.dx===0&&this.dy===0),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[f]},getClass:function(){return Ye}}),y(Hn,Ye),d(Hn.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new Bt(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(this.depth[t]!==-999&&this.depth[t]!==e)throw new ge("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var e=!0,n=0;n<2;n++)this.label.isArea(n)&&this.label.getLocation(n,et.LEFT)===L.INTERIOR&&this.label.getLocation(n,et.RIGHT)===L.INTERIOR||(e=!1);return e},setNextMin:function(t){this.nextMin=t},print:function(t){Ye.prototype.print.call(this,t),t.print(" "+this.depth[et.LEFT]+"/"+this.depth[et.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,L.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,L.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===et.LEFT&&(r=-1);var s=et.opposite(t),o=n*r,l=e+o;this.setDepth(t,e),this.setDepth(s,l)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return Hn}}),Hn.depthFactor=function(t,e){return t===L.EXTERIOR&&e===L.INTERIOR?1:t===L.INTERIOR&&e===L.EXTERIOR?-1:0},d(Wn.prototype,{createNode:function(t){return new an(t,null)},interfaces_:function(){return[]},getClass:function(){return Wn}}),d(He.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof an){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof v){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){k.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(n===null)return!1;var r=n.getLabel();return r!==null&&r.getLocation(t)===L.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,r){return!!t.equals(n)&&nt.computeOrientation(t,e,r)===nt.COLLINEAR&&Nt.quadrant(t,e)===Nt.quadrant(n,r)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){k.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),s=r.getCoordinates();if(this.matchInSameDirection(t,e,s[0],s[1])||this.matchInSameDirection(t,e,s[s.length-1],s[s.length-2]))return r}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var r=new Hn(n,!0),s=new Hn(n,!1);r.setSym(s),s.setSym(r),this.add(r),this.add(s)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),s=r.getCoordinates();if(t.equals(s[0])&&e.equals(s[1]))return r}return null},interfaces_:function(){return[]},getClass:function(){return He}}),He.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.getEdges().linkResultDirectedEdges()}},d(_i.prototype,{sortShellsAndHoles:function(t,e,n){for(var r=t.iterator();r.hasNext();){var s=r.next();s.isHole()?n.add(s):e.add(s)}},computePolygons:function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next(),s=r.toPolygon(this.geometryFactory);e.add(s)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(r.getShell()===null){var s=this.findEdgeRingContaining(r,t);if(s===null)throw new ge("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(s)}}},buildMinimalEdgeRings:function(t,e,n){for(var r=new C,s=t.iterator();s.hasNext();){var o=s.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var l=o.buildMinimalRings(),x=this.findShell(l);x!==null?(this.placePolygonHoles(x,l),e.add(x)):n.addAll(l)}else r.add(o)}return r},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();){var n=e.next();if(n.containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&r.getEdgeRing()===null){var s=new zr(r,this.geometryFactory);e.add(s),s.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},getPolygons:function(){var t=this.computePolygons(this.shellList);return t},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),s=n.getCoordinateN(0),o=null,l=null,x=e.iterator();x.hasNext();){var A=x.next(),V=A.getLinearRing(),Z=V.getEnvelopeInternal();o!==null&&(l=o.getLinearRing().getEnvelopeInternal());var K=!1;Z.contains(r)&&nt.isPointInRing(s,V.getCoordinates())&&(K=!0),K&&(o===null||l.contains(Z))&&(o=A)}return o},findShell:function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var s=r.next();s.isHole()||(n=s,e++)}return I.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var e=arguments[0],n=arguments[1];He.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),s=new C,o=this.buildMinimalEdgeRings(r,this.shellList,s);this.sortShellsAndHoles(o,this.shellList,s),this.placeFreeHoles(this.shellList,s)}},interfaces_:function(){return[]},getClass:function(){return _i}}),d(Gs.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var r=t.getLabel(),s=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ht.isResultOfOp(r,e)||s.isCovered()||(n.add(s),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().findCoveredLineEdges()}for(var n=this.op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next(),s=r.getEdge();if(r.isLineEdge()&&!s.isCoveredSet()){var o=this.op.isCoveredByA(r.getCoordinate());s.setCovered(o)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(r),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(I.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ht.isResultOfOp(r,e)&&e===ht.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Gs}}),d(Bs.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||n.getEdges().getDegree()!==0&&t!==ht.INTERSECTION)){var r=n.getLabel();ht.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return Bs}}),d(Ai.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Ai}}),d(Ne.prototype,{locate:function(t){return Ne.locate(t,this.geom)},interfaces_:function(){return[Ai]},getClass:function(){return Ne}}),Ne.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&nt.isPointInRing(t,e.getCoordinates())},Ne.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Ne.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var s=e.getInteriorRingN(r);if(Ne.isPointInRing(t,s))return!1}return!0},Ne.containsPoint=function(t,e){if(e instanceof Mt)return Ne.containsPointInPolygon(t,e);if(e instanceof xt)for(var n=new Xn(e);n.hasNext();){var r=n.next();if(r!==e&&Ne.containsPoint(t,r))return!0}return!1},Ne.locate=function(t,e){return e.isEmpty()?L.EXTERIOR:Ne.containsPoint(t,e)?L.INTERIOR:L.EXTERIOR},d(Zn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return e===0&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=L.NONE,n=this.iterator();n.hasNext();){var r=n.next(),s=r.getLabel();s.isArea(t)&&s.getLocation(t,et.LEFT)!==L.NONE&&(e=s.getLocation(t,et.LEFT))}if(e===L.NONE)return null;for(var o=e,n=this.iterator();n.hasNext();){var r=n.next(),s=r.getLabel();if(s.getLocation(t,et.ON)===L.NONE&&s.setLocation(t,et.ON,o),s.isArea(t)){var l=s.getLocation(t,et.LEFT),x=s.getLocation(t,et.RIGHT);if(x!==L.NONE){if(x!==o)throw new ge("side location conflict",r.getCoordinate());l===L.NONE&&I.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")"),o=l}else I.isTrue(s.getLocation(t,et.LEFT)===L.NONE,"found single null side"),s.setLocation(t,et.RIGHT,o),s.setLocation(t,et.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()},print:function(t){k.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel(),s=r.getLocation(t,et.LEFT);I.isTrue(s!==L.NONE,"Found unlabelled area edge");for(var o=s,l=this.iterator();l.hasNext();){var x=l.next(),A=x.getLabel();I.isTrue(A.isArea(t),"Found non-area edge");var V=A.getLocation(t,et.LEFT),Z=A.getLocation(t,et.RIGHT);if(V===Z||Z!==o)return!1;o=V}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){var n=this.edgeList.get(e);if(n===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return this.edgeList===null&&(this.edgeList=new C(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===L.NONE&&(this.ptInAreaLocation[t]=Ne.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new F;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append(`
`)}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next(),s=r.getLabel(),o=0;o<2;o++)s.isLine(o)&&s.getLocation(o)===L.BOUNDARY&&(e[o]=!0);for(var n=this.iterator();n.hasNext();)for(var r=n.next(),s=r.getLabel(),o=0;o<2;o++)if(s.isAnyNull(o)){var l=L.NONE;if(e[o])l=L.EXTERIOR;else{var x=r.getCoordinate();l=this.getLocation(o,x,t)}s.setAllLocationsIfNull(o,l)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Zn}}),y(Di,Zn),d(Di.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,r=0;r<this.resultAreaEdgeList.size();r++){var s=this.resultAreaEdgeList.get(r),o=s.getSym();if(s.getLabel().isArea())switch(t===null&&s.isInResult()&&(t=s),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!s.isInResult())continue;e.setNext(s),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(t===null)throw new ge("no outgoing dirEdge found",this.getCoordinate());I.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(e===1)return n;var r=t.get(e-1),s=n.getQuadrant(),o=r.getQuadrant();return Nt.isNorthern(s)&&Nt.isNorthern(o)?n:!Nt.isNorthern(s)&&!Nt.isNorthern(o)?r:n.getDy()!==0?n:r.getDy()!==0?r:(I.shouldNeverReachHere("found two horizontal edges incident on node"),null)},print:function(t){k.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(this.resultAreaEdgeList!==null)return this.resultAreaEdgeList;this.resultAreaEdgeList=new C;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();r.setAllLocationsIfNull(0,t.getLocation(0)),r.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var r=this.edgeList.get(n),s=r.getSym();e===null&&(e=s),t!==null&&s.setNext(t),t=r}e.setNext(t)},computeDepths:function(){if(arguments.length===1){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(et.LEFT)),r=t.getDepth(et.RIGHT),s=this.computeDepths(e+1,this.edgeList.size(),n),o=this.computeDepths(0,e,s);if(o!==r)throw new ge("depth mismatch at "+t.getCoordinate())}else if(arguments.length===3){for(var l=arguments[0],x=arguments[1],A=arguments[2],V=A,Z=l;Z<x;Z++){var K=this.edgeList.get(Z);K.getLabel(),K.setEdgeDepths(et.RIGHT,V),V=K.getDepth(et.LEFT)}return V}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();n.merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,r=this.SCANNING_FOR_INCOMING,s=this.resultAreaEdgeList.size()-1;s>=0;s--){var o=this.resultAreaEdgeList.get(s),l=o.getSym();switch(e===null&&o.getEdgeRing()===t&&(e=o),r){case this.SCANNING_FOR_INCOMING:if(l.getEdgeRing()!==t)continue;n=l,r=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this.SCANNING_FOR_INCOMING}}r===this.LINKING_TO_OUTGOING&&(I.isTrue(e!==null,"found null for first outgoing dirEdge"),I.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(arguments.length===0){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(arguments.length===1){for(var r=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===r&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=L.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=L.INTERIOR;break}if(r.isInResult()){t=L.EXTERIOR;break}}}if(t===L.NONE)return null;for(var s=t,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();n.isLineEdge()?n.getEdge().setCovered(s===L.INTERIOR):(n.isInResult()&&(s=L.EXTERIOR),r.isInResult()&&(s=L.INTERIOR))}},computeLabelling:function(t){Zn.prototype.computeLabelling.call(this,t),this.label=new Bt(L.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),r=n.getEdge(),s=r.getLabel(),o=0;o<2;o++){var l=s.getLocation(o);l!==L.INTERIOR&&l!==L.BOUNDARY||this.label.setLocation(o,L.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Di}}),y(dr,Wn),d(dr.prototype,{createNode:function(t){return new an(t,new Di)},interfaces_:function(){return[]},getClass:function(){return dr}}),d(zs.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return zs}}),d(un.prototype,{isDelete:function(){return this.eventType===un.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===un.INSERT},isSameLabel:function(t){return this.label!==null&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[f]},getClass:function(){return un}}),un.INSERT=1,un.DELETE=2,d(Fi.prototype,{interfaces_:function(){return[]},getClass:function(){return Fi}}),d(Ln.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&this.li.getIntersectionNum()===1){if(Ln.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var s=t.getNumPoints()-1;if(e===0&&r===s||r===0&&e===s)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next(),s=r.getCoordinate();if(t.isIntersection(s))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return e!==null&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var s=t.getCoordinates()[e],o=t.getCoordinates()[e+1],l=n.getCoordinates()[r],x=n.getCoordinates()[r+1];this.li.computeIntersection(s,o,l,x),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Ln}}),Ln.isAdjacentSegments=function(t,e){return Math.abs(t-e)===1},y(qi,Fi),d(qi.prototype,{prepareEvents:function(){Qe.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(arguments.length===1){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Ln&&X(arguments[0],P)&&X(arguments[1],P)){var r=arguments[0],s=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(s,s),this.computeIntersections(o)}else if(typeof arguments[2]=="boolean"&&X(arguments[0],P)&&arguments[1]instanceof Ln){var l=arguments[0],x=arguments[1],A=arguments[2];A?this.addEdges(l,null):this.addEdges(l),this.computeIntersections(x)}}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),s=0;s<r.length-1;s++){var o=new zs(n,s),l=new un(e,n.getMinX(s),o);this.events.add(l),this.events.add(new un(n.getMaxX(s),l))}},processOverlaps:function(t,e,n,r){for(var s=n.getObject(),o=t;o<e;o++){var l=this.events.get(o);if(l.isInsert()){var x=l.getObject();n.isSameLabel(l)||(s.computeIntersections(x,r),this.nOverlaps++)}}},addEdges:function(){if(arguments.length===1)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(arguments.length===2)for(var r=arguments[0],s=arguments[1],e=r.iterator();e.hasNext();){var n=e.next();this.addEdge(n,s)}},interfaces_:function(){return[]},getClass:function(){return qi}}),d(Jn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return $t.toLineString(new v(this.min,0),new v(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Jn}}),d(Vs.prototype,{compare:function(t,e){var n=t,r=e,s=(n.min+n.max)/2,o=(r.min+r.max)/2;return s<o?-1:s>o?1:0},interfaces_:function(){return[g]},getClass:function(){return Vs}}),Jn.NodeComparator=Vs,y(Gi,Jn),d(Gi.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Gi}}),y(Bi,Jn),d(Bi.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(this.node1!==null&&this.node1.query(t,e,n),void(this.node2!==null&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return Bi}}),d(ks.prototype,{buildTree:function(){Qe.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new C;;){if(this.buildLevel(t,n),n.size()===1)return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(this.root!==null)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Gi(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return this.root!==null?null:void(this.root=this.buildTree())},printNode:function(t){k.out.println($t.toLineString(new v(t.min,this.level),new v(t.max,this.level)))},init:function(){return this.root!==null?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n),s=n+1<t.size()?t.get(n):null;if(s===null)e.add(r);else{var o=new Bi(t.get(n),t.get(n+1));e.add(o)}}},interfaces_:function(){return[]},getClass:function(){return ks}}),d(te.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof qt){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof mt&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[it]},getClass:function(){return te}}),te.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(te.getLines(t))}if(arguments.length===2){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(te.getLines(e,n))}},te.getLines=function(){if(arguments.length===1){var t=arguments[0];return te.getLines(t,!1)}if(arguments.length===2){if(X(arguments[0],w)&&X(arguments[1],w)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var s=r.next();te.getLines(s,n)}return n}if(arguments[0]instanceof Q&&typeof arguments[1]=="boolean"){var o=arguments[0],l=arguments[1],x=new C;return o.apply(new te(x,l)),x}if(arguments[0]instanceof Q&&X(arguments[1],w)){var A=arguments[0],V=arguments[1];return A instanceof mt?V.add(A):A.apply(new te(V)),V}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&X(arguments[0],w)&&X(arguments[1],w)){for(var Z=arguments[0],K=arguments[1],$=arguments[2],r=Z.iterator();r.hasNext();){var s=r.next();te.getLines(s,K,$)}return K}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Q&&X(arguments[1],w)){var ut=arguments[0],ft=arguments[1],gt=arguments[2];return ut.apply(new te(ft,gt)),ft}}},d(zi.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Cn]},getClass:function(){return zi}}),d(Vr.prototype,{locate:function(t){var e=new kn(t),n=new Vi(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[Ai]},getClass:function(){return Vr}}),d(Vi.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Cn]},getClass:function(){return Vi}}),d(ki.prototype,{init:function(t){for(var e=te.getLines(t),n=e.iterator();n.hasNext();){var r=n.next(),s=r.getCoordinates();this.addLine(s)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new dt(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),s=Math.max(n.p0.y,n.p1.y);this.index.insert(r,s,n)}},query:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new zi;return this.index.query(t,e,n),n.getItems()}if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2];this.index.query(r,s,o)}},interfaces_:function(){return[]},getClass:function(){return ki}}),Vr.SegmentVisitor=Vi,Vr.IntervalIndexedGeometry=ki,d(Xs.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[f]},getClass:function(){return Xs}}),d(Us.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),s=this.createSplitEdge(n,r);t.add(s),n=r}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],s=e.dist>0||!e.coord.equals2D(r);s||n--;var o=new Array(n).fill(null),l=0;o[l++]=new v(t.coord);for(var x=t.segmentIndex+1;x<=e.segmentIndex;x++)o[l++]=this.edge.pts[x];return s&&(o[l]=e.coord),new be(o,new Bt(this.edge.label))},add:function(t,e,n){var r=new Xs(t,e,n),s=this.nodeMap.get(r);return s!==null?s:(this.nodeMap.put(r,r),r)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();if(n.coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return Us}}),d(kr.prototype,{getChainStartIndices:function(t){var e=0,n=new C;n.add(new Y(e));do{var r=this.findChainEnd(t,e);n.add(new Y(r)),e=r}while(e<t.length-1);var s=kr.toIntArray(n);return s},findChainEnd:function(t,e){for(var n=Nt.quadrant(t[e],t[e+1]),r=e+1;r<t.length;){var s=Nt.quadrant(t[r-1],t[r]);if(s!==n)break;r++}return r-1},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},d(Ys.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(arguments.length===4){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(arguments.length===6){var s=arguments[0],o=arguments[1],l=arguments[2],x=arguments[3],A=arguments[4],V=arguments[5],Z=this.pts[s],K=this.pts[o],$=l.pts[x],ut=l.pts[A];if(o-s===1&&A-x===1)return V.addIntersections(this.e,s,l.e,x),null;if(this.env1.init(Z,K),this.env2.init($,ut),!this.env1.intersects(this.env2))return null;var ft=Math.trunc((s+o)/2),gt=Math.trunc((x+A)/2);s<ft&&(x<gt&&this.computeIntersectsForChain(s,ft,l,x,gt,V),gt<A&&this.computeIntersectsForChain(s,ft,l,gt,A,V)),ft<o&&(x<gt&&this.computeIntersectsForChain(ft,o,l,x,gt,V),gt<A&&this.computeIntersectsForChain(ft,o,l,gt,A,V))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},interfaces_:function(){return[]},getClass:function(){return Ys}}),d(De.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(arguments.length===0){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this.depth[t][e]!==De.NULL_VALUE)return!1;return!0}if(arguments.length===1){var n=arguments[0];return this.depth[n][1]===De.NULL_VALUE}if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.depth[r][s]===De.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this.depth[t][n]>e&&(r=1),this.depth[t][n]=r}}},getDelta:function(t){return this.depth[t][et.RIGHT]-this.depth[t][et.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?L.EXTERIOR:L.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(arguments.length===1)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==L.EXTERIOR&&r!==L.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=De.depthAtLocation(r):this.depth[e][n]+=De.depthAtLocation(r))}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];l===L.INTERIOR&&this.depth[s][o]++}},interfaces_:function(){return[]},getClass:function(){return De}}),De.depthAtLocation=function(t){return t===L.EXTERIOR?0:t===L.INTERIOR?1:De.NULL_VALUE},De.NULL_VALUE=-1,y(be,Sn),d(be.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);t[0]=this.pts[0],t[1]=this.pts[1];var e=new be(t,Bt.toLineLabel(this.label));return e},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof be))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,s=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--s])||(r=!1),!n&&!r)return!1;return!0},getCoordinate:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){be.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return this.mce===null&&(this.mce=new Ys(this)),this.mce},getEnvelope:function(){if(this.env===null){this.env=new B;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,r){var s=new v(t.getIntersection(r)),o=e,l=t.getEdgeDistance(n,r),x=o+1;if(x<this.pts.length){var A=this.pts[x];s.equals2D(A)&&(o=x,l=0)}this.eiList.add(s,o,l)},toString:function(){var t=new F;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[]},getClass:function(){return be}}),be.updateIM=function(){if(arguments.length!==2)return Sn.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,et.ON),t.getLocation(1,et.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,et.LEFT),t.getLocation(1,et.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,et.RIGHT),t.getLocation(1,et.RIGHT),2))},y(le,He),d(le.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e),r=n.getLabel(),s=1,o=L.NONE;o=r.getLocation(t,et.ON),o===L.BOUNDARY&&s++;var l=le.determineBoundary(this.boundaryNodeRule,s);r.setLocation(t,l)},computeSelfNodes:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2],o=new Ln(n,!0,!1);o.setIsDoneIfProperInt(s);var l=this.createEdgeSetIntersector(),x=this.parentGeom instanceof qt||this.parentGeom instanceof Mt||this.parentGeom instanceof Zt,A=r||!x;return l.computeIntersections(this.edges,o,A),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();){var n=e.next();n.eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var r=new Ln(e,n,!0);r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());var s=this.createEdgeSetIntersector();return s.computeIntersections(this.edges,t.edges,r),r},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof At){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,L.INTERIOR)}else if(arguments[0]instanceof v){var n=arguments[0];this.insertPoint(this.argIndex,n,L.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),L.EXTERIOR,L.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,L.INTERIOR,L.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],L.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],L.BOUNDARY)},addLineString:function(t){var e=at.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new be(e,new Bt(this.argIndex,L.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),I.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var s=r.next();e[n++]=s.getCoordinate().copy()}return e},getBoundaryNodes:function(){return this.boundaryNodes===null&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===L.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var r=at.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=r[0],null;var s=e,o=n;nt.isCCW(r)&&(s=n,o=e);var l=new be(r,new Bt(this.argIndex,L.BOUNDARY,s,o));this.lineEdgeMap.put(t,l),this.insertEdge(l),this.insertPoint(this.argIndex,r[0],L.BOUNDARY)},insertPoint:function(t,e,n){var r=this.nodes.addNode(e),s=r.getLabel();s===null?r.label=new Bt(t,n):s.setLocation(t,n)},createEdgeSetIntersector:function(){return new qi},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),s=n.eiList.iterator();s.hasNext();){var o=s.next();this.addSelfIntersectionNode(t,o.coord,r)}},add:function(){if(arguments.length!==1)return He.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Zt&&(this.useBoundaryDeterminationRule=!1),t instanceof Mt)this.addPolygon(t);else if(t instanceof mt)this.addLineString(t);else if(t instanceof At)this.addPoint(t);else if(t instanceof fe)this.addCollection(t);else if(t instanceof ce)this.addCollection(t);else if(t instanceof Zt)this.addCollection(t);else{if(!(t instanceof xt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return X(this.parentGeom,en)&&this.parentGeom.getNumGeometries()>50?(this.areaPtLocator===null&&(this.areaPtLocator=new Vr(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(arguments.length===1){var t=arguments[0];return this.lineEdgeMap.get(t)}return He.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return le}}),le.determineBoundary=function(t,e){return t.isInBoundary(e)?L.BOUNDARY:L.INTERIOR},d(Rn.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return Rn}}),d(bn.prototype,{compareTo:function(t){var e=t,n=bn.compareOriented(this.pts,this._orientation,e.pts,e._orientation);return n},interfaces_:function(){return[f]},getClass:function(){return bn}}),bn.orientation=function(t){return at.increasingDirection(t)===1},bn.compareOriented=function(t,e,n,r){for(var s=e?1:-1,o=r?1:-1,l=e?t.length:-1,x=r?n.length:-1,A=e?0:t.length-1,V=r?0:n.length-1;;){var Z=t[A].compareTo(n[V]);if(Z!==0)return Z;A+=s,V+=o;var K=A===l,$=V===x;if(K&&!$)return-1;if(!K&&$)return 1;if(K&&$)return 0}},d(Xi.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),s=0;s<r.length;s++)s>0&&t.print(","),t.print(r[s].x+" "+r[s].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new bn(t.getCoordinates()),n=this.ocaMap.get(e);return n},add:function(t){this.edges.add(t);var e=new bn(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return Xi}}),y(ht,Rn),d(ht.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(e!==null){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Bt(t.getLabel()),r.flip());var s=e.getDepth();s.isNull()&&s.add(n),s.add(r),n.merge(r)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,r){var s=new C;return s.addAll(t),s.addAll(e),s.addAll(n),s.isEmpty()?ht.createEmptyResult(r,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(s)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next(),s=this.ptLocator.locate(t,r);if(s!==L.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new C,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new C;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Yn.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new _i(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var r=new Gs(this,this.geomFact,this.ptLocator);this.resultLineList=r.build(t);var s=new Bs(this,this.geomFact,this.ptLocator);this.resultPointList=s.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next(),r=this.graph.addNode(n.getCoordinate());r.setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&ht.isResultOfOp(r.getLocation(0,et.RIGHT),r.getLocation(1,et.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var s=0;s<2;s++)n.isNull(s)||!n.isArea()||r.isNull(s)||(r.getDelta(s)===0?n.toLine(s):(I.isTrue(!r.isNull(s,et.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(s,et.LEFT,r.getLocation(s,et.LEFT)),I.isTrue(!r.isNull(s,et.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(s,et.RIGHT,r.getLocation(s,et.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this.graph.getNodes().iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(t++,r.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(r)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return ht}}),ht.overlayOp=function(t,e,n){var r=new ht(t,e),s=r.getResultGeometry(n);return s},ht.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ht.createEmptyResult(ht.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return cr.map(t,{interfaces_:function(){return[MapOp]},map:function(r){return r.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Wt.overlayOp(t,e,ht.INTERSECTION)},ht.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ht.createEmptyResult(ht.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Wt.overlayOp(t,e,ht.SYMDIFFERENCE)},ht.resultDimension=function(t,e,n){var r=e.getDimension(),s=n.getDimension(),o=-1;switch(t){case ht.INTERSECTION:o=Math.min(r,s);break;case ht.UNION:o=Math.max(r,s);break;case ht.DIFFERENCE:o=r;break;case ht.SYMDIFFERENCE:o=Math.max(r,s)}return o},ht.createEmptyResult=function(t,e,n,r){var s=null;switch(ht.resultDimension(t,e,n)){case-1:s=r.createGeometryCollection(new Array(0).fill(null));break;case 0:s=r.createPoint();break;case 1:s=r.createLineString();break;case 2:s=r.createPolygon()}return s},ht.difference=function(t,e){return t.isEmpty()?ht.createEmptyResult(ht.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Wt.overlayOp(t,e,ht.DIFFERENCE))},ht.isResultOfOp=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return ht.isResultOfOp(n,r,e)}if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];switch(s===L.BOUNDARY&&(s=L.INTERIOR),o===L.BOUNDARY&&(o=L.INTERIOR),l){case ht.INTERSECTION:return s===L.INTERIOR&&o===L.INTERIOR;case ht.UNION:return s===L.INTERIOR||o===L.INTERIOR;case ht.DIFFERENCE:return s===L.INTERIOR&&o!==L.INTERIOR;case ht.SYMDIFFERENCE:return s===L.INTERIOR&&o!==L.INTERIOR||s!==L.INTERIOR&&o===L.INTERIOR}return!1}},ht.INTERSECTION=1,ht.UNION=2,ht.DIFFERENCE=3,ht.SYMDIFFERENCE=4,d(Me.prototype,{selfSnap:function(t){var e=new ie(t),n=e.snapTo(t,this.snapTolerance);return n},removeCommonBits:function(t){this.cbr=new Tr,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=ht.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||k.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=ie.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t),n=ie.snap(e[0],e[1],this.snapTolerance);return n},interfaces_:function(){return[]},getClass:function(){return Me}}),Me.overlayOp=function(t,e,n){var r=new Me(t,e);return r.getResultGeometry(n)},Me.union=function(t,e){return Me.overlayOp(t,e,ht.UNION)},Me.intersection=function(t,e){return Me.overlayOp(t,e,ht.INTERSECTION)},Me.symDifference=function(t,e){return Me.overlayOp(t,e,ht.SYMDIFFERENCE)},Me.difference=function(t,e){return Me.overlayOp(t,e,ht.DIFFERENCE)},d(Wt.prototype,{getResultGeometry:function(t){var e=null,n=!1,r=null;try{e=ht.overlayOp(this.geom[0],this.geom[1],t);var s=!0;s&&(n=!0)}catch(o){if(!(o instanceof N))throw o;r=o}finally{}if(!n)try{e=Me.overlayOp(this.geom[0],this.geom[1],t)}catch(o){throw o instanceof N?r:o}finally{}return e},interfaces_:function(){return[]},getClass:function(){return Wt}}),Wt.overlayOp=function(t,e,n){var r=new Wt(t,e);return r.getResultGeometry(n)},Wt.union=function(t,e){return Wt.overlayOp(t,e,ht.UNION)},Wt.intersection=function(t,e){return Wt.overlayOp(t,e,ht.INTERSECTION)},Wt.symDifference=function(t,e){return Wt.overlayOp(t,e,ht.SYMDIFFERENCE)},Wt.difference=function(t,e){return Wt.overlayOp(t,e,ht.DIFFERENCE)},d(Fe.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,r=this.horizontalBisector(t);if(r.getLength()===0)n=0,e=r.getCoordinate();else{var s=Wt.overlayOp(r,t,ht.INTERSECTION),o=this.widestGeometry(s);n=o.getEnvelopeInternal().getWidth(),e=Fe.centre(o.getEnvelopeInternal())}(this.interiorPoint===null||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof xt){var e=arguments[0];if(e.isEmpty())return e;for(var n=e.getGeometryN(0),r=1;r<e.getNumGeometries();r++)e.getGeometryN(r).getEnvelopeInternal().getWidth()>n.getEnvelopeInternal().getWidth()&&(n=e.getGeometryN(r));return n}if(arguments[0]instanceof Q){var s=arguments[0];return s instanceof xt?this.widestGeometry(s):s}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=pr.getBisectorY(t);return this.factory.createLineString([new v(e.getMinX(),n),new v(e.getMaxX(),n)])},add:function(t){if(t instanceof Mt)this.addPolygon(t);else if(t instanceof xt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return Fe}}),Fe.centre=function(t){return new v(Fe.avg(t.getMinX(),t.getMaxX()),Fe.avg(t.getMinY(),t.getMaxY()))},Fe.avg=function(t,e){return(t+e)/2},d(pr.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));var e=Fe.avg(this.hiY,this.loY);return e},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var r=e.getY(n);this.updateInterval(r)}},interfaces_:function(){return[]},getClass:function(){return pr}}),pr.getBisectorY=function(t){var e=new pr(t);return e.getBisectorY()},Fe.SafeBisectorFinder=pr,d(Ui.prototype,{addEndpoints:function(){if(arguments[0]instanceof Q){var t=arguments[0];if(t instanceof mt)this.addEndpoints(t.getCoordinates());else if(t instanceof xt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var r=arguments[0];this.add(r[0]),this.add(r[r.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof Q){var t=arguments[0];if(t instanceof mt)this.addInterior(t.getCoordinates());else if(t instanceof xt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var r=arguments[0],n=1;n<r.length-1;n++)this.add(r[n])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new v(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return Ui}}),d(Yi.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof Q){var t=arguments[0];if(t instanceof At)this.add(t.getCoordinate());else if(t instanceof xt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof v){var r=arguments[0],s=r.distance(this.centroid);s<this.minDistance&&(this.interiorPoint=new v(r),this.minDistance=s)}},interfaces_:function(){return[]},getClass:function(){return Yi}}),d(Mn.prototype,{select:function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}},interfaces_:function(){return[]},getClass:function(){return Mn}}),d(We.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(this.subnode[t]!==null)return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<2;e++)this.subnode[e]!==null&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)this.subnode[e]!==null&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return t===null||this.isSearchMatch(t)?(e.addAll(this.items),this.subnode[0]!==null&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(this.subnode[1]!==null&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;r<2;r++)if(this.subnode[r]!==null&&(n=this.subnode[r].remove(t,e))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<2;e++)if(this.subnode[e]!==null){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)this.subnode[e]!==null&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return We}}),We.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},d(ln.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(arguments.length===1){var t=arguments[0];return this.overlaps(t.min,t.max)}if(arguments.length===2){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(arguments.length===1){if(arguments[0]instanceof ln){var t=arguments[0];return this.contains(t.min,t.max)}if(typeof arguments[0]=="number"){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return ln}}),jn.exponent=function(t){return Qo(64,t)-1023},jn.powerOf2=function(t){return Math.pow(2,t)},d(Xr.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=Xr.computeLevel(t),this.interval=new ln,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=jn.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Xr}}),Xr.computeLevel=function(t){var e=t.getWidth(),n=jn.exponent(e)+1;return n},y(yn,We),d(yn.prototype,{getInterval:function(){return this.interval},find:function(t){var e=We.getSubnodeIndex(t,this.centre);if(e===-1)return this;if(this.subnode[e]!==null){var n=this.subnode[e];return n.find(t)}return this},insert:function(t){I.isTrue(this.interval===null||this.interval.contains(t.interval));var e=We.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return this.subnode[t]===null&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=We.getSubnodeIndex(t,this.centre);if(e!==-1){var n=this.getSubnode(e);return n.getNode(t)}return this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}var r=new ln(e,n),s=new yn(r,this.level-1);return s},interfaces_:function(){return[]},getClass:function(){return yn}}),yn.createNode=function(t){var e=new Xr(t),n=new yn(e.getInterval(),e.getLevel());return n},yn.createExpanded=function(t,e){var n=new ln(e);t!==null&&n.expandToInclude(t.interval);var r=yn.createNode(n);return t!==null&&r.insert(t),r},d(Pn.prototype,{interfaces_:function(){return[]},getClass:function(){return Pn}}),Pn.isZeroWidth=function(t,e){var n=e-t;if(n===0)return!0;var r=Math.max(Math.abs(t),Math.abs(e)),s=n/r,o=jn.exponent(s);return o<=Pn.MIN_BINARY_EXPONENT},Pn.MIN_BINARY_EXPONENT=-50,y(mr,We),d(mr.prototype,{insert:function(t,e){var n=We.getSubnodeIndex(t,mr.origin);if(n===-1)return this.add(e),null;var r=this.subnode[n];if(r===null||!r.getInterval().contains(t)){var s=yn.createExpanded(r,t);this.subnode[n]=s}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){I.isTrue(t.getInterval().contains(e));var r=Pn.isZeroWidth(e.getMin(),e.getMax()),s=null;s=r?t.find(e):t.getNode(e),s.add(n)},interfaces_:function(){return[]},getClass:function(){return mr}}),mr.origin=0,d(vr.prototype,{size:function(){return this.root!==null?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=vr.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];return this.query(new ln(t,t))}if(arguments[0]instanceof ln){var e=arguments[0],n=new C;return this.query(e,n),n}}else if(arguments.length===2){var r=arguments[0],s=arguments[1];this.root.addAllItemsFromOverlapping(r,s)}},iterator:function(){var t=new C;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=vr.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return this.root!==null?this.root.depth():0},nodeSize:function(){return this.root!==null?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return vr}}),vr.ensureExtent=function(t,e){var n=t.getMin(),r=t.getMax();return n!==r?t:(n===r&&(n-=e/2,r=n+e/2),new ln(n,r))},d(Hs.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return Hs}}),d(Ur.prototype,{testLineSegment:function(t,e){var n=null,r=null,s=null,o=null,l=null,x=e.p0,A=e.p1;r=x.x-t.x,s=x.y-t.y,o=A.x-t.x,l=A.y-t.y,(s>0&&l<=0||l>0&&s<=0)&&(n=Vn.signOfDet2x2(r,s,o,l)/(l-s),0<n&&this.crossings++)},buildIndex:function(){this.tree=new vr;for(var t=at.removeRepeatedPoints(this.ring.getCoordinates()),e=Ae.getChains(t),n=0;n<e.size();n++){var r=e.get(n),s=r.getEnvelope();this.interval.min=s.getMinY(),this.interval.max=s.getMaxY(),this.tree.insert(this.interval,r)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new B(c.NEGATIVE_INFINITY,c.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),r=new Yr(this,t),s=n.iterator();s.hasNext();){var o=s.next();this.testMonotoneChain(e,r,o)}return this.crossings%2===1},interfaces_:function(){return[Hs]},getClass:function(){return Ur}}),y(Yr,Mn),d(Yr.prototype,{select:function(){if(arguments.length!==1)return Mn.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return Yr}}),Ur.MCSelecter=Yr,d(pt.prototype,{interfaces_:function(){return[]},getClass:function(){return pt}}),pt.toDegrees=function(t){return 180*t/Math.PI},pt.normalize=function(t){for(;t>Math.PI;)t-=pt.PI_TIMES_2;for(;t<=-Math.PI;)t+=pt.PI_TIMES_2;return t},pt.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}if(arguments.length===2){var e=arguments[0],n=arguments[1],r=n.x-e.x,s=n.y-e.y;return Math.atan2(s,r)}},pt.isAcute=function(t,e,n){var r=t.x-e.x,s=t.y-e.y,o=n.x-e.x,l=n.y-e.y,x=r*o+s*l;return x>0},pt.isObtuse=function(t,e,n){var r=t.x-e.x,s=t.y-e.y,o=n.x-e.x,l=n.y-e.y,x=r*o+s*l;return x<0},pt.interiorAngle=function(t,e,n){var r=pt.angle(e,t),s=pt.angle(e,n);return Math.abs(s-r)},pt.normalizePositive=function(t){if(t<0){for(;t<0;)t+=pt.PI_TIMES_2;t>=pt.PI_TIMES_2&&(t=0)}else{for(;t>=pt.PI_TIMES_2;)t-=pt.PI_TIMES_2;t<0&&(t=0)}return t},pt.angleBetween=function(t,e,n){var r=pt.angle(e,t),s=pt.angle(e,n);return pt.diff(r,s)},pt.diff=function(t,e){var n=null;return n=t<e?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},pt.toRadians=function(t){return t*Math.PI/180},pt.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?pt.COUNTERCLOCKWISE:n<0?pt.CLOCKWISE:pt.NONE},pt.angleBetweenOriented=function(t,e,n){var r=pt.angle(e,t),s=pt.angle(e,n),o=s-r;return o<=-Math.PI?o+pt.PI_TIMES_2:o>Math.PI?o-pt.PI_TIMES_2:o},pt.PI_TIMES_2=2*Math.PI,pt.PI_OVER_2=Math.PI/2,pt.PI_OVER_4=Math.PI/4,pt.COUNTERCLOCKWISE=nt.COUNTERCLOCKWISE,pt.CLOCKWISE=nt.CLOCKWISE,pt.NONE=nt.COLLINEAR,d(Tt.prototype,{area:function(){return Tt.area(this.p0,this.p1,this.p2)},signedArea:function(){return Tt.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(t===null)throw new a;return Tt.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return Tt.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Tt.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Tt.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Tt.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Tt.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Tt.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Tt}}),Tt.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Tt.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Tt.det=function(t,e,n,r){return t*r-e*n},Tt.interpolateZ=function(t,e,n,r){var s=e.x,o=e.y,l=n.x-s,x=r.x-s,A=n.y-o,V=r.y-o,Z=l*V-x*A,K=t.x-s,$=t.y-o,ut=(V*K-x*$)/Z,ft=(-A*K+l*$)/Z,gt=e.z+ut*(n.z-e.z)+ft*(r.z-e.z);return gt},Tt.longestSideLength=function(t,e,n){var r=t.distance(e),s=e.distance(n),o=n.distance(t),l=r;return s>l&&(l=s),o>l&&(l=o),l},Tt.isAcute=function(t,e,n){return!!pt.isAcute(t,e,n)&&!!pt.isAcute(e,n,t)&&!!pt.isAcute(n,t,e)},Tt.circumcentre=function(t,e,n){var r=n.x,s=n.y,o=t.x-r,l=t.y-s,x=e.x-r,A=e.y-s,V=2*Tt.det(o,l,x,A),Z=Tt.det(l,o*o+l*l,A,x*x+A*A),K=Tt.det(o,o*o+l*l,x,x*x+A*A),$=r-Z/V,ut=s+K/V;return new v($,ut)},Tt.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,s=new j(t.x+n/2,t.y+r/2,1),o=new j(t.x-r+n/2,t.y+n+r/2,1);return new j(s,o)},Tt.angleBisector=function(t,e,n){var r=e.distance(t),s=e.distance(n),o=r/(r+s),l=n.x-t.x,x=n.y-t.y,A=new v(t.x+o*l,t.y+o*x);return A},Tt.area3D=function(t,e,n){var r=e.x-t.x,s=e.y-t.y,o=e.z-t.z,l=n.x-t.x,x=n.y-t.y,A=n.z-t.z,V=s*A-o*x,Z=o*l-r*A,K=r*x-s*l,$=V*V+Z*Z+K*K,ut=Math.sqrt($)/2;return ut},Tt.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,s=(t.y+e.y+n.y)/3;return new v(r,s)},Tt.inCentre=function(t,e,n){var r=e.distance(n),s=t.distance(n),o=t.distance(e),l=r+s+o,x=(r*t.x+s*e.x+o*n.x)/l,A=(r*t.y+s*e.y+o*n.y)/l;return new v(x,A)},d(xn.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(this.input.getNumPoints()===1){var n=this.input.getCoordinates();return this.extremalPts=[new v(n[0])],null}var t=this.input.convexHull(),e=t.getCoordinates(),n=e;if(e[0].equals2D(e[e.length-1])&&(n=new Array(e.length-1).fill(null),at.copyDeep(e,0,n,0,e.length-1)),n.length<=2)return this.extremalPts=at.copyDeep(n),null;for(var r=xn.lowestPoint(n),s=xn.pointWitMinAngleWithX(n,r),o=0;o<n.length;o++){var l=xn.pointWithMinAngleWithSegment(n,r,s);if(pt.isObtuse(r,l,s))return this.extremalPts=[new v(r),new v(s)],null;if(pt.isObtuse(l,r,s))r=l;else{if(!pt.isObtuse(l,s,r))return this.extremalPts=[new v(r),new v(s),new v(l)],null;s=l}}I.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return this.extremalPts!==null?null:(this.computeCirclePoints(),this.computeCentre(),void(this.centre!==null&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),this.centre===null)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return this.radius===0?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new v((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=Tt.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return xn}}),xn.pointWitMinAngleWithX=function(t,e){for(var n=c.MAX_VALUE,r=null,s=0;s<t.length;s++){var o=t[s];if(o!==e){var l=o.x-e.x,x=o.y-e.y;x<0&&(x=-x);var A=Math.sqrt(l*l+x*x),V=x/A;V<n&&(n=V,r=o)}}return r},xn.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},xn.pointWithMinAngleWithSegment=function(t,e,n){for(var r=c.MAX_VALUE,s=null,o=0;o<t.length;o++){var l=t[o];if(l!==e&&l!==n){var x=pt.angleBetween(e,l,n);x<r&&(r=x,s=l)}}return s},d(ee.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),this.minWidthPt===null)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){t instanceof Mt?this.convexHullPts=t.getExteriorRing().getCoordinates():this.convexHullPts=t.getCoordinates(),this.convexHullPts.length===0?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):this.convexHullPts.length===1?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):this.convexHullPts.length===2||this.convexHullPts.length===3?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=c.MAX_VALUE;for(var e=1,n=new dt,r=0;r<t.length-1;r++)n.p0=t[r],n.p1=t[r+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(this.minWidthPt!==null)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new sn(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var r=e.distancePerpendicular(t[n]),s=r,o=n,l=o;s>=r;)r=s,o=l,l=ee.nextIndex(t,o),s=e.distancePerpendicular(t[l]);return r<this.minWidth&&(this.minPtIndex=o,this.minWidth=r,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new dt(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),this.minWidth===0)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=c.MAX_VALUE,r=-c.MAX_VALUE,s=c.MAX_VALUE,o=-c.MAX_VALUE,l=0;l<this.convexHullPts.length;l++){var x=ee.computeC(t,e,this.convexHullPts[l]);x>r&&(r=x),x<n&&(n=x);var A=ee.computeC(-e,t,this.convexHullPts[l]);A>o&&(o=A),A<s&&(s=A)}var V=ee.computeSegmentForLine(-t,-e,o),Z=ee.computeSegmentForLine(-t,-e,s),K=ee.computeSegmentForLine(-e,t,r),$=ee.computeSegmentForLine(-e,t,n),ut=K.lineIntersection(V),ft=$.lineIntersection(V),gt=$.lineIntersection(Z),Ot=K.lineIntersection(Z),Xt=this.inputGeom.getFactory().createLinearRing([ut,ft,gt,Ot,ut]);return this.inputGeom.getFactory().createPolygon(Xt,null)},interfaces_:function(){return[]},getClass:function(){return ee}}),ee.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},ee.computeC=function(t,e,n){return t*n.y-e*n.x},ee.getMinimumDiameter=function(t){return new ee(t).getDiameter()},ee.getMinimumRectangle=function(t){return new ee(t).getMinimumRectangle()},ee.computeSegmentForLine=function(t,e,n){var r=null,s=null;return Math.abs(e)>Math.abs(t)?(r=new v(0,n/e),s=new v(1,n/e-t/e)):(r=new v(n/t,0),s=new v(n/t-e/t,1)),new dt(r,s)};var ra=Object.freeze({Centroid:rn,CGAlgorithms:nt,ConvexHull:sn,InteriorPointArea:Fe,InteriorPointLine:Ui,InteriorPointPoint:Yi,RobustLineIntersector:Ht,MCPointInRing:Ur,MinimumBoundingCircle:xn,MinimumDiameter:ee});d(Tn.prototype,{getResultGeometry:function(){return new Hr(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new a;this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Tn}}),Tn.densifyPoints=function(t,e,n){for(var r=new dt,s=new q,o=0;o<t.length-1;o++){r.p0=t[o],r.p1=t[o+1],s.add(r.p0,!1);var l=r.getLength(),x=Math.trunc(l/e)+1;if(x>1)for(var A=l/x,V=1;V<x;V++){var Z=V*A/l,K=r.pointAlong(Z);n.makePrecise(K),s.add(K,!1)}}return s.add(t[t.length-1],!1),s.toCoordinateArray()},Tn.densify=function(t,e){var n=new Tn(t);return n.setDistanceTolerance(e),n.getResultGeometry()},y(Hr,oe),d(Hr.prototype,{transformMultiPolygon:function(t,e){var n=oe.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=oe.prototype.transformPolygon.call(this,t,e);return e instanceof Zt?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=Tn.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof mt&&r.length===1&&(r=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(r)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Tn.DensifyTransformer=Hr;var ia=Object.freeze({Densifier:Tn});d(hn.prototype,{find:function(t){var e=this;do{if(e===null)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var r=n.oNext(),s=r.compareTo(t);if(s!==e||r===this)return n.insertAfter(t),null;n=r}while(n!==this);I.shouldNeverReachHere()},insertAfter:function(t){I.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var e=0,n=this;do e++,n=n.oNext();while(n!==this);return e},equals:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),r=t.deltaX(),s=t.deltaY();if(e===r&&n===s)return 0;var o=Nt.quadrant(e,n),l=Nt.quadrant(r,s);return o>l?1:o<l?-1:nt.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;t.degree()===2;)if(t=t.prev(),t===this)return null;return t},compareTo:function(t){var e=t,n=this.compareAngularDirection(e);return n},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return hn}}),hn.init=function(t,e){if(t._sym!==null||e._sym!==null||t._next!==null||e._next!==null)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},hn.create=function(t,e){var n=new hn(t),r=new hn(e);return n.init(r),n},y(pe,hn),d(pe.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return pe}}),pe.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},pe.isMarked=function(t){return t.isMarked()},pe.setMark=function(t,e){t.setMark(e)},pe.markBoth=function(t){t.mark(),t.sym().mark()},pe.mark=function(t){t.mark()},d(yr.prototype,{insert:function(t,e,n){var r=this.create(t,e);n!==null?n.insert(r):this.vertexMap.put(t,r);var s=this.vertexMap.get(e);return s!==null?s.insert(r.sym()):this.vertexMap.put(e,r.sym()),r},create:function(t,e){var n=this.createEdge(t),r=this.createEdge(e);return hn.init(n,r),n},createEdge:function(t){return new hn(t)},addEdge:function(t,e){if(!yr.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),r=null;if(n!==null&&(r=n.find(e)),r!==null)return r;var s=this.insert(t,e,n);return s},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return n===null?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return yr}}),yr.isValidEdge=function(t,e){var n=e.compareTo(t);return n!==0},y(Hi,pe),d(Hi.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return Hi}}),y(Wi,yr),d(Wi.prototype,{createEdge:function(t){return new Hi(t)},interfaces_:function(){return[]},getClass:function(){return Wi}}),d(Wr.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?this.ringStartEdge===null?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return this.result===null&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();e===null&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new q,n=t;for(e.add(n.orig().copy(),!1);n.sym().degree()===2;){var r=n.next();if(r===t)break;e.add(r.orig().copy(),!1),n=r}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new q,n=t;for(this.ringStartEdge=null,pe.markBoth(n),e.add(n.orig().copy(),!1);n.sym().degree()===2;){this.updateRingStartEdge(n);var r=n.next();if(r===t)return this.buildRing(this.ringStartEdge),null;e.add(r.orig().copy(),!1),n=r,pe.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do pe.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext();while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();pe.isMarked(n)||this.process(n)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();pe.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof Q){var t=arguments[0];t.apply({interfaces_:function(){return[it]},filter:function(A){A instanceof mt&&this.add(A)}})}else if(X(arguments[0],w))for(var e=arguments[0],n=e.iterator();n.hasNext();){var r=n.next();this.add(r)}else if(arguments[0]instanceof mt){var s=arguments[0];this.factory===null&&(this.factory=s.getFactory());for(var o=s.getCoordinateSequence(),l=!1,n=1;n<o.size();n++){var x=this.graph.addEdge(o.getCoordinate(n-1),o.getCoordinate(n));x!==null&&(l||(x.setStart(),l=!0))}}},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.dissolve=function(t){var e=new Wr;return e.add(t),e.getResult()};var sa=Object.freeze({LineDissolver:Wr}),oa=Object.freeze({GeometryGraph:le});d(Ze.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(this.subnode[t]!==null)return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<4;e++)this.subnode[e]!==null&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)this.subnode[e]!==null&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)this.subnode[e]!==null&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;n<4;n++)this.subnode[n]!==null&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;r<4;r++)if(this.subnode[r]!==null&&(n=this.subnode[r].remove(t,e))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)this.subnode[n]!==null&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<4;e++)if(this.subnode[e]!==null){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var e=!0;this.items.isEmpty()||(e=!1);for(var n=0;n<4;n++)this.subnode[n]!==null&&(this.subnode[n].isEmpty()||(e=!1));return e},add:function(t){this.items.add(t)},interfaces_:function(){return[m]},getClass:function(){return Ze}}),Ze.getSubnodeIndex=function(t,e,n){var r=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(r=3),t.getMaxY()<=n&&(r=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(r=2),t.getMaxY()<=n&&(r=0)),r},d(Zr.prototype,{getLevel:function(){return this.level},computeKey:function(){if(arguments.length===1){var t=arguments[0];for(this.level=Zr.computeQuadLevel(t),this.env=new B,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1],r=jn.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/r)*r,this.pt.y=Math.floor(n.getMinY()/r)*r,this.env.init(this.pt.x,this.pt.x+r,this.pt.y,this.pt.y+r)}},getEnvelope:function(){return this.env},getCentre:function(){return new v((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),r=e>n?e:n,s=jn.exponent(r)+1;return s},y(En,Ze),d(En.prototype,{find:function(t){var e=Ze.getSubnodeIndex(t,this.centrex,this.centrey);if(e===-1)return this;if(this.subnode[e]!==null){var n=this.subnode[e];return n.find(t)}return this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return this.subnode[t]===null&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=Ze.getSubnodeIndex(t,this.centrex,this.centrey);if(e!==-1){var n=this.getSubnode(e);return n.getNode(t)}return this},createSubnode:function(t){var e=0,n=0,r=0,s=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,r=this.env.getMinY(),s=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),r=this.env.getMinY(),s=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,r=this.centrey,s=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),r=this.centrey,s=this.env.getMaxY()}var o=new B(e,n,r,s),l=new En(o,this.level-1);return l},insertNode:function(t){I.isTrue(this.env===null||this.env.contains(t.env));var e=Ze.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return En}}),En.createNode=function(t){var e=new Zr(t),n=new En(e.getEnvelope(),e.getLevel());return n},En.createExpanded=function(t,e){var n=new B(e);t!==null&&n.expandToInclude(t.env);var r=En.createNode(n);return t!==null&&r.insertNode(t),r},y(Kn,Ze),d(Kn.prototype,{insert:function(t,e){var n=Ze.getSubnodeIndex(t,Kn.origin.x,Kn.origin.y);if(n===-1)return this.add(e),null;var r=this.subnode[n];if(r===null||!r.getEnvelope().contains(t)){var s=En.createExpanded(r,t);this.subnode[n]=s}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){I.isTrue(t.getEnvelope().contains(e));var r=Pn.isZeroWidth(e.getMinX(),e.getMaxX()),s=Pn.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=r||s?t.find(e):t.getNode(e),o.add(n)},interfaces_:function(){return[]},getClass:function(){return Kn}}),Kn.origin=new v(0,0),d(On.prototype,{size:function(){return this.root!==null?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=On.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(arguments.length===1){var t=arguments[0],e=new zi;return this.query(t,e),e.getItems()}if(arguments.length===2){var n=arguments[0],r=arguments[1];this.root.visit(n,r)}},queryAll:function(){var t=new C;return this.root.addAllItems(t),t},remove:function(t,e){var n=On.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return this.root!==null?this.root.depth():0},isEmpty:function(){return this.root===null},interfaces_:function(){return[Mi,m]},getClass:function(){return On}}),On.ensureExtent=function(t,e){var n=t.getMinX(),r=t.getMaxX(),s=t.getMinY(),o=t.getMaxY();return n!==r&&s!==o?t:(n===r&&(n-=e/2,r=n+e/2),s===o&&(s-=e/2,o=s+e/2),new B(n,r,s,o))},On.serialVersionUID=-7461163625812743e3;var aa=Object.freeze({Quadtree:On}),ua=Object.freeze({STRtree:Dt}),la=Object.freeze({quadtree:aa,strtree:ua}),ha=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];d(Ws.prototype,{read:function(t){var e=void 0;e=typeof t=="string"?JSON.parse(t):t;var n=e.type;if(!ze[n])throw new Error("Unknown GeoJSON type: "+e.type);return ha.indexOf(n)!==-1?ze[n].apply(this,[e.coordinates]):n==="GeometryCollection"?ze[n].apply(this,[e.geometries]):ze[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!dn[e])throw new Error("Geometry is not supported");return dn[e].apply(this,[t])}});var ze={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!ze[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ze.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(e){for(var n=[],r=0;r<e.length;++r){var s=e[r];n.push(new v(s[0],s[1]))}return n},bbox:function(t){return this.geometryFactory.createLinearRing([new v(t[0],t[1]),new v(t[2],t[1]),new v(t[2],t[3]),new v(t[0],t[3]),new v(t[0],t[1])])},Point:function(t){var e=new v(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ze.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ze.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ze.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ze.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],s=1;s<t.length;++s){var o=t[s],l=ze.coordinates.apply(this,[o]),x=this.geometryFactory.createLinearRing(l);r.push(x)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(ze.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},dn={coordinate:function(t){return[t.x,t.y]},Point:function(t){var e=dn.coordinate.apply(this,[t.getCoordinate()]);return{type:"Point",coordinates:e}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],s=dn.Point.apply(this,[r]);e.push(s.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var s=n[r];e.push(dn.coordinate.apply(this,[s]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],s=dn.LineString.apply(this,[r]);e.push(s.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=dn.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var r=0;r<t.holes.length;++r){var s=t.holes[r],o=dn.LineString.apply(this,[s]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],s=dn.Polygon.apply(this,[r]);e.push(s.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],s=r.getGeometryType();e.push(dn[s].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}};d(So.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===St.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}}),d(Lo.prototype,{write:function(t){return this.parser.write(t)}}),d(Ro.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===St.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;e<n;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var r=0,s=t.geometries.length;r<s;r++)this.reducePrecision(t.geometries[r])}}),d(bo.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new v(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(e){return new v(e[0],e[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(e){return new v(e[0],e[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,r=[],s=0;s<e.length;s++){var o=this.convertFromLinearRing(e[s]);s===0?n=o:r.push(o)}return this.geometryFactory.createPolygon(n,r)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(n){return this.convertFromPoint(n)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(n){return this.convertFromLineString(n)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(n){return this.convertFromPolygon(n)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(n){return this.read(n)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return t.getGeometryType()==="Point"?this.convertToPoint(t.getCoordinate()):t.getGeometryType()==="LineString"?this.convertToLineString(t):t.getGeometryType()==="LinearRing"?this.convertToLinearRing(t):t.getGeometryType()==="Polygon"?this.convertToPolygon(t):t.getGeometryType()==="MultiPoint"?this.convertToMultiPoint(t):t.getGeometryType()==="MultiLineString"?this.convertToMultiLineString(t):t.getGeometryType()==="MultiPolygon"?this.convertToMultiPolygon(t):t.getGeometryType()==="GeometryCollection"?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Jr);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Jr);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Jr)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Jr));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(Jr))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var r=t.geometries[n];e.push(this.write(r))}return new this.ol.geom.GeometryCollection(e)}});var ca=Object.freeze({GeoJSONReader:So,GeoJSONWriter:Lo,OL3Parser:bo,WKTReader:Ro,WKTWriter:$t});d(jr.prototype,{rescale:function(){if(X(arguments[0],w))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var r=arguments[0];r.length===2&&(new v(r[0]),new v(r[1]));for(var e=0;e<r.length;e++)r[e].x=r[e].x/this.scaleFactor+this.offsetX,r[e].y=r[e].y/this.scaleFactor+this.offsetY;r.length===2&&r[0].equals2D(r[1])&&k.out.println(r)}},scale:function(){if(X(arguments[0],w)){for(var t=arguments[0],e=new C,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Ue(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var s=arguments[0],o=new Array(s.length).fill(null),n=0;n<s.length;n++)o[n]=new v(Math.round((s[n].x-this.offsetX)*this.scaleFactor),Math.round((s[n].y-this.offsetY)*this.scaleFactor),s[n].z);var l=at.removeRepeatedPoints(o);return l}},isIntegerPrecision:function(){return this.scaleFactor===1},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[Fr]},getClass:function(){return jr}});var fa=Object.freeze({MCIndexNoder:wn,ScaledNoder:jr,SegmentString:_r});d(Kr.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new Jt,n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n),s=r.getCoordinate();if(e.contains(s))return this.nonSimpleLocation=s,!1;e.add(s)}return!0},isSimplePolygonal:function(t){for(var e=te.getLines(t),n=e.iterator();n.hasNext();){var r=n.next();if(!this.isSimpleLinearGeometry(r))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new Vt,n=t.getEdgeIterator();n.hasNext();){var r=n.next(),s=(r.getMaximumSegmentIndex(),r.isClosed()),o=r.getCoordinate(0);this.addEndpoint(e,o,s);var l=r.getCoordinate(r.getNumPoints()-1);this.addEndpoint(e,l,s)}for(var n=e.values().iterator();n.hasNext();){var x=n.next();if(x.isClosed&&x.degree!==2)return this.nonSimpleLocation=x.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new le(0,t),n=new Ht,r=e.computeSelfNodes(n,!0);return!r.hasIntersection()||(r.hasProperIntersection()?(this.nonSimpleLocation=r.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(e)&&(!this.isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getMaximumSegmentIndex(),s=n.getEdgeIntersectionList().iterator();s.hasNext();){var o=s.next();if(!o.isEndPoint(r))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var r=t.get(e);r===null&&(r=new Zi(e),t.put(e,r)),r.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof mt?this.isSimpleLinearGeometry(t):t instanceof ce?this.isSimpleLinearGeometry(t):t instanceof fe?this.isSimpleMultiPoint(t):X(t,en)?this.isSimplePolygonal(t):!(t instanceof xt)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Kr}}),d(Zi.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Zi}}),Kr.EndpointInfo=Zi,d(Ct.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,this.quadrantSegments===0&&(this.joinStyle=Ct.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Ct.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),t<=0&&(this.quadrantSegments=1),this.joinStyle!==Ct.JOIN_ROUND&&(this.quadrantSegments=Ct.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return Ct}}),Ct.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ct.CAP_ROUND=1,Ct.CAP_FLAT=2,Ct.CAP_SQUARE=3,Ct.JOIN_ROUND=1,Ct.JOIN_MITRE=2,Ct.JOIN_BEVEL=3,Ct.DEFAULT_QUADRANT_SEGMENTS=8,Ct.DEFAULT_MITRE_LIMIT=5,Ct.DEFAULT_SIMPLIFY_FACTOR=.01,d(Zs.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();I.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],r=nt.computeOrientation(this.minCoord,n,e),s=!1;(e.y<this.minCoord.y&&n.y<this.minCoord.y&&r===nt.COUNTERCLOCKWISE||e.y>this.minCoord.y&&n.y>this.minCoord.y&&r===nt.CLOCKWISE)&&(s=!0),s&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),r=n.getCoordinates();if(e<0||e+1>=r.length||r[e].y===r[e+1].y)return-1;var s=et.LEFT;return r[e].y<r[e+1].y&&(s=et.RIGHT),s},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(this.minCoord===null||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode(),e=t.getEdges();this.minDe=e.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}I.isTrue(this.minIndex!==0||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),this.minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe;var r=this.getRightmostSide(this.minDe,this.minIndex);r===et.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Zs}}),Ji.prototype.addLast=function(t){this.array_.push(t)},Ji.prototype.removeFirst=function(){return this.array_.shift()},Ji.prototype.isEmpty=function(){return this.array_.length===0},d(Js.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(e===null)throw new ge("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();r.setVisited(!0),this.copySymDepths(r)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(et.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(et.RIGHT)>=1&&e.getDepth(et.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new Rt,n=new Ji,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var s=n.removeFirst();e.add(s),this.computeNodeDepth(s);for(var o=s.getEdges().iterator();o.hasNext();){var l=o.next(),x=l.getSym();if(!x.isVisited()){var A=x.getNode();e.contains(A)||(n.addLast(A),e.add(A))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(this.env===null){for(var t=new B,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),r=n.getEdge().getCoordinates(),s=0;s<r.length-1;s++)t.expandToInclude(r[s]);this.env=t}return this.env},addReachable:function(t){var e=new re;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(et.LEFT,t.getDepth(et.RIGHT)),e.setDepth(et.RIGHT,t.getDepth(et.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this.dirEdgeList.add(r);var s=r.getSym(),o=s.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[f]},getClass:function(){return Js}}),d(jt.prototype,{isDeletable:function(t,e,n,r){var s=this.inputLine[t],o=this.inputLine[e],l=this.inputLine[n];return!!this.isConcave(s,o,l)&&!!this.isShallow(s,o,l,r)&&this.isShallowSampled(s,o,t,n,r)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length-1,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),r=!1;n<this.inputLine.length;){var s=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=jt.DELETE,s=!0,r=!0),t=s?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},isShallowConcavity:function(t,e,n,r){var s=nt.computeOrientation(t,e,n),o=s===this.angleOrientation;if(!o)return!1;var l=nt.distancePointLine(e,t,n);return l<r},isShallowSampled:function(t,e,n,r,s){var o=Math.trunc((r-n)/jt.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var l=n;l<r;l+=o)if(!this.isShallow(t,e,this.inputLine[l],s))return!1;return!0},isConcave:function(e,n,r){var s=nt.computeOrientation(e,n,r),o=s===this.angleOrientation;return o},simplify:function(t){this.distanceTol=Math.abs(t),t<0&&(this.angleOrientation=nt.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do e=this.deleteShallowConcavities();while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===jt.DELETE;)e++;return e},isShallow:function(t,e,n,r){var s=nt.distancePointLine(e,t,n);return s<r},collapseLine:function(){for(var t=new q,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==jt.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return jt}}),jt.simplify=function(t,e){var n=new jt(t);return n.simplify(e)},jt.INIT=0,jt.DELETE=1,jt.KEEP=1,jt.NUM_PTS_TO_CHECK=10,d(Qr.prototype,{getCoordinates:function(){var t=this.ptList.toArray(Qr.COORDINATE_ARRAY_TYPE);return t},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new v(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1),n=t.distance(e);return n<this.minimimVertexDistance},toString:function(){var t=new yt,e=t.createLineString(this.getCoordinates());return e.toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new v(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),d(Je.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=nt.computeOrientation(this.s0,this.s1,this.s2),r=n===nt.CLOCKWISE&&this.side===et.LEFT||n===nt.COUNTERCLOCKWISE&&this.side===et.RIGHT;n===0?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new dt(t,e),r=new dt;this.computeOffsetSegment(n,et.LEFT,this.distance,r);var s=new dt;this.computeOffsetSegment(n,et.RIGHT,this.distance,s);var o=e.x-t.x,l=e.y-t.y,x=Math.atan2(l,o);switch(this.bufParams.getEndCapStyle()){case Ct.CAP_ROUND:this.segList.addPt(r.p1),this.addFilletArc(e,x+Math.PI/2,x-Math.PI/2,nt.CLOCKWISE,this.distance),this.segList.addPt(s.p1);break;case Ct.CAP_FLAT:this.segList.addPt(r.p1),this.segList.addPt(s.p1);break;case Ct.CAP_SQUARE:var A=new v;A.x=Math.abs(this.distance)*Math.cos(x),A.y=Math.abs(this.distance)*Math.sin(x);var V=new v(r.p1.x+A.x,r.p1.y+A.y),Z=new v(s.p1.x+A.x,s.p1.y+A.y);this.segList.addPt(V),this.segList.addPt(Z)}},getCoordinates:function(){var t=this.segList.getCoordinates();return t},addMitreJoin:function(t,e,n,r){var s=!0,o=null;try{o=j.intersection(e.p0,e.p1,n.p0,n.p1);var l=r<=0?1:o.distance(t)/Math.abs(r);l>this.bufParams.getMitreLimit()&&(s=!1)}catch(x){if(!(x instanceof W))throw x;o=new v(0,0),s=!1}finally{}s?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,r,s){var o=e.x-t.x,l=e.y-t.y,x=Math.atan2(l,o),A=n.x-t.x,V=n.y-t.y,Z=Math.atan2(V,A);r===nt.CLOCKWISE?x<=Z&&(x+=2*Math.PI):x>=Z&&(x-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,x,Z,r,s),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Je.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Ct.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Ct.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new v(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new v(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new v(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new v(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,r){var s=this.seg0.p1,o=pt.angle(s,this.seg0.p0),l=(pt.angle(s,this.seg1.p1),pt.angleBetweenOriented(this.seg0.p0,s,this.seg1.p1)),x=l/2,A=pt.normalize(o+x),V=pt.normalize(A+Math.PI),Z=r*n,K=Z*Math.abs(Math.sin(x)),$=n-K,ut=s.x+Z*Math.cos(V),ft=s.y+Z*Math.sin(V),gt=new v(ut,ft),Ot=new dt(s,gt),Xt=Ot.pointAlongOffset(1,$),Ve=Ot.pointAlongOffset(1,-$);this.side===et.LEFT?(this.segList.addPt(Xt),this.segList.addPt(Ve)):(this.segList.addPt(Ve),this.segList.addPt(Xt))},computeOffsetSegment:function(t,e,n,r){var s=e===et.LEFT?1:-1,o=t.p1.x-t.p0.x,l=t.p1.y-t.p0.y,x=Math.sqrt(o*o+l*l),A=s*n*o/x,V=s*n*l/x;r.p0.x=t.p0.x-V,r.p0.y=t.p0.y+A,r.p1.x=t.p1.x-V,r.p1.y=t.p1.y+A},addFilletArc:function(t,e,n,r,s){var o=r===nt.CLOCKWISE?-1:1,l=Math.abs(e-n),x=Math.trunc(l/this.filletAngleQuantum+.5);if(x<1)return null;var A=null,V=null;A=0,V=l/x;for(var Z=A,K=new v;Z<l;){var $=e+o*Z;K.x=t.x+s*Math.cos($),K.y=t.y+s*Math.sin($),this.segList.addPt(K),Z+=V}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Je.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new v((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var r=new v((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(r)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new v(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Qr,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*Je.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var e=this.li.getIntersectionNum();e>=2&&(this.bufParams.getJoinStyle()===Ct.JOIN_BEVEL||this.bufParams.getJoinStyle()===Ct.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,nt.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Je}}),Je.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Je.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Je.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Je.MAX_CLOSING_SEG_LEN_FACTOR=80,d($r.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,e===0)return null;var n=e<0,r=Math.abs(e),s=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],s):this.computeOffsetCurve(t,n,s);var o=s.getCoordinates();return n&&at.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var s=jt.simplify(t,-r),o=s.length-1;n.initSideSegments(s[o],s[o-1],et.LEFT),n.addFirstSegment();for(var l=o-2;l>=0;l--)n.addNextSegment(s[l],!0)}else{n.addSegments(t,!1);var x=jt.simplify(t,r),A=x.length-1;n.initSideSegments(x[0],x[1],et.LEFT),n.addFirstSegment();for(var l=2;l<=A;l++)n.addNextSegment(x[l],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);e===et.RIGHT&&(r=-r);var s=jt.simplify(t,r),o=s.length-1;n.initSideSegments(s[o-1],s[0],e);for(var l=1;l<=o;l++){var x=l!==1;n.addNextSegment(s[l],x)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),r=jt.simplify(t,n),s=r.length-1;e.initSideSegments(r[0],r[1],et.LEFT);for(var o=2;o<=s;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[s-1],r[s]);var l=jt.simplify(t,-n),x=l.length-1;e.initSideSegments(l[x],l[x-1],et.LEFT);for(var o=x-2;o>=0;o--)e.addNextSegment(l[o],!0);e.addLastSegment(),e.addLineEndCap(l[1],l[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case Ct.CAP_ROUND:e.createCircle(t);break;case Ct.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,e<0&&!this.bufParams.isSingleSided()||e===0)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this.bufParams.isSingleSided()){var s=e<0;this.computeSingleSidedBufferCurve(t,s,r)}else this.computeLineBufferCurve(t,r);var o=r.getCoordinates();return o},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(n===0)return $r.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},computeOffsetCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);if(e){var s=jt.simplify(t,-r),o=s.length-1;n.initSideSegments(s[o],s[o-1],et.LEFT),n.addFirstSegment();for(var l=o-2;l>=0;l--)n.addNextSegment(s[l],!0)}else{var x=jt.simplify(t,r),A=x.length-1;n.initSideSegments(x[0],x[1],et.LEFT),n.addFirstSegment();for(var l=2;l<=A;l++)n.addNextSegment(x[l],!0)}n.addLastSegment()},getSegGen:function(t){return new Je(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new v(t[n]);return e},d(ji.prototype,{findStabbedSegments:function(){if(arguments.length===1){for(var t=arguments[0],e=new C,n=this.subgraphs.iterator();n.hasNext();){var r=n.next(),s=r.getEnvelope();t.y<s.getMinY()||t.y>s.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(arguments.length===3){if(X(arguments[2],P)&&arguments[0]instanceof v&&arguments[1]instanceof Hn)for(var o=arguments[0],l=arguments[1],x=arguments[2],A=l.getEdge().getCoordinates(),n=0;n<A.length-1;n++){this.seg.p0=A[n],this.seg.p1=A[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var V=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(V<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||nt.computeOrientation(this.seg.p0,this.seg.p1,o)===nt.RIGHT)){var Z=l.getDepth(et.LEFT);this.seg.p0.equals(A[n])||(Z=l.getDepth(et.RIGHT));var K=new Ki(this.seg,Z);x.add(K)}}else if(X(arguments[2],P)&&arguments[0]instanceof v&&X(arguments[1],P))for(var $=arguments[0],ut=arguments[1],ft=arguments[2],n=ut.iterator();n.hasNext();){var gt=n.next();gt.isForward()&&this.findStabbedSegments($,gt,ft)}}},getDepth:function(t){var e=this.findStabbedSegments(t);if(e.size()===0)return 0;var n=Qe.min(e);return n.leftDepth},interfaces_:function(){return[]},getClass:function(){return ji}}),d(Ki.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return n!==0?n:(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg),n!==0?n:this.upwardSeg.compareTo(e.upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return n!==0?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[f]},getClass:function(){return Ki}}),ji.DepthSegment=Ki,d(js.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,L.EXTERIOR,L.INTERIOR)},addPolygon:function(t){var e=this.distance,n=et.LEFT;this.distance<0&&(e=-this.distance,n=et.RIGHT);var r=t.getExteriorRing(),s=at.removeRepeatedPoints(r.getCoordinates());if(this.distance<0&&this.isErodedCompletely(r,this.distance)||this.distance<=0&&s.length<3)return null;this.addPolygonRing(s,e,n,L.EXTERIOR,L.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var l=t.getInteriorRingN(o),x=at.removeRepeatedPoints(l.getCoordinates());this.distance>0&&this.isErodedCompletely(l,-this.distance)||this.addPolygonRing(x,e,et.opposite(n),L.INTERIOR,L.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new Tt(t[0],t[1],t[2]),r=n.inCentre(),s=nt.distancePointLine(r,n.p0,n.p1);return s<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=at.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,L.EXTERIOR,L.INTERIOR)},addCurve:function(t,e,n){if(t===null||t.length<2)return null;var r=new Ue(t,new Bt(0,L.BOUNDARY,e,n));this.curveList.add(r)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,r,s){if(e===0&&t.length<qt.MINIMUM_VALID_SIZE)return null;var o=r,l=s;t.length>=qt.MINIMUM_VALID_SIZE&&nt.isCCW(t)&&(o=s,l=r,n=et.opposite(n));var x=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(x,o,l)},add:function(t){if(t.isEmpty())return null;if(t instanceof Mt)this.addPolygon(t);else if(t instanceof mt)this.addLineString(t);else if(t instanceof At)this.addPoint(t);else if(t instanceof fe)this.addCollection(t);else if(t instanceof ce)this.addCollection(t);else if(t instanceof Zt)this.addCollection(t);else{if(!(t instanceof xt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(n.length===4)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),s=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>s},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return js}}),d(ti.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&this.li.getIntersectionNum()===1){if(ti.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var s=t.size()-1;if(e===0&&r===s||r===0&&e===s)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var s=t.getCoordinates()[e],o=t.getCoordinates()[e+1],l=n.getCoordinates()[r],x=n.getCoordinates()[r+1];this.li.computeIntersection(s,o,l,x),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[Gr]},getClass:function(){return ti}}),ti.isAdjacentSegments=function(t,e){return Math.abs(t-e)===1},d(_n.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(e!==null){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Bt(t.getLabel()),r.flip()),n.merge(r);var s=_n.depthDelta(r),o=e.getDepthDelta(),l=o+s;e.setDepthDelta(l)}else this.edgeList.add(t),t.setDepthDelta(_n.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new C,r=t.iterator();r.hasNext();){var s=r.next(),o=s.getRightmostCoordinate(),l=new ji(n),x=l.getDepth(o);s.computeDepth(x),s.findResultEdges(),n.add(s),e.add(s.getDirectedEdges(),s.getNodes())}},createSubgraphs:function(t){for(var e=new C,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var s=new Js;s.create(r),e.add(s)}}return Qe.sort(e,Qe.reverseOrder()),e},createEmptyResultGeometry:function(){var t=this.geomFact.createPolygon();return t},getNoder:function(t){if(this.workingNoder!==null)return this.workingNoder;var e=new wn,n=new Ht;return n.setPrecisionModel(t),e.setSegmentIntersector(new ti(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;n===null&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var r=new $r(n,this.bufParams),s=new js(t,e,r),o=s.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this.graph=new He(new dr),this.graph.addEdges(this.edgeList.getEdges());var l=this.createSubgraphs(this.graph),x=new _i(this.geomFact);this.buildSubgraphs(l,x);var A=x.getPolygons();if(A.size()<=0)return this.createEmptyResultGeometry();var V=this.geomFact.buildGeometry(A);return V},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings(),s=r.iterator();s.hasNext();){var o=s.next(),l=o.getCoordinates();if(l.length!==2||!l[0].equals2D(l[1])){var x=o.getData(),A=new be(o.getCoordinates(),new Bt(x));this.insertUniqueEdge(A)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return _n}}),_n.depthDelta=function(t){var e=t.getLocation(0,et.LEFT),n=t.getLocation(0,et.RIGHT);return e===L.INTERIOR&&n===L.EXTERIOR?1:e===L.EXTERIOR&&n===L.INTERIOR?-1:0},_n.convertSegStrings=function(t){for(var e=new yt,n=new C;t.hasNext();){var r=t.next(),s=e.createLineString(r.getCoordinates());n.add(s)}return e.buildGeometry(n)},d(ei.prototype,{checkEndPtVertexIntersections:function(){if(arguments.length===0)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this.segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this.segStrings)}else if(arguments.length===2){for(var r=arguments[0],s=arguments[1],t=s.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(r))throw new N("found endpt/interior pt intersection at index "+o+" :pt "+r)}},checkInteriorIntersections:function(){if(arguments.length===0)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(arguments.length===2)for(var s=arguments[0],o=arguments[1],l=s.getCoordinates(),x=o.getCoordinates(),A=0;A<l.length-1;A++)for(var V=0;V<x.length-1;V++)this.checkInteriorIntersections(s,A,o,V);else if(arguments.length===4){var Z=arguments[0],K=arguments[1],$=arguments[2],ut=arguments[3];if(Z===$&&K===ut)return null;var ft=Z.getCoordinates()[K],gt=Z.getCoordinates()[K+1],Ot=$.getCoordinates()[ut],Xt=$.getCoordinates()[ut+1];if(this.li.computeIntersection(ft,gt,Ot,Xt),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,ft,gt)||this.hasInteriorIntersection(this.li,Ot,Xt)))throw new N("found non-noded intersection at "+ft+"-"+gt+" and "+Ot+"-"+Xt)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(arguments.length===0)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(arguments.length===1)for(var n=arguments[0],r=n.getCoordinates(),t=0;t<r.length-2;t++)this.checkCollapse(r[t],r[t+1],r[t+2])},hasInteriorIntersection:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var s=t.getIntersection(r);if(!s.equals(e)&&!s.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new N("found non-noded collapse at "+ei.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return ei}}),ei.fact=new yt,d(xr.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),s=Math.min(t.y,e.y),o=Math.max(t.y,e.y),l=this.maxx<n||this.minx>r||this.maxy<s||this.miny>o;if(l)return!1;var x=this.intersectsToleranceSquare(t,e);return I.isTrue(!(l&&x),"Found bad envelope test"),x},initCorners:function(t){var e=.5;this.minx=t.x-e,this.maxx=t.x+e,this.miny=t.y-e,this.maxy=t.y+e,this.corner[0]=new v(this.maxx,this.maxy),this.corner[1]=new v(this.minx,this.maxy),this.corner[2]=new v(this.minx,this.miny),this.corner[3]=new v(this.maxx,this.miny)},intersects:function(t,e){return this.scaleFactor===1?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(this.safeEnv===null){var t=xr.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new B(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.hasIntersection())))},intersectsToleranceSquare:function(t,e){var n=!1,r=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),!!this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),!!this.li.isProper()||(this.li.hasIntersection()&&(r=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.isProper()||!(!n||!r)||!!t.equals(this.pt)||!!e.equals(this.pt))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return xr}}),xr.SAFE_ENV_EXPANSION_FACTOR=.75,d(Qi.prototype,{snap:function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}if(arguments.length===3){var e=arguments[0],n=arguments[1],r=arguments[2],s=e.getSafeEnvelope(),o=new ni(e,n,r);return this.index.query(s,{interfaces_:function(){return[Cn]},visitItem:function(l){var x=l;x.select(s,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Qi}}),y(ni,Mn),d(ni.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(arguments.length!==2)return Mn.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return this.parentEdge!==null&&n===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,e))},interfaces_:function(){return[]},getClass:function(){return ni}}),Qi.HotPixelSnapAction=ni,d(Ks.prototype,{processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;var s=t.getCoordinates()[e],o=t.getCoordinates()[e+1],l=n.getCoordinates()[r],x=n.getCoordinates()[r+1];if(this.li.computeIntersection(s,o,l,x),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var A=0;A<this.li.getIntersectionNum();A++)this.interiorIntersections.add(this.li.getIntersection(A));t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[Gr]},getClass:function(){return Ks}}),d(Qs.prototype,{checkCorrectness:function(t){var e=Ue.getNodedSubstrings(t),n=new ei(e);try{n.checkValid()}catch(r){if(!(r instanceof U))throw r;r.printStackTrace()}finally{}},getNodedSubstrings:function(){return Ue.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new Ks(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(X(arguments[0],w))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Ue)for(var r=arguments[0],s=r.getCoordinates(),o=0;o<s.length;o++){var l=new xr(s[o],this.scaleFactor,this.li),x=this.pointSnapper.snap(l,r,o);x&&r.addIntersection(s[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new wn,this.pointSnapper=new Qi(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new xr(n,this.scaleFactor,this.li);this.pointSnapper.snap(r)}},interfaces_:function(){return[Fr]},getClass:function(){return Qs}}),d(Kt.prototype,{bufferFixedPrecision:function(t){var e=new jr(new Qs(new St(1)),t.getScale()),n=new _n(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(arguments.length===0){for(var t=Kt.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(s){if(!(s instanceof ge))throw s;this.saveException=s}finally{}if(this.resultGeometry!==null)return null}throw this.saveException}if(arguments.length===1){var e=arguments[0],n=Kt.precisionScaleFactor(this.argGeom,this.distance,e),r=new St(n);this.bufferFixedPrecision(r)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),this.resultGeometry!==null)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===St.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new _n(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(e){if(!(e instanceof N))throw e;this.saveException=e}finally{}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return Kt}}),Kt.bufferOp=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new Kt(t),r=n.getResultGeometry(e);return r}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Q&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1],l=arguments[2],x=new Kt(s);x.setQuadrantSegments(l);var r=x.getResultGeometry(o);return r}if(arguments[2]instanceof Ct&&arguments[0]instanceof Q&&typeof arguments[1]=="number"){var A=arguments[0],V=arguments[1],Z=arguments[2],x=new Kt(A,Z),r=x.getResultGeometry(V);return r}}else if(arguments.length===4){var K=arguments[0],$=arguments[1],ut=arguments[2],ft=arguments[3],x=new Kt(K);x.setQuadrantSegments(ut),x.setEndCapStyle(ft);var r=x.getResultGeometry($);return r}},Kt.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),s=ot.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),o=e>0?e:0,l=s+2*o,x=Math.trunc(Math.log(l)/Math.log(10)+1),A=n-x,V=Math.pow(10,A);return V},Kt.CAP_ROUND=Ct.CAP_ROUND,Kt.CAP_BUTT=Ct.CAP_FLAT,Kt.CAP_FLAT=Ct.CAP_FLAT,Kt.CAP_SQUARE=Ct.CAP_SQUARE,Kt.MAX_PRECISION_DIGITS=12;var ga=Object.freeze({BufferOp:Kt,BufferParameters:Ct});d(Qn.prototype,{filter:function(t){t instanceof Mt&&this.comps.add(t)},interfaces_:function(){return[tn]},getClass:function(){return Qn}}),Qn.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return Qn.getPolygons(t,new C)}if(arguments.length===2){var e=arguments[0],n=arguments[1];return e instanceof Mt?n.add(e):e instanceof xt&&e.apply(new Qn(n)),n}},d(me.prototype,{isInsideArea:function(){return this.segIndex===me.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return me}}),me.INSIDE_AREA=-1,d($n.prototype,{filter:function(t){t instanceof At&&this.pts.add(t)},interfaces_:function(){return[tn]},getClass:function(){return $n}}),$n.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof At?Qe.singletonList(t):$n.getPoints(t,new C)}if(arguments.length===2){var e=arguments[0],n=arguments[1];return e instanceof At?n.add(e):e instanceof xt&&e.apply(new $n(n)),n}},d(ri.prototype,{filter:function(t){(t instanceof At||t instanceof mt||t instanceof Mt)&&this.locations.add(new me(t,0,t.getCoordinate()))},interfaces_:function(){return[tn]},getClass:function(){return ri}}),ri.getLocations=function(t){var e=new C;return t.apply(new ri(e)),e},d(qe.prototype,{computeContainmentDistance:function(){if(arguments.length===0){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1],r=1-e,s=Qn.getPolygons(this.geom[e]);if(s.size()>0){var o=ri.getLocations(this.geom[r]);if(this.computeContainmentDistance(o,s,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[r]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&X(arguments[0],P)&&X(arguments[1],P)){for(var l=arguments[0],x=arguments[1],A=arguments[2],V=0;V<l.size();V++)for(var Z=l.get(V),K=0;K<x.size();K++)if(this.computeContainmentDistance(Z,x.get(K),A),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof me&&arguments[1]instanceof Mt){var $=arguments[0],ut=arguments[1],ft=arguments[2],gt=$.getCoordinate();if(L.EXTERIOR!==this.ptLocator.locate(gt,ut))return this.minDistance=0,ft[0]=$,ft[1]=new me(ut,gt),null}}},computeMinDistanceLinesPoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var s=t.get(r),o=0;o<e.size();o++){var l=e.get(o);if(this.computeMinDistance(s,l,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=te.getLines(this.geom[0]),n=te.getLines(this.geom[1]),r=$n.getPoints(this.geom[0]),s=$n.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,s,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,s,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return t[0]===null?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){this.computeMinDistance();var t=[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()];return t},computeMinDistance:function(){if(arguments.length===0){if(this.minDistanceLocation!==null||(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof mt&&arguments[1]instanceof At){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var r=t.getCoordinates(),s=e.getCoordinate(),o=0;o<r.length-1;o++){var l=nt.distancePointLine(s,r[o],r[o+1]);if(l<this.minDistance){this.minDistance=l;var x=new dt(r[o],r[o+1]),A=x.closestPoint(s);n[0]=new me(t,o,A),n[1]=new me(e,0,s)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof mt&&arguments[1]instanceof mt){var V=arguments[0],Z=arguments[1],K=arguments[2];if(V.getEnvelopeInternal().distance(Z.getEnvelopeInternal())>this.minDistance)return null;for(var r=V.getCoordinates(),$=Z.getCoordinates(),o=0;o<r.length-1;o++)for(var ut=0;ut<$.length-1;ut++){var l=nt.distanceLineLine(r[o],r[o+1],$[ut],$[ut+1]);if(l<this.minDistance){this.minDistance=l;var ft=new dt(r[o],r[o+1]),gt=new dt($[ut],$[ut+1]),Ot=ft.closestPoints(gt);K[0]=new me(V,o,Ot[0]),K[1]=new me(Z,ut,Ot[1])}if(this.minDistance<=this.terminateDistance)return null}}}},computeMinDistancePoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var s=t.get(r),o=0;o<e.size();o++){var l=e.get(o),x=s.getCoordinate().distance(l.getCoordinate());if(x<this.minDistance&&(this.minDistance=x,n[0]=new me(s,0,s.getCoordinate()),n[1]=new me(l,0,l.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(this.geom[0]===null||this.geom[1]===null)throw new a;return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var r=0;r<t.size();r++)for(var s=t.get(r),o=0;o<e.size();o++){var l=e.get(o);if(this.computeMinDistance(s,l,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return qe}}),qe.distance=function(t,e){var n=new qe(t,e);return n.distance()},qe.isWithinDistance=function(t,e,n){var r=new qe(t,e,n);return r.distance()<=n},qe.nearestPoints=function(t,e){var n=new qe(t,e);return n.nearestPoints()};var da=Object.freeze({DistanceOp:qe});d($s.prototype,{getCoordinates:function(){if(this.coordinates===null){for(var t=0,e=0,n=new q,r=this.directedEdges.iterator();r.hasNext();){var s=r.next();s.getEdgeDirection()?t++:e++,n.add(s.getEdge().getLine().getCoordinates(),!1,s.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&at.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return $s}}),d(Pe.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},Pe.setVisited=function(t,e){for(;t.hasNext();){var n=t.next();n.setVisited(e)}},Pe.setMarked=function(t,e){for(;t.hasNext();){var n=t.next();n.setMarked(e)}},y(Ce,Pe),d(Ce.prototype,{isRemoved:function(){return this.parentEdge===null},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:nt.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),r=e.substring(n+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[f]},getClass:function(){return Ce}}),Ce.toEdges=function(t){for(var e=new C,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},y(ii,Ce),d(ii.prototype,{getNext:function(){return this.getToNode().getDegree()!==2?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(I.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return ii}}),y(je,Pe),d(je.prototype,{isRemoved:function(){return this.dirEdge===null},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof cn){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return je}}),d(to.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(Qe.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof je){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof Ce){var r=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n===r)return e}return-1}if(Number.isInteger(arguments[0])){var s=arguments[0],o=s%this.outEdges.size();return o<0&&(o+=this.outEdges.size()),o}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return to}}),y(cn,Pe),d(cn.prototype,{isRemoved:function(){return this.pt===null},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(arguments.length===0)this.pt=null;else if(arguments.length===1){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return cn}}),cn.getEdgesBetween=function(t,e){var n=Ce.toEdges(t.getOutEdges().getEdges()),r=new Rt(n),s=Ce.toEdges(e.getOutEdges().getEdges());return r.retainAll(s),r},y($i,je),d($i.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return $i}}),d(eo.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return eo}}),d(Er.prototype,{findNodesOfDegree:function(t){for(var e=new C,n=this.nodeIterator();n.hasNext();){var r=n.next();r.getDegree()===t&&e.add(r)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof je){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof Ce){var e=arguments[0],n=e.getSym();n!==null&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof cn){for(var r=arguments[0],s=r.getOutEdges().getEdges(),o=s.iterator();o.hasNext();){var l=o.next(),n=l.getSym();n!==null&&this.remove(n),this.dirEdges.remove(l);var x=l.getEdge();x!==null&&this.edges.remove(x)}this.nodeMap.remove(r.getCoordinate()),r.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof je){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof Ce){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof cn){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof je){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof Ce){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Er}}),y(ts,Er),d(ts.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=at.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],r=e[e.length-1],s=this.getNode(n),o=this.getNode(r),l=new ii(s,o,e[1],!0),x=new ii(o,s,e[e.length-2],!1),A=new $i(t);A.setDirectedEdges(l,x),this.add(A)},getNode:function(t){var e=this.findNode(t);return e===null&&(e=new cn(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return ts}}),d(no.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(I.isTrue(e.getDegree()===2),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getDegree()!==2&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(this.mergedLineStrings!==null)return null;Pe.setMarked(this.graph.nodeIterator(),!1),Pe.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new C,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new C;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new $s(this.factory),n=t;do e.add(n),n.getEdge().setMarked(!0),n=n.getNext();while(n!==null&&n!==t);return e},add:function(){if(arguments[0]instanceof Q){var t=arguments[0];t.apply({interfaces_:function(){return[it]},filter:function(o){o instanceof mt&&this.add(o)}})}else if(X(arguments[0],w)){var e=arguments[0];this.mergedLineStrings=null;for(var n=e.iterator();n.hasNext();){var r=n.next();this.add(r)}}else if(arguments[0]instanceof mt){var s=arguments[0];this.factory===null&&(this.factory=s.getFactory()),this.graph.addEdge(s)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return no}});var pa=Object.freeze({LineMerger:no}),ma=Object.freeze({OverlayOp:ht});y(si,Ce),d(si.prototype,{getNext:function(){return this.next},isInRing:function(){return this.edgeRing!==null},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return si}}),y(es,je),d(es.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return es}}),d(oi.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),r=n[0],s=oi.findDifferentPoint(n,r),o=e.findEdgeInSameDirection(r,s),l=e.findEdgeEnd(o),x=null;l.getLabel().getLocation(0,et.RIGHT)===L.INTERIOR?x=l:l.getSym().getLabel().getLocation(0,et.RIGHT)===L.INTERIOR&&(x=l.getSym()),I.isTrue(x!==null,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(x)},visitShellInteriors:function(t,e){if(t instanceof Mt){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof Zt)for(var r=t,s=0;s<r.getNumGeometries();s++){var n=r.getGeometryN(s);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,et.RIGHT)===L.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do I.isTrue(n!==null,"found null Directed Edge"),n.setVisited(!0),n=n.getNext();while(n!==e)},buildEdgeRings:function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getEdgeRing()===null){var s=new zr(r,this.geometryFactory);s.linkDirectedEdgesForMinimalEdgeRings();var o=s.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var r=n.getEdges(),s=r.get(0);if(s.getLabel().getLocation(0,et.RIGHT)===L.INTERIOR){for(var o=0;o<r.size();o++)if(s=r.get(o),!s.isVisited())return this.disconnectedRingcoord=s.getCoordinate(),!0}}}return!1},isInteriorsConnected:function(){var t=new C;this.geomGraph.computeSplitEdges(t);var e=new He(new dr);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},d(ns.prototype,{createEdgeEndForNext:function(t,e,n,r){var s=n.segmentIndex+1;if(s>=t.getNumPoints()&&r===null)return null;var o=t.getCoordinate(s);r!==null&&r.segmentIndex===n.segmentIndex&&(o=r.coord);var l=new Ye(t,n.coord,o,new Bt(t.getLabel()));e.add(l)},createEdgeEndForPrev:function(t,e,n,r){var s=n.segmentIndex;if(n.dist===0){if(s===0)return null;s--}var o=t.getCoordinate(s);r!==null&&r.segmentIndex>=s&&(o=r.coord);var l=new Bt(t.getLabel());l.flip();var x=new Ye(t,n.coord,o,l);e.add(x)},computeEdgeEnds:function(){if(arguments.length===1){for(var t=arguments[0],e=new C,n=t;n.hasNext();){var r=n.next();this.computeEdgeEnds(r,e)}return e}if(arguments.length===2){var s=arguments[0],o=arguments[1],l=s.getEdgeIntersectionList();l.addEndpoints();var x=l.iterator(),A=null,V=null;if(!x.hasNext())return null;var Z=x.next();do A=V,V=Z,Z=null,x.hasNext()&&(Z=x.next()),V!==null&&(this.createEdgeEndForPrev(s,o,V,A),this.createEdgeEndForNext(s,o,V,Z));while(V!==null)}},interfaces_:function(){return[]},getClass:function(){return ns}}),y(ai,Ye),d(ai.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--> Label: "+this.label);for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t),t.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,r=!1,s=this.iterator();s.hasNext();){var o=s.next(),l=o.getLabel().getLocation(t);l===L.BOUNDARY&&n++,l===L.INTERIOR&&(r=!0)}var l=L.NONE;r&&(l=L.INTERIOR),n>0&&(l=le.determineBoundary(e,n)),this.label.setLocation(t,l)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.getLabel().isArea()){var s=r.getLabel().getLocation(t,e);if(s===L.INTERIOR)return this.label.setLocation(t,e,L.INTERIOR),null;s===L.EXTERIOR&&this.label.setLocation(t,e,L.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,et.LEFT),this.computeLabelSide(t,et.RIGHT)},updateIM:function(t){be.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().isArea()&&(e=!0)}e?this.label=new Bt(L.NONE,L.NONE,L.NONE):this.label=new Bt(L.NONE);for(var s=0;s<2;s++)this.computeLabelOn(s,t),e&&this.computeLabelSides(s)},interfaces_:function(){return[]},getClass:function(){return ai}}),y(rs,Zn),d(rs.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.updateIM(t)}},insert:function(t){var e=this.edgeMap.get(t);e===null?(e=new ai(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return rs}}),y(is,an),d(is.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return is}}),y(ui,Wn),d(ui.prototype,{createNode:function(t){return new is(t,new rs)},interfaces_:function(){return[]},getClass:function(){return ui}}),d(ro.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var r=n.next(),s=this.nodes.addNode(r.getCoordinate());s.setLabel(e,r.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new ns,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var r=n.next(),s=r.getLabel().getLocation(e),o=r.getEdgeIntersectionList().iterator();o.hasNext();){var l=o.next(),x=this.nodes.addNode(l.coord);s===L.BOUNDARY?x.setLabelBoundary(e):x.getLabel().isNull(e)&&x.setLabel(e,L.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return ro}}),d(ss.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.getEdgeEnds().size()>1)return this.invalidPoint=r.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return ss}}),d(io.prototype,{buildIndex:function(){this.index=new Dt;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),r=this.index.query(e.getEnvelopeInternal()),s=0;s<r.size();s++){var o=r.get(s),l=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var x=we.findPtNotNode(n,o,this.graph);if(x!==null){var A=nt.isPointInRing(x,l);if(A)return this.nestedPt=x,!1}}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return io}}),d(It.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return It.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return this.pt!==null&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return It}}),It.ERROR=0,It.REPEATED_POINT=1,It.HOLE_OUTSIDE_SHELL=2,It.NESTED_HOLES=3,It.DISCONNECTED_INTERIOR=4,It.SELF_INTERSECTION=5,It.RING_SELF_INTERSECTION=6,It.NESTED_SHELLS=7,It.DUPLICATE_RINGS=8,It.TOO_FEW_POINTS=9,It.INVALID_COORDINATE=10,It.RING_NOT_CLOSED=11,It.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],d(we.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!we.isValid(t[e]))return this.validErr=new It(It.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Mt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),this.validErr!==null)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),this.validErr!==null)return null}},checkHolesNotNested:function(t,e){for(var n=new io(e),r=0;r<t.getNumInteriorRing();r++){var s=t.getInteriorRingN(r);n.add(s)}var o=n.isNonNested();o||(this.validErr=new It(It.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new ss(t),n=e.isNodeConsistentArea();return n?void(e.hasDuplicateRings()&&(this.validErr=new It(It.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new It(It.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),this.validErr===null},checkShellInsideHole:function(t,e,n){var r=t.getCoordinates(),s=e.getCoordinates(),o=we.findPtNotNode(r,e,n);if(o!==null){var l=nt.isPointInRing(o,s);if(!l)return o}var x=we.findPtNotNode(s,t,n);if(x!==null){var A=nt.isPointInRing(x,r);return A?x:null}return I.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),this.validErr!==null)return null}},checkConnectedInteriors:function(t){var e=new oi(t);e.isInteriorsConnected()||(this.validErr=new It(It.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new Jt,n=!0,r=t.iterator();r.hasNext();){var s=r.next();if(n)n=!1;else{if(e.contains(s.coord))return this.validErr=new It(It.RING_SELF_INTERSECTION,s.coord),null;e.add(s.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),r=new Ur(n),s=0;s<t.getNumInteriorRing();s++){var o=t.getInteriorRingN(s),l=we.findPtNotNode(o.getCoordinates(),n,e);if(l===null)return null;var x=!r.isInside(l);if(x)return this.validErr=new It(It.HOLE_OUTSIDE_SHELL,l),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this.validErr=new It(It.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof At){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof fe){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof qt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),this.validErr!==null||(this.checkClosedRing(n),this.validErr!==null))return null;var r=new le(0,n);if(this.checkTooFewPoints(r),this.validErr!==null)return null;var s=new Ht;r.computeSelfNodes(s,!0,!0),this.checkNoSelfIntersectingRings(r)}else if(arguments[0]instanceof mt){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),this.validErr!==null)return null;var r=new le(0,o);this.checkTooFewPoints(r)}else if(arguments[0]instanceof Mt){var l=arguments[0];if(this.checkInvalidCoordinates(l),this.validErr!==null||(this.checkClosedRings(l),this.validErr!==null))return null;var r=new le(0,l);if(this.checkTooFewPoints(r),this.validErr!==null||(this.checkConsistentArea(r),this.validErr!==null)||!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),this.validErr!==null)||(this.checkHolesInShell(l,r),this.validErr!==null)||(this.checkHolesNotNested(l,r),this.validErr!==null))return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof Zt){for(var x=arguments[0],A=0;A<x.getNumGeometries();A++){var V=x.getGeometryN(A);if(this.checkInvalidCoordinates(V),this.validErr!==null||(this.checkClosedRings(V),this.validErr!==null))return null}var r=new le(0,x);if(this.checkTooFewPoints(r),this.validErr!==null||(this.checkConsistentArea(r),this.validErr!==null)||!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),this.validErr!==null))return null;for(var A=0;A<x.getNumGeometries();A++){var V=x.getGeometryN(A);if(this.checkHolesInShell(V,r),this.validErr!==null)return null}for(var A=0;A<x.getNumGeometries();A++){var V=x.getGeometryN(A);if(this.checkHolesNotNested(V,r),this.validErr!==null)return null}if(this.checkShellsNotNested(x,r),this.validErr!==null)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof xt)for(var Z=arguments[0],A=0;A<Z.getNumGeometries();A++){var K=Z.getGeometryN(A);if(this.checkValid(K),this.validErr!==null)return null}else if(arguments[0]instanceof Q){var $=arguments[0];if(this.validErr=null,$.isEmpty())return null;if($ instanceof At)this.checkValid($);else if($ instanceof fe)this.checkValid($);else if($ instanceof qt)this.checkValid($);else if($ instanceof mt)this.checkValid($);else if($ instanceof Mt)this.checkValid($);else if($ instanceof Zt)this.checkValid($);else{if(!($ instanceof xt))throw new UnsupportedOperationException($.getClass().getName());this.checkValid($)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var r=t.getCoordinates(),s=e.getExteriorRing(),o=s.getCoordinates(),l=we.findPtNotNode(r,s,n);if(l===null)return null;var x=nt.isPointInRing(l,o);if(!x)return null;if(e.getNumInteriorRing()<=0)return this.validErr=new It(It.NESTED_SHELLS,l),null;for(var A=null,V=0;V<e.getNumInteriorRing();V++){var Z=e.getInteriorRingN(V);if(A=this.checkShellInsideHole(t,Z,n),A===null)return null}this.validErr=new It(It.NESTED_SHELLS,A)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),this.validErr!==null)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),this.validErr!==null)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new It(It.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var r=t.getGeometryN(n),s=r.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(n!==o){var l=t.getGeometryN(o);if(this.checkShellNotNested(s,l,e),this.validErr!==null)return null}},interfaces_:function(){return[]},getClass:function(){return we}}),we.findPtNotNode=function(t,e,n){for(var r=n.findEdge(e),s=r.getEdgeIntersectionList(),o=0;o<t.length;o++){var l=t[o];if(!s.isIntersection(l))return l}return null},we.isValid=function(){if(arguments[0]instanceof Q){var t=arguments[0],e=new we(t);return e.isValid()}if(arguments[0]instanceof v){var n=arguments[0];return!c.isNaN(n.x)&&!c.isInfinite(n.x)&&!c.isNaN(n.y)&&!c.isInfinite(n.y)}},d(Ge.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(this.ringPts===null){for(var t=new q,e=this.deList.iterator();e.hasNext();){var n=e.next(),r=n.getEdge();Ge.addEdge(r.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),we.isValid(this.ring))},build:function(t){var e=t;do this.add(e),e.setRing(this),e=e.getNext(),I.isTrue(e!==null,"found null DE in ring"),I.isTrue(e===t||!e.isInRing(),"found DE already in ring");while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(this.holes!==null){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}var n=this.factory.createPolygon(this.ring,t);return n},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof qt){var t=arguments[0];this.holes===null&&(this.holes=new C),this.holes.add(t)}else if(arguments[0]instanceof Ge){var e=arguments[0];e.setShell(this);var n=e.getRing();this.holes===null&&(this.holes=new C),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=nt.isCCW(t.getCoordinates())},hasShell:function(){return this.shell!==null},isOuterShell:function(){return this.getOuterHole()!==null},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return $t.toLineString(new Ee(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(this.ring!==null)return this.ring;this.getCoordinates(),this.ringPts.length<3&&k.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof U))throw t;k.out.println(this.ringPts)}finally{}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing().getShell();if(n!==null&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Ge}}),Ge.findDirEdgesInRing=function(t){var e=t,n=new C;do n.add(e),e=e.getNext(),I.isTrue(e!==null,"found null DE in ring"),I.isTrue(e===t||!e.isInRing(),"found DE already in ring");while(e!==t);return n},Ge.addEdge=function(t,e,n){if(e)for(var r=0;r<t.length;r++)n.add(t[r],!1);else for(var r=t.length-1;r>=0;r--)n.add(t[r],!1)},Ge.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),r=n.getEnvelopeInternal(),s=n.getCoordinateN(0),o=null,l=null,x=e.iterator();x.hasNext();){var A=x.next(),V=A.getRing(),Z=V.getEnvelopeInternal();if(!Z.equals(r)&&Z.contains(r)){s=at.ptNotInList(n.getCoordinates(),V.getCoordinates());var K=!1;nt.isPointInRing(s,V.getCoordinates())&&(K=!0),K&&(o===null||l.contains(Z))&&(o=A,l=o.getRing().getEnvelopeInternal())}}return o},d(so.prototype,{compare:function(t,e){var n=t,r=e;return n.getRing().getEnvelope().compareTo(r.getRing().getEnvelope())},interfaces_:function(){return[g]},getClass:function(){return so}}),Ge.EnvelopeComparator=so,y(Ut,Er),d(Ut.prototype,{findEdgeRing:function(t){var e=new Ge(this.factory);return e.build(t),e},computeDepthParity:function(){if(arguments.length===0)for(;;){var t=null;if(t===null)return null;this.computeDepthParity(t)}},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Ut.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=at.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],r=e[e.length-1],s=this.getNode(n),o=this.getNode(r),l=new si(s,o,e[1],!0),x=new si(o,s,e[e.length-2],!1),A=new es(t);A.setDirectedEdges(l,x),this.add(A)},deleteCutEdges:function(){this.computeNextCWEdges(),Ut.findLabeledEdgeRings(this.dirEdges);for(var t=new C,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var r=n.getSym();if(n.getLabel()===r.getLabel()){n.setMarked(!0),r.setMarked(!0);var s=n.getEdge();t.add(s.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Ut.label(this.dirEdges,-1);var t=Ut.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new C,n=this.dirEdges.iterator();n.hasNext();){var r=n.next();if(!r.isMarked()&&!r.isInRing()){var s=this.findEdgeRing(r);e.add(s)}}return e},getNode:function(t){var e=this.findNode(t);return e===null&&(e=new cn(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel(),s=Ut.findIntersectionNodes(n,r);if(s!==null)for(var o=s.iterator();o.hasNext();){var l=o.next();Ut.computeNextCCWEdges(l,r)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new Rt,n=new re,r=t.iterator();r.hasNext();)n.push(r.next());for(;!n.isEmpty();){var s=n.pop();Ut.deleteAllEdges(s);for(var o=s.getOutEdges().getEdges(),r=o.iterator();r.hasNext();){var l=r.next();l.setMarked(!0);var x=l.getSym();x!==null&&x.setMarked(!0);var A=l.getEdge();e.add(A.getLine());var V=l.getToNode();Ut.getDegreeNonDeleted(V)===1&&n.push(V)}}return e},interfaces_:function(){return[]},getClass:function(){return Ut}}),Ut.findLabeledEdgeRings=function(t){for(var e=new C,n=1,r=t.iterator();r.hasNext();){var s=r.next();if(!(s.isMarked()||s.getLabel()>=0)){e.add(s);var o=Ge.findDirEdgesInRing(s);Ut.label(o,n),n++}}return e},Ut.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,r=e.iterator();r.hasNext();){var s=r.next();s.isMarked()||n++}return n},Ut.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var r=n.next();r.setMarked(!0);var s=r.getSym();s!==null&&s.setMarked(!0)}},Ut.label=function(t,e){for(var n=t.iterator();n.hasNext();){var r=n.next();r.setLabel(e)}},Ut.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,r=null,s=e.getEdges().iterator();s.hasNext();){var o=s.next();if(!o.isMarked()){if(n===null&&(n=o),r!==null){var l=r.getSym();l.setNext(o)}r=o}}if(r!==null){var l=r.getSym();l.setNext(n)}},Ut.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),r=null,s=null,o=n.getEdges(),l=o.size()-1;l>=0;l--){var x=o.get(l),A=x.getSym(),V=null;x.getLabel()===e&&(V=x);var Z=null;A.getLabel()===e&&(Z=A),V===null&&Z===null||(Z!==null&&(s=Z),V!==null&&(s!==null&&(s.setNext(V),s=null),r===null&&(r=V)))}s!==null&&(I.isTrue(r!==null),s.setNext(r))},Ut.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),r=0,s=n.iterator();s.hasNext();){var o=s.next();o.getLabel()===e&&r++}return r},Ut.findIntersectionNodes=function(t,e){var n=t,r=null;do{var s=n.getFromNode();Ut.getDegree(s,e)>1&&(r===null&&(r=new C),r.add(s)),n=n.getNext(),I.isTrue(n!==null,"found null DE in ring"),I.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return r},d(ve.prototype,{getGeometry:function(){return this.geomFactory===null&&(this.geomFactory=new yt),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(yt.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var r=t.iterator();r.hasNext();){var s=r.next();s.isValid()?e.add(s):n.add(s.getLineString())}},polygonize:function(){if(this.polyList!==null||(this.polyList=new C,this.graph===null))return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new C;this.invalidRingLines=new C,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),ve.assignHolesToShells(this.holeList,this.shellList),Qe.sort(this.shellList,new Ge.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(ve.findDisjointShells(this.shellList),n=!1),this.polyList=ve.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(X(arguments[0],w))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof mt){var r=arguments[0];this.geomFactory=r.getFactory(),this.graph===null&&(this.graph=new Ut(this.geomFactory)),this.graph.addEdge(r)}else if(arguments[0]instanceof Q){var s=arguments[0];s.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new C,this.shellList=new C;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return ve}}),ve.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getOuterHole();r===null||r.isProcessed()||(n.setIncluded(!0),r.setProcessed(!0))}},ve.extractPolygons=function(t,e){for(var n=new C,r=t.iterator();r.hasNext();){var s=r.next();(e||s.isIncluded())&&n.add(s.getPolygon())}return n},ve.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var r=n.next();ve.assignHoleToShell(r,e)}},ve.assignHoleToShell=function(t,e){var n=Ge.findEdgeRingContaining(t,e);n!==null&&n.addHole(t)},ve.findDisjointShells=function(t){ve.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var r=n.next();r.isIncludedSet()||(r.updateIncluded(),r.isIncludedSet()||(e=!0))}}while(e)},d(os.prototype,{filter:function(t){t instanceof mt&&this.p.add(t)},interfaces_:function(){return[it]},getClass:function(){return os}}),ve.LineStringAdder=os;var va=Object.freeze({Polygonizer:ve});d(as.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),r=this.arg[1].getGeometry().getDimension(),s=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();n===2&&r===2?s&&e.setAtLeast("212101212"):n===2&&r===1?(s&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):n===1&&r===2?(s&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):n===1&&r===1&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var r=n.next();r.isIsolated()&&(this.labelIsolatedEdge(r,e,this.arg[e].getGeometry()),this.isolatedEdges.add(r))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var r=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,r)}else t.getLabel().setAllLocations(e,L.EXTERIOR)},computeIM:function(){var t=new bt;if(t.set(L.EXTERIOR,L.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new ns,r=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(r);var s=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(s),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next(),r=this.nodes.addNode(n.getCoordinate());r.setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),s=n.getEdgeIntersectionList().iterator();s.hasNext();){var o=s.next(),l=this.nodes.find(o.coord);l.getLabel().isNull(t)&&(r===L.BOUNDARY?l.setLabelBoundary(t):l.setLabel(t,L.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),s=n.getEdgeIntersectionList().iterator();s.hasNext();){var o=s.next(),l=this.nodes.addNode(o.coord);r===L.BOUNDARY?l.setLabelBoundary(t):l.getLabel().isNull(t)&&l.setLabel(t,L.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();I.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){var n=e.next();n.updateIM(t)}for(var r=this.nodes.iterator();r.hasNext();){var s=r.next();s.updateIM(t),s.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(L.INTERIOR,L.EXTERIOR,e.getDimension()),t.set(L.BOUNDARY,L.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(L.EXTERIOR,L.INTERIOR,n.getDimension()),t.set(L.EXTERIOR,L.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return as}}),d(li.prototype,{isContainedInBoundary:function(t){if(t instanceof Mt)return!1;if(t instanceof At)return this.isPointContainedInBoundary(t);if(t instanceof mt)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new v,r=new v,s=0;s<e.size()-1;s++)if(e.getCoordinate(s,n),e.getCoordinate(s+1,r),!this.isLineSegmentContainedInBoundary(n,r))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof At){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof v){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return li}}),li.contains=function(t,e){var n=new li(t);return n.contains(e)},d(oo.prototype,{intersects:function(t,e){var n=new B(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t)||this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var r=t;t=e,e=r}var s=!1;return e.y>t.y&&(s=!0),s?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return oo}}),d(An.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof xt)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return An}}),d(Ir.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new us(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new ls(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var r=new hs(this.rectangle);return r.applyTo(t),!!r.intersects()},interfaces_:function(){return[]},getClass:function(){return Ir}}),Ir.intersects=function(t,e){var n=new Ir(t);return n.intersects(e)},y(us,An),d(us.prototype,{isDone:function(){return this._intersects===!0},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return us}}),y(ls,An),d(ls.prototype,{isDone:function(){return this._containsPoint===!0},visit:function(t){if(!(t instanceof Mt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new v,r=0;r<4;r++)if(this.rectSeq.getCoordinate(r,n),e.contains(n)&&Ne.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return ls}}),y(hs,An),d(hs.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return this.hasIntersection===!0},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=te.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return hs}}),y(wt,Rn),d(wt.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return wt}}),wt.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||wt.relate(t,e).isCovers())},wt.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?Ir.intersects(t,e):e.isRectangle()?Ir.intersects(e,t):wt.relate(t,e).isIntersects())},wt.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&wt.relate(t,e).isTouches(t.getDimension(),e.getDimension())},wt.within=function(t,e){return e.contains(t)},wt.coveredBy=function(t,e){return wt.covers(e,t)},wt.relate=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new wt(t,e),r=n.getIntersectionMatrix();return r}if(arguments.length===3){if(typeof arguments[2]=="string"&&arguments[0]instanceof Q&&arguments[1]instanceof Q){var s=arguments[0],o=arguments[1],l=arguments[2];return wt.relateWithCheck(s,o).matches(l)}if(X(arguments[2],st)&&arguments[0]instanceof Q&&arguments[1]instanceof Q){var x=arguments[0],A=arguments[1],V=arguments[2],n=new wt(x,A,V),r=n.getIntersectionMatrix();return r}}},wt.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&wt.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},wt.disjoint=function(t,e){return!t.intersects(e)},wt.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wt.relate(t,e)},wt.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&wt.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},wt.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?li.contains(t,e):wt.relate(t,e).isContains())};var ya=Object.freeze({RelateOp:wt});d(Se.prototype,{extractElements:function(t,e){if(t===null)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this.skipEmpty&&r.isEmpty()||e.add(r)}},combine:function(){for(var t=new C,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return t.size()===0?this.geomFactory!==null?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Se}}),Se.combine=function(){if(arguments.length===1){var t=arguments[0],e=new Se(t);return e.combine()}if(arguments.length===2){var n=arguments[0],r=arguments[1],e=new Se(Se.createList(n,r));return e.combine()}if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2],e=new Se(Se.createList(s,o,l));return e.combine()}},Se.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Se.createList=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new C;return n.add(t),n.add(e),n}if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2],n=new C;return n.add(r),n.add(s),n.add(o),n}},d(hi.prototype,{union:function(){for(var t=new Un,e=new Jt,n=0;n<this.pointGeom.getNumGeometries();n++){var r=this.pointGeom.getGeometryN(n),s=r.getCoordinate(),o=t.locate(s,this.otherGeom);o===L.EXTERIOR&&e.add(s)}if(e.size()===0)return this.otherGeom;var l=null,x=at.toCoordinateArray(e);return l=x.length===1?this.geomFact.createPoint(x[0]):this.geomFact.createMultiPointFromCoords(x),Se.combine(l,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.union=function(t,e){var n=new hi(t,e);return n.union()},d(Dn.prototype,{filter:function(t){this.sortIndex!==-1&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[tn]},getClass:function(){return Dn}}),Dn.extract=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return Dn.extract(t,e,new C)}if(arguments.length===3){var n=arguments[0],r=arguments[1],s=arguments[2];return n.getSortIndex()===r?s.add(n):n instanceof xt&&n.apply(new Dn(r,s)),s}},d(Te.prototype,{reduceToGeometries:function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next(),s=null;X(r,P)?s=this.unionTree(r):r instanceof Q&&(s=r),e.add(s)}return e},extractByEnvelope:function(t,e,n){for(var r=new C,s=0;s<e.getNumGeometries();s++){var o=e.getGeometryN(s);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this.geomFactory.buildGeometry(r)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r)){var s=Se.combine(t,e);return s}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,o)},union:function(){if(this.inputPolys===null)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Dt(Te.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var r=t.itemsTree(),s=this.unionTree(r);return s},binaryUnion:function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(arguments.length===3){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var o=Te.getGeometry(e,n);return this.unionSafe(o,null)}if(r-n===2)return this.unionSafe(Te.getGeometry(e,n),Te.getGeometry(e,n+1));var s=Math.trunc((r+n)/2),o=this.binaryUnion(e,n,s),l=this.binaryUnion(e,s,r);return this.unionSafe(o,l)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=e===null?r.copy():e.union(r)}return e},unionSafe:function(t,e){return t===null&&e===null?null:t===null?e.copy():e===null?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Te.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t),n=this.binaryUnion(e);return n},unionUsingEnvelopeIntersection:function(t,e,n){var r=new C,s=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),l=this.unionActual(s,o);r.add(l);var x=Se.combine(r);return x},bufferUnion:function(){if(arguments.length===1){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),r=n.buffer(0);return r}if(arguments.length===2){var s=arguments[0],o=arguments[1],e=s.getFactory(),n=e.createGeometryCollection([s,o]),r=n.buffer(0);return r}},interfaces_:function(){return[]},getClass:function(){return Te}}),Te.restrictToPolygons=function(t){if(X(t,en))return t;var e=Qn.getPolygons(t);return e.size()===1?e.get(0):t.getFactory().createMultiPolygon(yt.toPolygonArray(e))},Te.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Te.union=function(t){var e=new Te(t);return e.union()},Te.STRTREE_NODE_CAPACITY=4,d(Fn.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return Wt.overlayOp(t,e,ht.UNION)},unionWithNull:function(t,e){return t===null&&e===null?null:e===null?t:t===null?e:t.union(e)},extract:function(){if(X(arguments[0],w))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof Q){var r=arguments[0];this.geomFact===null&&(this.geomFact=r.getFactory()),Dn.extract(r,Q.SORTINDEX_POLYGON,this.polygons),Dn.extract(r,Q.SORTINDEX_LINESTRING,this.lines),Dn.extract(r,Q.SORTINDEX_POINT,this.points)}},union:function(){if(this.geomFact===null)return null;var e=null;if(this.points.size()>0){var n=this.geomFact.buildGeometry(this.points);e=this.unionNoOpt(n)}var r=null;if(this.lines.size()>0){var s=this.geomFact.buildGeometry(this.lines);r=this.unionNoOpt(s)}var o=null;this.polygons.size()>0&&(o=Te.union(this.polygons));var l=this.unionWithNull(r,o),x=null;return x=e===null?l:l===null?e:hi.union(e,l),x===null?this.geomFact.createGeometryCollection():x},interfaces_:function(){return[]},getClass:function(){return Fn}}),Fn.union=function(){if(arguments.length===1){if(X(arguments[0],w)){var t=arguments[0],e=new Fn(t);return e.union()}if(arguments[0]instanceof Q){var n=arguments[0],e=new Fn(n);return e.union()}}else if(arguments.length===2){var r=arguments[0],s=arguments[1],e=new Fn(r,s);return e.union()}};var xa=Object.freeze({UnaryUnionOp:Fn}),Ea=Object.freeze({IsValidOp:we,ConsistentAreaTester:ss}),Ia=Object.freeze({BoundaryOp:pn,IsSimpleOp:Kr,buffer:ga,distance:da,linemerge:pa,overlay:ma,polygonize:va,relate:ya,union:xa,valid:Ea});y(cs,xe.CoordinateOperation),d(cs.prototype,{editCoordinates:function(t,e){if(t.length===0)return null;for(var n=new Array(t.length).fill(null),r=0;r<t.length;r++){var s=new v(t[r]);this.targetPM.makePrecise(s),n[r]=s}var o=new q(n,!1),l=o.toCoordinateArray(),x=0;e instanceof mt&&(x=2),e instanceof qt&&(x=4);var A=n;return this.removeCollapsed&&(A=null),l.length<x?A:l},interfaces_:function(){return[]},getClass:function(){return cs}}),d(tr.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),r=n;return this.changePrecisionModel||(r=this.changePM(n,t.getPrecisionModel())),r},reducePointwise:function(t){var e=null;if(this.changePrecisionModel){var n=this.createFactory(t.getFactory(),this.targetPM);e=new xe(n)}else e=new xe;var r=this.removeCollapsed;t.getDimension()>=2&&(r=!0);var s=e.edit(t,new cs(this.targetPM,r));return s},changePM:function(t,e){var n=this.createEditor(t.getFactory(),e);return n.edit(t,new xe.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){var n=new yt(e,t.getSRID(),t.getCoordinateSequenceFactory());return n},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:X(e,en)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){if(t.getPrecisionModel()===e)return new xe;var n=this.createFactory(t,e),r=new xe(n);return r},interfaces_:function(){return[]},getClass:function(){return tr}}),tr.reduce=function(t,e){var n=new tr(e);return n.reduce(t)},tr.reducePointwise=function(t,e){var n=new tr(e);return n.setPointwise(!0),n.reduce(t)};var Na=Object.freeze({GeometryPrecisionReducer:tr});d(ci.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,r=t,s=t+1;s<e;s++){var o=this.seg.distance(this.pts[s]);o>n&&(n=o,r=s)}if(n<=this.distanceTolerance)for(var s=t+1;s<e;s++)this.usePt[s]=!1;else this.simplifySection(t,r),this.simplifySection(r,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new q,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new v(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return ci}}),ci.simplify=function(t,e){var n=new ci(t);return n.setDistanceTolerance(e),n.simplify()},d(Nr.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new fi(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new a;this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Nr}}),Nr.simplify=function(t,e){var n=new Nr(t);return n.setDistanceTolerance(e),n.getResultGeometry()},y(fi,oe),d(fi.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=oe.prototype.transformPolygon.call(this,t,e);return e instanceof Zt?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=null;return r=n.length===0?new Array(0).fill(null):ci.simplify(n,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(r)},transformMultiPolygon:function(t,e){var n=oe.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Mt,r=oe.prototype.transformLinearRing.call(this,t,e);return!n||r instanceof qt?r:null},interfaces_:function(){return[]},getClass:function(){return fi}}),Nr.DPTransformer=fi,y(gi,dt),d(gi.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return gi}}),d(In.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(In.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return t===0?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(In.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new gi(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return In.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return In}}),In.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,r=0;r<t.size();r++)n=t.get(r),e[r]=n.p0;return e[e.length-1]=n.p1,e},d(Cr.prototype,{remove:function(t){this.index.remove(new B(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof In)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var r=e[n];this.add(r)}else if(arguments[0]instanceof dt){var s=arguments[0];this.index.insert(new B(s.p0,s.p1),s)}},query:function(t){var e=new B(t.p0,t.p1),n=new ao(t);this.index.query(e,n);var r=n.getItems();return r},interfaces_:function(){return[]},getClass:function(){return Cr}}),d(ao.prototype,{visitItem:function(t){var e=t;B.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Cn]},getClass:function(){return ao}}),d(di.prototype,{flatten:function(t,e){var n=this.linePts[t],r=this.linePts[e],s=new dt(n,r);return this.remove(this.line,t,e),this.outputIndex.add(s),s},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var r=new Array(2).fill(null);if(t+1===e){var s=this.line.getSegment(t);return this.line.addToResult(s),null}var o=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){var l=n+1;l<this.line.getMinimumSize()&&(o=!1)}var x=new Array(1).fill(null),A=this.findFurthestPoint(this.linePts,t,e,x);x[0]>this.distanceTolerance&&(o=!1);var V=new dt;if(V.p0=this.linePts[t],V.p1=this.linePts[e],r[0]=t,r[1]=e,this.hasBadIntersection(this.line,r,V)&&(o=!1),o){var s=this.flatten(t,e);return this.line.addToResult(s),null}this.simplifySection(t,A,n),this.simplifySection(A,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t),n=e.iterator();n.hasNext();){var r=n.next();if(this.hasInteriorIntersection(r,t))return!0}return!1},findFurthestPoint:function(t,e,n,r){var s=new dt;s.p0=t[e],s.p1=t[n];for(var o=-1,l=e,x=e+1;x<n;x++){var A=t[x],V=s.distance(A);V>o&&(o=V,l=x)}return r[0]=o,l},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var r=e;r<n;r++){var s=t.getSegment(r);this.inputIndex.remove(s)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var r=this.inputIndex.query(n),s=r.iterator();s.hasNext();){var o=s.next();if(this.hasInteriorIntersection(o,n)){if(di.isInLineSection(t,e,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return di}}),di.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var r=n.getIndex();return r>=e[0]&&r<e[1]},d(uo.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new di(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return uo}}),d(er.prototype,{getResultGeometry:function(){if(this.inputGeom.isEmpty())return this.inputGeom.copy();this.linestringMap=new nn,this.inputGeom.apply(new fs(this)),this.lineSimplifier.simplify(this.linestringMap.values());var t=new pi(this.linestringMap).transform(this.inputGeom);return t},setDistanceTolerance:function(t){if(t<0)throw new a;this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return er}}),er.simplify=function(t,e){var n=new er(t);return n.setDistanceTolerance(e),n.getResultGeometry()},y(pi,oe),d(pi.prototype,{transformCoordinates:function(t,e){if(t.size()===0)return null;if(e instanceof mt){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return oe.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return pi}}),d(fs.prototype,{filter:function(t){if(t instanceof mt){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,r=new In(e,n);this.tps.linestringMap.put(e,r)}},interfaces_:function(){return[it]},getClass:function(){return fs}}),er.LineStringTransformer=pi,er.LineStringMapBuilderFilter=fs;var Ca=Object.freeze({DouglasPeuckerSimplifier:Nr,TopologyPreservingSimplifier:er});d(wr.prototype,{splitAt:function(){if(arguments.length===1){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=wr.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1],s=this.getConstrainedLength(n),o=s/this.segLen;r.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=wr.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return wr}}),wr.pointAlongReverse=function(t,e){var n=new v;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},d(lo.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return lo}}),d(mi.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),r=n.getLength(),s=r/2,o=new wr(n),l=mi.projectedSplitPoint(t,e),x=2*l.distance(e)*.8,A=x;return A>s&&(A=s),o.setMinimumLength(A),o.splitAt(l),o.getSplitPoint()},interfaces_:function(){return[lo]},getClass:function(){return mi}}),mi.projectedSplitPoint=function(t,e){var n=t.getLineSegment(),r=n.project(e);return r},d(_t.prototype,{interfaces_:function(){return[]},getClass:function(){return _t}}),_t.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},_t.isInCircleDDNormalized=function(t,e,n,r){var s=z.valueOf(t.x).selfSubtract(r.x),o=z.valueOf(t.y).selfSubtract(r.y),l=z.valueOf(e.x).selfSubtract(r.x),x=z.valueOf(e.y).selfSubtract(r.y),A=z.valueOf(n.x).selfSubtract(r.x),V=z.valueOf(n.y).selfSubtract(r.y),Z=s.multiply(x).selfSubtract(l.multiply(o)),K=l.multiply(V).selfSubtract(A.multiply(x)),$=A.multiply(o).selfSubtract(s.multiply(V)),ut=s.multiply(s).selfAdd(o.multiply(o)),ft=l.multiply(l).selfAdd(x.multiply(x)),gt=A.multiply(A).selfAdd(V.multiply(V)),Ot=ut.selfMultiply(K).selfAdd(ft.selfMultiply($)).selfAdd(gt.selfMultiply(Z)),Xt=Ot.doubleValue()>0;return Xt},_t.checkRobustInCircle=function(t,e,n,r){var s=_t.isInCircleNonRobust(t,e,n,r),o=_t.isInCircleDDSlow(t,e,n,r),l=_t.isInCircleCC(t,e,n,r),x=Tt.circumcentre(t,e,n);k.out.println("p radius diff a = "+Math.abs(r.distance(x)-t.distance(x))/t.distance(x)),s===o&&s===l||(k.out.println("inCircle robustness failure (double result = "+s+", DD result = "+o+", CC result = "+l+")"),k.out.println($t.toLineString(new Ee([t,e,n,r]))),k.out.println("Circumcentre = "+$t.toPoint(x)+" radius = "+t.distance(x)),k.out.println("p radius diff a = "+Math.abs(r.distance(x)/t.distance(x)-1)),k.out.println("p radius diff b = "+Math.abs(r.distance(x)/e.distance(x)-1)),k.out.println("p radius diff c = "+Math.abs(r.distance(x)/n.distance(x)-1)),k.out.println())},_t.isInCircleDDFast=function(t,e,n,r){var s=z.sqr(t.x).selfAdd(z.sqr(t.y)).selfMultiply(_t.triAreaDDFast(e,n,r)),o=z.sqr(e.x).selfAdd(z.sqr(e.y)).selfMultiply(_t.triAreaDDFast(t,n,r)),l=z.sqr(n.x).selfAdd(z.sqr(n.y)).selfMultiply(_t.triAreaDDFast(t,e,r)),x=z.sqr(r.x).selfAdd(z.sqr(r.y)).selfMultiply(_t.triAreaDDFast(t,e,n)),A=s.selfSubtract(o).selfAdd(l).selfSubtract(x),V=A.doubleValue()>0;return V},_t.isInCircleCC=function(t,e,n,r){var s=Tt.circumcentre(t,e,n),o=t.distance(s),l=r.distance(s)-o;return l<=0},_t.isInCircleNormalized=function(t,e,n,r){var s=t.x-r.x,o=t.y-r.y,l=e.x-r.x,x=e.y-r.y,A=n.x-r.x,V=n.y-r.y,Z=s*x-l*o,K=l*V-A*x,$=A*o-s*V,ut=s*s+o*o,ft=l*l+x*x,gt=A*A+V*V,Ot=ut*K+ft*$+gt*Z;return Ot>0},_t.isInCircleDDSlow=function(t,e,n,r){var s=z.valueOf(r.x),o=z.valueOf(r.y),l=z.valueOf(t.x),x=z.valueOf(t.y),A=z.valueOf(e.x),V=z.valueOf(e.y),Z=z.valueOf(n.x),K=z.valueOf(n.y),$=l.multiply(l).add(x.multiply(x)).multiply(_t.triAreaDDSlow(A,V,Z,K,s,o)),ut=A.multiply(A).add(V.multiply(V)).multiply(_t.triAreaDDSlow(l,x,Z,K,s,o)),ft=Z.multiply(Z).add(K.multiply(K)).multiply(_t.triAreaDDSlow(l,x,A,V,s,o)),gt=s.multiply(s).add(o.multiply(o)).multiply(_t.triAreaDDSlow(l,x,A,V,Z,K)),Ot=$.subtract(ut).add(ft).subtract(gt),Xt=Ot.doubleValue()>0;return Xt},_t.isInCircleNonRobust=function(t,e,n,r){var s=(t.x*t.x+t.y*t.y)*_t.triArea(e,n,r)-(e.x*e.x+e.y*e.y)*_t.triArea(t,n,r)+(n.x*n.x+n.y*n.y)*_t.triArea(t,e,r)-(r.x*r.x+r.y*r.y)*_t.triArea(t,e,n)>0;return s},_t.isInCircleRobust=function(t,e,n,r){return _t.isInCircleNormalized(t,e,n,r)},_t.triAreaDDSlow=function(t,e,n,r,s,o){return n.subtract(t).multiply(o.subtract(e)).subtract(r.subtract(e).multiply(s.subtract(t)))},_t.triAreaDDFast=function(t,e,n){var r=z.valueOf(e.x).selfSubtract(t.x).selfMultiply(z.valueOf(n.y).selfSubtract(t.y)),s=z.valueOf(e.y).selfSubtract(t.y).selfMultiply(z.valueOf(n.x).selfSubtract(t.x));return r.selfSubtract(s)},d(Lt.prototype,{circleCenter:function(t,e){var n=new Lt(this.getX(),this.getY()),r=this.bisector(n,t),s=this.bisector(t,e),o=new j(r,s),l=null;try{l=new Lt(o.getX(),o.getY())}catch(x){if(!(x instanceof W))throw x;k.err.println("a: "+n+"  b: "+t+"  c: "+e),k.err.println(x)}finally{}return l},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),r=e.getY()-t.getY(),s=new j(t.getX()+n/2,t.getY()+r/2,1),o=new j(t.getX()-r+n/2,t.getY()+n+r/2,1);return new j(s,o)},equals:function(){if(arguments.length===1){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(arguments.length===2){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return _t.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var r=t.getX(),s=t.getY(),o=e.getX()-r,l=n.getX()-r,x=e.getY()-s,A=n.getY()-s,V=o*A-l*x,Z=this.getX()-r,K=this.getY()-s,$=(A*Z-l*K)/V,ut=(-x*Z+o*K)/V,ft=t.getZ()+$*(e.getZ()-t.getZ())+ut*(n.getZ()-t.getZ());return ft},midPoint:function(t){var e=(this.p.x+t.getX())/2,n=(this.p.y+t.getY())/2,r=(this.p.z+t.getZ())/2;return new Lt(e,n,r)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new Lt(t*this.p.x,t*this.p.y)},cross:function(){return new Lt(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new Lt(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,r=e.sub(t),s=n.sub(t),o=r.crossProduct(s);return o>0?Lt.LEFT:o<0?Lt.RIGHT:r.getX()*s.getX()<0||r.getY()*s.getY()<0?Lt.BEHIND:r.magn()<s.magn()?Lt.BEYOND:t.equals(n)?Lt.ORIGIN:e.equals(n)?Lt.DESTINATION:Lt.BETWEEN},sum:function(t){return new Lt(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),r=this.distance(n,t),s=this.distance(this,t),o=this.distance(t,e);return o<s&&(s=o),o=this.distance(e,this),o<s&&(s=o),r/s},interfaces_:function(){return[]},getClass:function(){return Lt}}),Lt.interpolateZ=function(){if(arguments.length===3){var t=arguments[0],e=arguments[1],n=arguments[2],r=e.distance(n),s=t.distance(e),o=n.z-e.z,l=e.z+o*(s/r);return l}if(arguments.length===4){var x=arguments[0],A=arguments[1],V=arguments[2],Z=arguments[3],K=A.x,$=A.y,ut=V.x-K,ft=Z.x-K,gt=V.y-$,Ot=Z.y-$,Xt=ut*Ot-ft*gt,Ve=x.x-K,ir=x.y-$,Cs=(Ot*Ve-ft*ir)/Xt,ws=(-gt*Ve+ut*ir)/Xt,Ss=A.z+Cs*(V.z-A.z)+ws*(Z.z-A.z);return Ss}},Lt.LEFT=0,Lt.RIGHT=1,Lt.BEYOND=2,Lt.BEHIND=3,Lt.BETWEEN=4,Lt.ORIGIN=5,Lt.DESTINATION=6,y(qn,Lt),d(qn.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return qn}}),d(Ft.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new dt(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return $t.toLineString(t,e)},isLive:function(){return this._rot!==null},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return Ft}}),Ft.makeEdge=function(t,e){var n=new Ft,r=new Ft,s=new Ft,o=new Ft;n._rot=r,r._rot=s,s._rot=o,o._rot=n,n.setNext(n),r.setNext(o),s.setNext(s),o.setNext(r);var l=n;return l.setOrig(t),l.setDest(e),l},Ft.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();Ft.splice(t,e),Ft.splice(t.sym(),n),Ft.splice(t,e.lNext()),Ft.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},Ft.splice=function(t,e){var n=t.oNext().rot(),r=e.oNext().rot(),s=e.oNext(),o=t.oNext(),l=r.oNext(),x=n.oNext();t.setNext(s),e.setNext(o),n.setNext(l),r.setNext(x)},Ft.connect=function(t,e){var n=Ft.makeEdge(t.dest(),e.orig());return Ft.splice(n,t.lNext()),Ft.splice(n.sym(),e),n},d(vi.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);Ft.splice(n,e);var r=n;do n=this.subdiv.connect(e,n.sym()),e=n.oPrev();while(e.lNext()!==r);for(;;){var s=e.oPrev();if(s.dest().rightOf(e)&&t.isInCircle(e.orig(),s.dest(),e.dest()))Ft.swap(e),e=e.oPrev();else{if(e.oNext()===r)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return vi}}),d(ho.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return ho}}),d(gs.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){var t=this.subdiv.getEdges();return t.iterator().next()},interfaces_:function(){return[ho]},getClass:function(){return gs}}),y(Sr,N),d(Sr.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.msgWithSpatial=function(t,e){return e!==null?t+" [ "+e+" ]":t},d(Lr.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Lr}}),d(Le.prototype,{getTriangleVertices:function(t){var e=new ms;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=Ft.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new C,r=t;do{var s=t.rot().orig().getCoordinate();n.add(s),t=t.oPrev()}while(t!==r);var o=new q;o.addAll(n,!1),o.closeRing(),o.size()<4&&(k.out.println(o),o.add(o.get(o.size()-1),!0));var l=o.toCoordinateArray(),x=e.createPolygon(e.createLinearRing(l),null),A=r.orig();return x.setUserData(A.getCoordinate()),x},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Ft.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Ft.splice(e.sym(),n),Ft.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);Le.getTriangleEdges(t,e);var n=new Array(3).fill(null);Le.getTriangleEdges(t.sym(),n);var r=t.lNext().dest();if(this.isFrameVertex(r))return!0;var s=t.sym().lNext().dest();return!!this.isFrameVertex(s)},makeEdge:function(t,e){var n=Ft.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new re;n.push(this.startingEdge);for(var r=new Rt;!n.empty();){var s=n.pop();if(!r.contains(s)){var o=this.fetchTriangleToVisit(s,n,e,r);o!==null&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate());var n=this.seg.distance(e);return n<this.edgeCoincidenceTolerance},getEnvelope:function(){return new B(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),r=0;r=e>n?10*e:10*n,this.frameVertex[0]=new Lt((t.getMaxX()+t.getMinX())/2,t.getMaxY()+r),this.frameVertex[1]=new Lt(t.getMinX()-r,t.getMinY()-r),this.frameVertex[2]=new Lt(t.getMaxX()+r,t.getMinY()-r),this.frameEnv=new B(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new vs;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new Rt,n=this.quadEdges.iterator();n.hasNext();){var r=n.next(),s=r.orig();!t&&this.isFrameVertex(s)||e.add(s);var o=r.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,r){var s=t,o=0,l=!1;do{this.triEdges[o]=s,this.isFrameEdge(s)&&(l=!0);var x=s.sym();r.contains(x)||e.push(x),r.add(s),o++,s=s.lNext()}while(s!==t);return l&&!n?null:this.triEdges},getEdges:function(){if(arguments.length===0)return this.quadEdges;if(arguments.length===1){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),r=0,s=e.iterator();s.hasNext();){var o=s.next();n[r++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new C,n=new Rt,r=this.quadEdges.iterator();r.hasNext();){var s=r.next(),o=s.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(s));var l=s.sym(),x=l.orig();n.contains(x)||(n.add(x),!t&&this.isFrameVertex(x)||e.add(l))}return e},getTriangleEdges:function(t){var e=new ps;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new C,n=new re;n.push(this.startingEdge);for(var r=new Rt;!n.empty();){var s=n.pop();if(!r.contains(s)){var o=s.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(s.oNext()),n.push(s.sym().oNext()),r.add(s),r.add(s.sym())}}return e},delete:function(t){Ft.splice(t,t.oPrev()),Ft.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),r=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(r),t.delete(),e.delete(),n.delete(),r.delete()},locateFromEdge:function(t,e){for(var n=0,r=this.quadEdges.size(),s=e;;){if(n++,n>r)throw new Sr(s.toLineSegment());if(t.equals(s.orig())||t.equals(s.dest()))break;if(t.rightOf(s))s=s.sym();else if(t.rightOf(s.oNext())){if(t.rightOf(s.dPrev()))break;s=s.dPrev()}else s=s.oNext()}return s},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new ds,!0);for(var e=new C,n=this.getVertexUniqueEdges(!1),r=n.iterator();r.hasNext();){var s=r.next();e.add(this.getVoronoiCellPolygon(s,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(yt.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),r=0,s=e.iterator();s.hasNext();){var o=s.next();n[r++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);Ft.splice(n,e);var r=n;do n=this.connect(e,n.sym()),e=n.oPrev();while(e.lNext()!==r);return r},locate:function(){if(arguments.length===1){if(arguments[0]instanceof Lt){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof v){var e=arguments[0];return this.locator.locate(new Lt(e))}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],s=this.locator.locate(new Lt(n));if(s===null)return null;var o=s;s.dest().getCoordinate().equals2D(n)&&(o=s.sym());var l=o;do{if(l.dest().getCoordinate().equals2D(r))return l;l=l.oNext()}while(l!==o);return null}},interfaces_:function(){return[]},getClass:function(){return Le}}),Le.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new a},d(ds.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),r=t[2].orig().getCoordinate(),s=Tt.circumcentre(e,n,r),o=new Lt(s),l=0;l<3;l++)t[l].rot().setOrig(o)},interfaces_:function(){return[Lr]},getClass:function(){return ds}}),d(ps.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[Lr]},getClass:function(){return ps}}),d(ms.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Lr]},getClass:function(){return ms}}),d(vs.prototype,{checkTriangleSize:function(t){t.length>=2?$t.toLineString(t[0],t[1]):t.length>=1&&$t.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var r=this.coordList.toCoordinateArray();if(r.length!==4)return null;this.triCoords.add(r)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Lr]},getClass:function(){return vs}}),Le.TriangleCircumcentreVisitor=ds,Le.TriangleEdgesListVisitor=ps,Le.TriangleVertexListVisitor=ms,Le.TriangleCoordinatesVisitor=vs,Le.EDGE_COINCIDENCE_TOL_FACTOR=1e3,d(nr.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){var t=this.ls.getCoordinate(1);return t.z},getStartZ:function(){var t=this.ls.getCoordinate(0);return t.z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){var t=this.ls.getCoordinate(1);return t.y},getStartX:function(){var t=this.ls.getCoordinate(0);return t.x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){var t=this.ls.getCoordinate(0);return t.y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){var t=this.ls.getCoordinate(1);return t.x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return nr}}),d(yi.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return yi}}),d(ys.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return ys}}),d(rr.prototype,{insert:function(){if(arguments.length===1){var t=arguments[0];return this.insert(t,null)}if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this.root===null)return this.root=new ys(e,n),this.root;if(this.tolerance>0){var r=this.findBestMatchNode(e);if(r!==null)return r.increment(),r}return this.insertExact(e,n)}},query:function(){var t=arguments,e=this;if(arguments.length===1){var n=arguments[0],r=new C;return this.query(n,r),r}if(arguments.length===2){if(arguments[0]instanceof B&&X(arguments[1],P))(function(){var l=t[0],x=t[1];e.queryNode(e.root,l,!0,{interfaces_:function(){return[yi]},visit:function(A){x.add(A)}})})();else if(arguments[0]instanceof B&&X(arguments[1],yi)){var s=arguments[0],o=arguments[1];this.queryNode(this.root,s,!0,o)}}},queryNode:function(t,e,n,r){if(t===null)return null;var s=null,o=null,l=null;n?(s=e.getMinX(),o=e.getMaxX(),l=t.getX()):(s=e.getMinY(),o=e.getMaxY(),l=t.getY());var x=s<l,A=l<=o;x&&this.queryNode(t.getLeft(),e,!n,r),e.contains(t.getCoordinate())&&r.visit(t),A&&this.queryNode(t.getRight(),e,!n,r)},findBestMatchNode:function(t){var e=new xs(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return this.root===null},insertExact:function(t,e){for(var n=this.root,r=this.root,s=!0,o=!0;n!==null;){if(n!==null){var l=t.distance(n.getCoordinate())<=this.tolerance;if(l)return n.increment(),n}o=s?t.x<n.getX():t.y<n.getY(),r=n,n=o?n.getLeft():n.getRight(),s=!s}this.numberOfNodes=this.numberOfNodes+1;var x=new ys(t,e);return o?r.setLeft(x):r.setRight(x),x},interfaces_:function(){return[]},getClass:function(){return rr}}),rr.toCoordinates=function(){if(arguments.length===1){var t=arguments[0];return rr.toCoordinates(t,!1)}if(arguments.length===2){for(var e=arguments[0],n=arguments[1],r=new q,s=e.iterator();s.hasNext();)for(var o=s.next(),l=n?o.getCount():1,x=0;x<l;x++)r.add(o.getCoordinate(),!0);return r.toCoordinateArray()}},d(xs.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate()),n=e<=this.tolerance;if(!n)return null;var r=!1;(this.matchNode===null||e<this.matchDist||this.matchNode!==null&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(r=!0),r&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new B(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[yi]},getClass:function(){return xs}}),rr.BestMatchVisitor=xs,d(Gn.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do e=this.enforceGabriel(this.segments),t++;while(e>0&&t<Gn.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var r=n.next();t[e++]=r.getCoordinate()}for(var s=this.segVertices.iterator();s.hasNext();){var r=s.next();t[e++]=r.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new yt,e=this.getPointArray(),n=new sn(e,t);this.convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),r=new v((e.x+n.x)/2,(e.y+n.y)/2),s=e.distance(r),o=new B(r);o.expandBy(s);for(var l=this.kdt.query(o),x=null,A=c.MAX_VALUE,V=l.iterator();V.hasNext();){var Z=V.next(),K=Z.getCoordinate();if(!K.equals2D(e)&&!K.equals2D(n)){var $=r.distance(K);if($<s){var ut=$;(x===null||ut<A)&&(x=K,A=ut)}}}return x},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new C,n=0,r=new C,s=t.iterator();s.hasNext();){var o=s.next(),l=this.findNonGabrielPoint(o);if(l!==null){this.splitPt=this.splitFinder.findSplitPoint(o,l);var x=this.createVertex(this.splitPt,o),A=(this.insertSite(x),new nr(o.getStartX(),o.getStartY(),o.getStartZ(),x.getX(),x.getY(),x.getZ(),o.getData())),V=new nr(x.getX(),x.getY(),x.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(A),e.add(V),r.add(o),n+=1}}return t.removeAll(r),t.addAll(e),n},createVertex:function(){if(arguments.length===1){var t=arguments[0],e=null;return e=this.vertexFactory!==null?this.vertexFactory.createVertex(t,null):new qn(t)}if(arguments.length===2){var n=arguments[0],r=arguments[1],e=null;return e=this.vertexFactory!==null?this.vertexFactory.createVertex(n,r):new qn(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Gn.computeVertexEnvelope(this.initialVertices),e=Gn.computeVertexEnvelope(this.segVertices),n=new B(t);n.expandToInclude(e);var r=.2*n.getWidth(),s=.2*n.getHeight(),o=Math.max(r,s);this.computeAreaEnv=new B(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Le(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new gs(this.subdiv)),this.incDel=new vi(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof qn){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof v){var r=arguments[0];this.insertSite(this.createVertex(r))}},interfaces_:function(){return[]},getClass:function(){return Gn}}),Gn.computeVertexEnvelope=function(t){for(var e=new B,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r.getCoordinate())}return e},Gn.MAX_SPLIT_ITER=99,d(ne.prototype,{create:function(){if(this.subdiv!==null)return null;var t=ne.envelope(this.siteCoords),e=ne.toVertices(this.siteCoords);this.subdiv=new Le(t,this.tolerance);var n=new vi(this.subdiv);n.insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof Q){var t=arguments[0];this.siteCoords=ne.extractUniqueCoordinates(t)}else if(X(arguments[0],w)){var e=arguments[0];this.siteCoords=ne.unique(at.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return ne}}),ne.extractUniqueCoordinates=function(t){if(t===null)return new q;var e=t.getCoordinates();return ne.unique(e)},ne.envelope=function(t){for(var e=new B,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r)}return e},ne.unique=function(t){var e=at.copyDeep(t);_e.sort(e);var n=new q(e,!1);return n},ne.toVertices=function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Lt(r))}return e},d(Rr.prototype,{createSiteVertices:function(t){for(var e=new C,n=t.iterator();n.hasNext();){var r=n.next();this.constraintVertexMap.containsKey(r)||e.add(new qn(r))}return e},create:function(){if(this.subdiv!==null)return null;var t=ne.envelope(this.siteCoords),e=new C;this.constraintLines!==null&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=Rr.createConstraintSegments(this.constraintLines));var n=this.createSiteVertices(this.siteCoords),r=new Gn(n,this.tolerance);r.setConstraints(e,new C(this.constraintVertexMap.values())),r.formInitialDelaunay(),r.enforceConstraints(),this.subdiv=r.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=ne.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var r=new qn(e[n]);this.constraintVertexMap.put(e[n],r)}},interfaces_:function(){return[]},getClass:function(){return Rr}}),Rr.createConstraintSegments=function(){if(arguments.length===1){for(var t=arguments[0],e=te.getLines(t),n=new C,r=e.iterator();r.hasNext();){var s=r.next();Rr.createConstraintSegments(s,n)}return n}if(arguments.length===2)for(var o=arguments[0],l=arguments[1],x=o.getCoordinates(),r=1;r<x.length;r++)l.add(new nr(x[r-1],x[r]))},d(xi.prototype,{create:function(){if(this.subdiv!==null)return null;var t=ne.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),this.clipEnv!==null&&this.diagramEnv.expandToInclude(this.clipEnv);var n=ne.toVertices(this.siteCoords);this.subdiv=new Le(t,this.tolerance);var r=new vi(this.subdiv);r.insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return xi.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof Q){var t=arguments[0];this.siteCoords=ne.extractUniqueCoordinates(t)}else if(X(arguments[0],w)){var e=arguments[0];this.siteCoords=ne.unique(at.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return xi}}),xi.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),r=new C,s=0;s<t.getNumGeometries();s++){var o=t.getGeometryN(s),l=null;e.contains(o.getEnvelopeInternal())?l=o:e.intersects(o.getEnvelopeInternal())&&(l=n.intersection(o),l.setUserData(o.getUserData())),l===null||l.isEmpty()||r.add(l)}return t.getFactory().createGeometryCollection(yt.toGeometryArray(r))};var wa=Object.freeze({Vertex:Lt}),Sa=Object.freeze({ConformingDelaunayTriangulationBuilder:Rr,DelaunayTriangulationBuilder:ne,VoronoiDiagramBuilder:xi,quadedge:wa});d(Es.prototype,{interfaces_:function(){return[]},getClass:function(){return Es}}),Es.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ht.createEmptyResult(ht.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Wt.overlayOp(t,e,ht.UNION)},d(Q.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&wt.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(arguments.length===0)return Fn.union(this);if(arguments.length===1){var t=arguments[0];return Es.union(this,t)}},isValid:function(){return we.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return ht.createEmptyResult(ht.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return cr.map(this,{interfaces_:function(){return[MapOp]},map:function(n){return n.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Wt.overlayOp(this,t,ht.INTERSECTION)},covers:function(t){return wt.covers(this,t)},coveredBy:function(t){return wt.coveredBy(this,t)},touches:function(t){return wt.touches(this,t)},intersects:function(t){return wt.intersects(this,t)},within:function(t){return wt.within(this,t)},overlaps:function(t){return wt.overlaps(this,t)},disjoint:function(t){return wt.disjoint(this,t)},crosses:function(t){return wt.crosses(this,t)},buffer:function(){if(arguments.length===1){var t=arguments[0];return Kt.bufferOp(this,t)}if(arguments.length===2){var e=arguments[0],n=arguments[1];return Kt.bufferOp(this,e,n)}if(arguments.length===3){var r=arguments[0],s=arguments[1],o=arguments[2];return Kt.bufferOp(this,r,s,o)}},convexHull:function(){return new sn(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return wt.relate.apply(wt,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=rn.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();if(e===0){var n=new Yi(this);t=n.getInteriorPoint()}else if(e===1){var n=new Ui(this);t=n.getInteriorPoint()}else{var n=new Fe(this);t=n.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return ht.createEmptyResult(ht.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Wt.overlayOp(this,t,ht.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){var t=new $t;return t.write(this)},toString:function(){this.toText()},contains:function(t){return wt.contains(this,t)},difference:function(t){return this.isEmpty()?ht.createEmptyResult(ht.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Wt.overlayOp(this,t,ht.DIFFERENCE))},isSimple:function(){var t=new Kr(this);return t.isSimple()},isWithinDistance:function(t,e){var n=this.getEnvelopeInternal().distance(t.getEnvelopeInternal());return!(n>e)&&qe.isWithinDistance(this,t,e)},distance:function(t){return qe.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}});var La="1.3.0 (6e65adb)";_.version=La,_.algorithm=ra,_.densify=ia,_.dissolve=sa,_.geom=na,_.geomgraph=oa,_.index=la,_.io=ca,_.noding=fa,_.operation=Ia,_.precision=Na,_.simplify=Ca,_.triangulate=Sa,Object.defineProperty(_,"__esModule",{value:!0})})},{}],29:[function(h,E,u){var _=h("@turf/meta").coordEach,d=h("@turf/centroid"),S=h("@turf/convex"),a=h("@turf/explode"),c=h("@turf/helpers").point;function f(p){if(p.type==="Feature"&&p.geometry.type==="Polygon"){var g=[];_(p,function(W){g.push(W)});var m=d(p),N=m.geometry.coordinates,y=0,R=0,I=0,v,M,T,w,b,P,O,D,C=g.map(function(W){return[W[0]-N[0],W[1]-N[1]]});for(v=0;v<g.length-1;v++)M=C[v],w=M[0],P=M[1],T=C[v+1],b=T[0],O=T[1],D=w*O-b*P,I+=D,y+=(w+b)*D,R+=(P+O)*D;if(I===0)return m;var q=I*.5,B=1/(6*q);return c([N[0]+B*y,N[1]+B*R])}else{var U=S(a(p));return U?E.exports(U):d(p)}}E.exports=f},{"@turf/centroid":30,"@turf/convex":33,"@turf/explode":52,"@turf/helpers":55,"@turf/meta":56}],30:[function(h,E,u){var _=h("@turf/meta").coordEach,d=h("@turf/helpers").point;E.exports=function(S){var a=0,c=0,f=0;return _(S,function(p){a+=p[0],c+=p[1],f++},!0),d([a/f,c/f])}},{"@turf/helpers":31,"@turf/meta":32}],31:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],32:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],33:[function(h,E,u){var _=h("@turf/meta").coordEach,d=h("convex-hull"),S=h("@turf/helpers").polygon;E.exports=function(a){var c=[];_(a,function(m){c.push([m[0],m[1]])});var f=d(c);if(f.length>=3){for(var p=[],g=0;g<f.length;g++)p.push(c[f[g][0]]);return p.push(c[f[f.length-1][1]]),S([p])}}},{"@turf/helpers":34,"@turf/meta":35,"convex-hull":38}],34:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],35:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],36:[function(h,E,u){E.exports=S;var _=h("robust-orientation");function d(a,c){for(var f=new Array(c+1),p=0;p<a.length;++p)f[p]=a[p];for(var p=0;p<=a.length;++p){for(var g=a.length;g<=c;++g){for(var m=new Array(c),N=0;N<c;++N)m[N]=Math.pow(g+1-p,N);f[g]=m}var y=_.apply(void 0,f);if(y)return!0}return!1}function S(a){var c=a.length;if(c===0)return[];if(c===1)return[0];for(var f=a[0].length,p=[a[0]],g=[0],m=1;m<c;++m){if(p.push(a[m]),!d(p,f)){p.pop();continue}if(g.push(m),g.length===f+1)return g}return g}},{"robust-orientation":44}],37:[function(h,E,u){"use restrict";var _=32;u.INT_BITS=_,u.INT_MAX=2147483647,u.INT_MIN=-1<<_-1,u.sign=function(a){return(a>0)-(a<0)},u.abs=function(a){var c=a>>_-1;return(a^c)-c},u.min=function(a,c){return c^(a^c)&-(a<c)},u.max=function(a,c){return a^(a^c)&-(a<c)},u.isPow2=function(a){return!(a&a-1)&&!!a},u.log2=function(a){var c,f;return c=(a>65535)<<4,a>>>=c,f=(a>255)<<3,a>>>=f,c|=f,f=(a>15)<<2,a>>>=f,c|=f,f=(a>3)<<1,a>>>=f,c|=f,c|a>>1},u.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},u.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function d(a){var c=32;return a&=-a,a&&c--,a&65535&&(c-=16),a&16711935&&(c-=8),a&252645135&&(c-=4),a&858993459&&(c-=2),a&1431655765&&(c-=1),c}u.countTrailingZeros=d,u.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},u.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},u.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var S=new Array(256);(function(a){for(var c=0;c<256;++c){var f=c,p=c,g=7;for(f>>>=1;f;f>>>=1)p<<=1,p|=f&1,--g;a[c]=p<<g&255}})(S),u.reverse=function(a){return S[a&255]<<24|S[a>>>8&255]<<16|S[a>>>16&255]<<8|S[a>>>24&255]},u.interleave2=function(a,c){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,c&=65535,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,a|c<<1},u.deinterleave2=function(a,c){return a=a>>>c&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},u.interleave3=function(a,c,f){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,a|=c<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|f<<2},u.deinterleave3=function(a,c){return a=a>>>c&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},u.nextCombination=function(a){var c=a|a-1;return c+1|(~c&-~c)-1>>>d(a)+1}},{}],38:[function(h,E,u){var _=h("./lib/ch1d"),d=h("./lib/ch2d"),S=h("./lib/chnd");E.exports=a;function a(c){var f=c.length;if(f===0)return[];if(f===1)return[[0]];var p=c[0].length;return p===0?[]:p===1?_(c):p===2?d(c):S(c,p)}},{"./lib/ch1d":39,"./lib/ch2d":40,"./lib/chnd":41}],39:[function(h,E,u){E.exports=_;function _(d){for(var S=0,a=0,c=1;c<d.length;++c)d[c][0]<d[S][0]&&(S=c),d[c][0]>d[a][0]&&(a=c);return S<a?[[S],[a]]:S>a?[[a],[S]]:[[S]]}},{}],40:[function(h,E,u){E.exports=d;var _=h("monotone-convex-hull-2d");function d(S){var a=_(S),c=a.length;if(c<=2)return[];for(var f=new Array(c),p=a[c-1],g=0;g<c;++g){var m=a[g];f[g]=[p,m],p=m}return f}},{"monotone-convex-hull-2d":43}],41:[function(h,E,u){E.exports=c;var _=h("incremental-convex-hull"),d=h("affine-hull");function S(f,p){for(var g=f.length,m=new Array(g),N=0;N<p.length;++N)m[N]=f[p[N]];for(var y=p.length,N=0;N<g;++N)p.indexOf(N)<0&&(m[y++]=f[N]);return m}function a(f,p){for(var g=f.length,m=p.length,N=0;N<g;++N)for(var y=f[N],R=0;R<y.length;++R){var I=y[R];if(I<m)y[R]=p[I];else{I=I-m;for(var v=0;v<m;++v)I>=p[v]&&(I+=1);y[R]=I}}return f}function c(f,p){try{return _(f,!0)}catch{var g=d(f);if(g.length<=p)return[];var m=S(f,g),N=_(m,!0);return a(N,g)}}},{"affine-hull":36,"incremental-convex-hull":42}],42:[function(h,E,u){E.exports=N;var _=h("robust-orientation"),d=h("simplicial-complex").compareCells;function S(y,R,I){this.vertices=y,this.adjacent=R,this.boundary=I,this.lastVisited=-1}S.prototype.flip=function(){var y=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=y;var R=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=R};function a(y,R,I){this.vertices=y,this.cell=R,this.index=I}function c(y,R){return d(y.vertices,R.vertices)}function f(y){for(var R=["function orient(){var tuple=this.tuple;return test("],I=0;I<=y;++I)I>0&&R.push(","),R.push("tuple[",I,"]");R.push(")}return orient");var v=new Function("test",R.join("")),M=_[y+1];return M||(M=_),v(M)}var p=[];function g(y,R,I){this.dimension=y,this.vertices=R,this.simplices=I,this.interior=I.filter(function(T){return!T.boundary}),this.tuple=new Array(y+1);for(var v=0;v<=y;++v)this.tuple[v]=this.vertices[v];var M=p[y];M||(M=p[y]=f(y)),this.orient=M}var m=g.prototype;m.handleBoundaryDegeneracy=function(y,R){var I=this.dimension,v=this.vertices.length-1,M=this.tuple,T=this.vertices,w=[y];for(y.lastVisited=-v;w.length>0;){y=w.pop(),y.vertices;for(var b=y.adjacent,P=0;P<=I;++P){var O=b[P];if(!(!O.boundary||O.lastVisited<=-v)){for(var D=O.vertices,C=0;C<=I;++C){var q=D[C];q<0?M[C]=R:M[C]=T[q]}var B=this.orient();if(B>0)return O;O.lastVisited=-v,B===0&&w.push(O)}}}return null},m.walk=function(y,R){var I=this.vertices.length-1,v=this.dimension,M=this.vertices,T=this.tuple,w=R?this.interior.length*Math.random()|0:this.interior.length-1,b=this.interior[w];t:for(;!b.boundary;){for(var P=b.vertices,O=b.adjacent,D=0;D<=v;++D)T[D]=M[P[D]];b.lastVisited=I;for(var D=0;D<=v;++D){var C=O[D];if(!(C.lastVisited>=I)){var q=T[D];T[D]=y;var B=this.orient();if(T[D]=q,B<0){b=C;continue t}else C.boundary?C.lastVisited=-I:C.lastVisited=I}}return}return b},m.addPeaks=function(y,R){var I=this.vertices.length-1,v=this.dimension,M=this.vertices,T=this.tuple,w=this.interior,b=this.simplices,P=[R];R.lastVisited=I,R.vertices[R.vertices.indexOf(-1)]=I,R.boundary=!1,w.push(R);for(var O=[];P.length>0;){var R=P.pop(),D=R.vertices,C=R.adjacent,q=D.indexOf(I);if(!(q<0)){for(var B=0;B<=v;++B)if(B!==q){var U=C[B];if(!(!U.boundary||U.lastVisited>=I)){var W=U.vertices;if(U.lastVisited!==-I){for(var L=0,X=0;X<=v;++X)W[X]<0?(L=X,T[X]=y):T[X]=M[W[X]];var ot=this.orient();if(ot>0){W[L]=I,U.boundary=!1,w.push(U),P.push(U),U.lastVisited=I;continue}else U.lastVisited=-I}var F=U.adjacent,Y=D.slice(),H=C.slice(),z=new S(Y,H,!0);b.push(z);var J=F.indexOf(R);if(!(J<0)){F[J]=z,H[q]=U,Y[B]=-1,H[B]=R,C[B]=z,z.flip();for(var X=0;X<=v;++X){var G=Y[X];if(!(G<0||G===I)){for(var k=new Array(v-1),j=0,rt=0;rt<=v;++rt){var it=Y[rt];it<0||rt===X||(k[j++]=it)}O.push(new a(k,z,X))}}}}}}}O.sort(c);for(var B=0;B+1<O.length;B+=2){var Q=O[B],lt=O[B+1],st=Q.index,ct=lt.index;st<0||ct<0||(Q.cell.adjacent[Q.index]=lt.cell,lt.cell.adjacent[lt.index]=Q.cell)}},m.insert=function(y,R){var I=this.vertices;I.push(y);var v=this.walk(y,R);if(v){for(var M=this.dimension,T=this.tuple,w=0;w<=M;++w){var b=v.vertices[w];b<0?T[w]=y:T[w]=I[b]}var P=this.orient(T);P<0||P===0&&(v=this.handleBoundaryDegeneracy(v,y),!v)||this.addPeaks(y,v)}},m.boundary=function(){for(var y=this.dimension,R=[],I=this.simplices,v=I.length,M=0;M<v;++M){var T=I[M];if(T.boundary){for(var w=new Array(y),b=T.vertices,P=0,O=0,D=0;D<=y;++D)b[D]>=0?w[P++]=b[D]:O=D&1;if(O===(y&1)){var C=w[0];w[0]=w[1],w[1]=C}R.push(w)}}return R};function N(y,R){var I=y.length;if(I===0)throw new Error("Must have at least d+1 points");var v=y[0].length;if(I<=v)throw new Error("Must input at least d+1 points");var M=y.slice(0,v+1),T=_.apply(void 0,M);if(T===0)throw new Error("Input not in general position");for(var w=new Array(v+1),b=0;b<=v;++b)w[b]=b;T<0&&(w[0]=1,w[1]=0);for(var P=new S(w,new Array(v+1),!1),O=P.adjacent,D=new Array(v+2),b=0;b<=v;++b){for(var C=w.slice(),q=0;q<=v;++q)q===b&&(C[q]=-1);var B=C[0];C[0]=C[1],C[1]=B;var U=new S(C,new Array(v+1),!0);O[b]=U,D[b]=U}D[v+1]=P;for(var b=0;b<=v;++b)for(var C=O[b].vertices,W=O[b].adjacent,q=0;q<=v;++q){var L=C[q];if(L<0){W[q]=P;continue}for(var X=0;X<=v;++X)O[X].vertices.indexOf(L)<0&&(W[q]=O[X])}for(var ot=new g(v,M,D),F=!!R,b=v+1;b<I;++b)ot.insert(y[b],F);return ot.boundary()}},{"robust-orientation":44,"simplicial-complex":48}],43:[function(h,E,u){E.exports=d;var _=h("robust-orientation")[3];function d(S){var a=S.length;if(a<3){for(var R=new Array(a),c=0;c<a;++c)R[c]=c;return a===2&&S[0][0]===S[1][0]&&S[0][1]===S[1][1]?[0]:R}for(var f=new Array(a),c=0;c<a;++c)f[c]=c;f.sort(function(T,w){var b=S[T][0]-S[w][0];return b||S[T][1]-S[w][1]});for(var p=[f[0],f[1]],g=[f[0],f[1]],c=2;c<a;++c){for(var m=f[c],N=S[m],y=p.length;y>1&&_(S[p[y-2]],S[p[y-1]],N)<=0;)y-=1,p.pop();for(p.push(m),y=g.length;y>1&&_(S[g[y-2]],S[g[y-1]],N)>=0;)y-=1,g.pop();g.push(m)}for(var R=new Array(g.length+p.length-2),I=0,c=0,v=p.length;c<v;++c)R[I++]=p[c];for(var M=g.length-2;M>0;--M)R[I++]=g[M];return R}},{"robust-orientation":44}],44:[function(h,E,u){var _=h("two-product"),d=h("robust-sum"),S=h("robust-scale"),a=h("robust-subtract"),c=5,f=11102230246251565e-32,p=(3+16*f)*f,g=(7+56*f)*f;function m(O,D){for(var C=new Array(O.length-1),q=1;q<O.length;++q)for(var B=C[q-1]=new Array(O.length-1),U=0,W=0;U<O.length;++U)U!==D&&(B[W++]=O[q][U]);return C}function N(O){for(var D=new Array(O),C=0;C<O;++C){D[C]=new Array(O);for(var q=0;q<O;++q)D[C][q]=["m",q,"[",O-C-1,"]"].join("")}return D}function y(O){return O&1?"-":""}function R(O){if(O.length===1)return O[0];if(O.length===2)return["sum(",O[0],",",O[1],")"].join("");var D=O.length>>1;return["sum(",R(O.slice(0,D)),",",R(O.slice(D)),")"].join("")}function I(O){if(O.length===2)return[["sum(prod(",O[0][0],",",O[1][1],"),prod(-",O[0][1],",",O[1][0],"))"].join("")];for(var D=[],C=0;C<O.length;++C)D.push(["scale(",R(I(m(O,C))),",",y(C),O[0][C],")"].join(""));return D}function v(O){for(var D=[],C=[],q=N(O),B=[],U=0;U<O;++U)U&1?C.push.apply(C,I(m(q,U))):D.push.apply(D,I(m(q,U))),B.push("m"+U);var W=R(D),L=R(C),X="orientation"+O+"Exact",ot=["function ",X,"(",B.join(),"){var p=",W,",n=",L,",d=sub(p,n);return d[d.length-1];};return ",X].join(""),F=new Function("sum","prod","scale","sub",ot);return F(d,_,S,a)}var M=v(3),T=v(4),w=[function(){return 0},function(){return 0},function(D,C){return C[0]-D[0]},function(D,C,q){var B=(D[1]-q[1])*(C[0]-q[0]),U=(D[0]-q[0])*(C[1]-q[1]),W=B-U,L;if(B>0){if(U<=0)return W;L=B+U}else if(B<0){if(U>=0)return W;L=-(B+U)}else return W;var X=p*L;return W>=X||W<=-X?W:M(D,C,q)},function(D,C,q,B){var U=D[0]-B[0],W=C[0]-B[0],L=q[0]-B[0],X=D[1]-B[1],ot=C[1]-B[1],F=q[1]-B[1],Y=D[2]-B[2],H=C[2]-B[2],z=q[2]-B[2],J=W*F,G=L*ot,k=L*X,j=U*F,rt=U*ot,it=W*X,Q=Y*(J-G)+H*(k-j)+z*(rt-it),lt=(Math.abs(J)+Math.abs(G))*Math.abs(Y)+(Math.abs(k)+Math.abs(j))*Math.abs(H)+(Math.abs(rt)+Math.abs(it))*Math.abs(z),st=g*lt;return Q>st||-Q>st?Q:T(D,C,q,B)}];function b(O){var D=w[O.length];return D||(D=w[O.length]=v(O.length)),D.apply(void 0,O)}function P(){for(;w.length<=c;)w.push(v(w.length));for(var O=[],D=["slow"],C=0;C<=c;++C)O.push("a"+C),D.push("o"+C);for(var q=["function getOrientation(",O.join(),"){switch(arguments.length){case 0:case 1:return 0;"],C=2;C<=c;++C)q.push("case ",C,":return o",C,"(",O.slice(0,C).join(),");");q.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),D.push(q.join(""));var B=Function.apply(void 0,D);E.exports=B.apply(void 0,[b].concat(w));for(var C=0;C<=c;++C)E.exports[C]=w[C]}P()},{"robust-scale":45,"robust-subtract":46,"robust-sum":47,"two-product":49}],45:[function(h,E,u){var _=h("two-product"),d=h("two-sum");E.exports=S;function S(a,c){var f=a.length;if(f===1){var p=_(a[0],c);return p[0]?p:[p[1]]}var g=new Array(2*f),m=[.1,.1],N=[.1,.1],y=0;_(a[0],c,m),m[0]&&(g[y++]=m[0]);for(var R=1;R<f;++R){_(a[R],c,N);var I=m[1];d(I,N[0],m),m[0]&&(g[y++]=m[0]);var v=N[1],M=m[1],T=v+M,w=T-v,b=M-w;m[1]=T,b&&(g[y++]=b)}return m[1]&&(g[y++]=m[1]),y===0&&(g[y++]=0),g.length=y,g}},{"two-product":49,"two-sum":50}],46:[function(h,E,u){E.exports=d;function _(S,a){var c=S+a,f=c-S,p=c-f,g=a-f,m=S-p,N=m+g;return N?[N,c]:[c]}function d(S,a){var c=S.length|0,f=a.length|0;if(c===1&&f===1)return _(S[0],-a[0]);var p=c+f,g=new Array(p),m=0,N=0,y=0,R=Math.abs,I=S[N],v=R(I),M=-a[y],T=R(M),w,b;v<T?(b=I,N+=1,N<c&&(I=S[N],v=R(I))):(b=M,y+=1,y<f&&(M=-a[y],T=R(M))),N<c&&v<T||y>=f?(w=I,N+=1,N<c&&(I=S[N],v=R(I))):(w=M,y+=1,y<f&&(M=-a[y],T=R(M)));for(var P=w+b,O=P-w,D=b-O,C=D,q=P,B,U,W,L,X;N<c&&y<f;)v<T?(w=I,N+=1,N<c&&(I=S[N],v=R(I))):(w=M,y+=1,y<f&&(M=-a[y],T=R(M))),b=C,P=w+b,O=P-w,D=b-O,D&&(g[m++]=D),B=q+P,U=B-q,W=B-U,L=P-U,X=q-W,C=X+L,q=B;for(;N<c;)w=I,b=C,P=w+b,O=P-w,D=b-O,D&&(g[m++]=D),B=q+P,U=B-q,W=B-U,L=P-U,X=q-W,C=X+L,q=B,N+=1,N<c&&(I=S[N]);for(;y<f;)w=M,b=C,P=w+b,O=P-w,D=b-O,D&&(g[m++]=D),B=q+P,U=B-q,W=B-U,L=P-U,X=q-W,C=X+L,q=B,y+=1,y<f&&(M=-a[y]);return C&&(g[m++]=C),q&&(g[m++]=q),m||(g[m++]=0),g.length=m,g}},{}],47:[function(h,E,u){E.exports=d;function _(S,a){var c=S+a,f=c-S,p=c-f,g=a-f,m=S-p,N=m+g;return N?[N,c]:[c]}function d(S,a){var c=S.length|0,f=a.length|0;if(c===1&&f===1)return _(S[0],a[0]);var p=c+f,g=new Array(p),m=0,N=0,y=0,R=Math.abs,I=S[N],v=R(I),M=a[y],T=R(M),w,b;v<T?(b=I,N+=1,N<c&&(I=S[N],v=R(I))):(b=M,y+=1,y<f&&(M=a[y],T=R(M))),N<c&&v<T||y>=f?(w=I,N+=1,N<c&&(I=S[N],v=R(I))):(w=M,y+=1,y<f&&(M=a[y],T=R(M)));for(var P=w+b,O=P-w,D=b-O,C=D,q=P,B,U,W,L,X;N<c&&y<f;)v<T?(w=I,N+=1,N<c&&(I=S[N],v=R(I))):(w=M,y+=1,y<f&&(M=a[y],T=R(M))),b=C,P=w+b,O=P-w,D=b-O,D&&(g[m++]=D),B=q+P,U=B-q,W=B-U,L=P-U,X=q-W,C=X+L,q=B;for(;N<c;)w=I,b=C,P=w+b,O=P-w,D=b-O,D&&(g[m++]=D),B=q+P,U=B-q,W=B-U,L=P-U,X=q-W,C=X+L,q=B,N+=1,N<c&&(I=S[N]);for(;y<f;)w=M,b=C,P=w+b,O=P-w,D=b-O,D&&(g[m++]=D),B=q+P,U=B-q,W=B-U,L=P-U,X=q-W,C=X+L,q=B,y+=1,y<f&&(M=a[y]);return C&&(g[m++]=C),q&&(g[m++]=q),m||(g[m++]=0),g.length=m,g}},{}],48:[function(h,E,u){"use restrict";var _=h("bit-twiddle"),d=h("union-find");function S(P){for(var O=0,D=Math.max,C=0,q=P.length;C<q;++C)O=D(O,P[C].length);return O-1}u.dimension=S;function a(P){for(var O=-1,D=Math.max,C=0,q=P.length;C<q;++C)for(var B=P[C],U=0,W=B.length;U<W;++U)O=D(O,B[U]);return O+1}u.countVertices=a;function c(P){for(var O=new Array(P.length),D=0,C=P.length;D<C;++D)O[D]=P[D].slice(0);return O}u.cloneCells=c;function f(P,O){var D=P.length,C=P.length-O.length,q=Math.min;if(C)return C;switch(D){case 0:return 0;case 1:return P[0]-O[0];case 2:var X=P[0]+P[1]-O[0]-O[1];return X||q(P[0],P[1])-q(O[0],O[1]);case 3:var B=P[0]+P[1],U=O[0]+O[1];if(X=B+P[2]-(U+O[2]),X)return X;var W=q(P[0],P[1]),L=q(O[0],O[1]),X=q(W,P[2])-q(L,O[2]);return X||q(W+P[2],B)-q(L+O[2],U);default:var ot=P.slice(0);ot.sort();var F=O.slice(0);F.sort();for(var Y=0;Y<D;++Y)if(C=ot[Y]-F[Y],C)return C;return 0}}u.compareCells=f;function p(P,O){return f(P[0],O[0])}function g(P,O){if(O){for(var D=P.length,C=new Array(D),q=0;q<D;++q)C[q]=[P[q],O[q]];C.sort(p);for(var q=0;q<D;++q)P[q]=C[q][0],O[q]=C[q][1];return P}else return P.sort(f),P}u.normalize=g;function m(P){if(P.length===0)return[];for(var O=1,D=P.length,C=1;C<D;++C){var q=P[C];if(f(q,P[C-1])){if(C===O){O++;continue}P[O++]=q}}return P.length=O,P}u.unique=m;function N(P,O){for(var D=0,C=P.length-1,q=-1;D<=C;){var B=D+C>>1,U=f(P[B],O);U<=0?(U===0&&(q=B),D=B+1):U>0&&(C=B-1)}return q}u.findCell=N;function y(P,O){for(var D=new Array(P.length),C=0,q=D.length;C<q;++C)D[C]=[];for(var B=[],C=0,U=O.length;C<U;++C)for(var W=O[C],L=W.length,X=1,ot=1<<L;X<ot;++X){B.length=_.popCount(X);for(var F=0,Y=0;Y<L;++Y)X&1<<Y&&(B[F++]=W[Y]);var H=N(P,B);if(!(H<0))for(;D[H++].push(C),!(H>=P.length||f(P[H],B)!==0););}return D}u.incidence=y;function R(P,O){if(!O)return y(m(v(P,0)),P);for(var D=new Array(O),C=0;C<O;++C)D[C]=[];for(var C=0,q=P.length;C<q;++C)for(var B=P[C],U=0,W=B.length;U<W;++U)D[B[U]].push(C);return D}u.dual=R;function I(P){for(var O=[],D=0,C=P.length;D<C;++D)for(var q=P[D],B=q.length|0,U=1,W=1<<B;U<W;++U){for(var L=[],X=0;X<B;++X)U>>>X&1&&L.push(q[X]);O.push(L)}return g(O)}u.explode=I;function v(P,O){if(O<0)return[];for(var D=[],C=(1<<O+1)-1,q=0;q<P.length;++q)for(var B=P[q],U=C;U<1<<B.length;U=_.nextCombination(U)){for(var W=new Array(O+1),L=0,X=0;X<B.length;++X)U&1<<X&&(W[L++]=B[X]);D.push(W)}return g(D)}u.skeleton=v;function M(P){for(var O=[],D=0,C=P.length;D<C;++D)for(var q=P[D],B=0,U=q.length;B<U;++B){for(var W=new Array(q.length-1),L=0,X=0;L<U;++L)L!==B&&(W[X++]=q[L]);O.push(W)}return g(O)}u.boundary=M;function T(P,O){for(var D=new d(O),C=0;C<P.length;++C)for(var q=P[C],B=0;B<q.length;++B)for(var U=B+1;U<q.length;++U)D.link(q[B],q[U]);for(var W=[],L=D.ranks,C=0;C<L.length;++C)L[C]=-1;for(var C=0;C<P.length;++C){var X=D.find(P[C][0]);L[X]<0?(L[X]=W.length,W.push([P[C].slice(0)])):W[L[X]].push(P[C].slice(0))}return W}function w(P){for(var O=m(g(v(P,0))),D=new d(O.length),C=0;C<P.length;++C)for(var q=P[C],B=0;B<q.length;++B)for(var U=N(O,[q[B]]),W=B+1;W<q.length;++W)D.link(U,N(O,[q[W]]));for(var L=[],X=D.ranks,C=0;C<X.length;++C)X[C]=-1;for(var C=0;C<P.length;++C){var ot=D.find(N(O,[P[C][0]]));X[ot]<0?(X[ot]=L.length,L.push([P[C].slice(0)])):L[X[ot]].push(P[C].slice(0))}return L}function b(P,O){return O?T(P,O):w(P)}u.connectedComponents=b},{"bit-twiddle":37,"union-find":51}],49:[function(h,E,u){E.exports=d;var _=+(Math.pow(2,27)+1);function d(S,a,c){var f=S*a,p=_*S,g=p-S,m=p-g,N=S-m,y=_*a,R=y-a,I=y-R,v=a-I,M=f-m*I,T=M-N*I,w=T-m*v,b=N*v-w;return c?(c[0]=b,c[1]=f,c):[b,f]}},{}],50:[function(h,E,u){E.exports=_;function _(d,S,a){var c=d+S,f=c-d,p=c-f,g=S-f,m=d-p;return a?(a[0]=m+g,a[1]=c,a):[m+g,c]}},{}],51:[function(h,E,u){"use restrict";E.exports=_;function _(S){this.roots=new Array(S),this.ranks=new Array(S);for(var a=0;a<S;++a)this.roots[a]=a,this.ranks[a]=0}var d=_.prototype;Object.defineProperty(d,"length",{get:function(){return this.roots.length}}),d.makeSet=function(){var S=this.roots.length;return this.roots.push(S),this.ranks.push(0),S},d.find=function(S){for(var a=S,c=this.roots;c[S]!==S;)S=c[S];for(;c[a]!==S;){var f=c[a];c[a]=S,a=f}return S},d.link=function(S,a){var c=this.find(S),f=this.find(a);if(c!==f){var p=this.ranks,g=this.roots,m=p[c],N=p[f];m<N?g[c]=f:N<m?g[f]=c:(g[f]=c,++p[c])}}},{}],52:[function(h,E,u){var _=h("@turf/helpers").featureCollection,d=h("@turf/meta").featureEach,S=h("@turf/meta").coordEach,a=h("@turf/helpers").point;E.exports=function(c){var f=[];return c.type==="FeatureCollection"?d(c,function(p){S(p,function(g){f.push(a(g,p.properties))})}):S(c,function(p){f.push(a(p,c.properties))}),_(f)}},{"@turf/helpers":53,"@turf/meta":54}],53:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],54:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],55:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],56:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],57:[function(h,E,u){var _=h("@turf/bbox"),d=h("@turf/helpers").point;E.exports=function(S){var a=_(S),c=(a[0]+a[2])/2,f=(a[1]+a[3])/2;return d([c,f])}},{"@turf/bbox":58,"@turf/helpers":60}],58:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":59,dup:18}],59:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],60:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],61:[function(h,E,u){arguments[4][30][0].apply(u,arguments)},{"@turf/helpers":62,"@turf/meta":63,dup:30}],62:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],63:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],64:[function(h,E,u){var _=h("@turf/destination"),d=h("@turf/helpers"),S=d.polygon;E.exports=function(a,c,f,p){f=f||64;for(var g=[],m=0;m<f;m++)g.push(_(a,c,m*360/f,p).geometry.coordinates);return g.push(g[0]),S([g])}},{"@turf/destination":65,"@turf/helpers":68}],65:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":66,"@turf/invariant":67,dup:5}],66:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],67:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],68:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],69:[function(h,E,u){var _=h("@turf/bbox"),d=h("@turf/inside"),S=h("rbush");E.exports=function(a,c,f,p){var g=S(6),m=c.features.map(function(N){return{minX:N.geometry.coordinates[0],minY:N.geometry.coordinates[1],maxX:N.geometry.coordinates[0],maxY:N.geometry.coordinates[1],property:N.properties[f]}});return g.load(m),a.features.forEach(function(N){N.properties||(N.properties={});var y=_(N),R=g.search({minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]}),I=[];R.forEach(function(v){d({type:"Point",coordinates:[v.minX,v.minY]},N)&&I.push(v.property)}),N.properties[p]=I}),a}},{"@turf/bbox":70,"@turf/inside":72,rbush:75}],70:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":71,dup:18}],71:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],72:[function(h,E,u){var _=h("@turf/invariant");E.exports=function(S,a){var c=_.getCoord(S),f=a.geometry.coordinates;a.geometry.type==="Polygon"&&(f=[f]);for(var p=0,g=!1;p<f.length&&!g;p++)if(d(c,f[p][0])){for(var m=!1,N=1;N<f[p].length&&!m;)d(c,f[p][N],!0)&&(m=!0),N++;m||(g=!0)}return g};function d(S,a,c){var f=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var p=0,g=a.length-1;p<a.length;g=p++){var m=a[p][0],N=a[p][1],y=a[g][0],R=a[g][1],I=S[1]*(m-y)+N*(y-S[0])+R*(S[0]-m)===0&&(m-S[0])*(y-S[0])<=0&&(N-S[1])*(R-S[1])<=0;if(I)return!c;var v=N>S[1]!=R>S[1]&&S[0]<(y-m)*(S[1]-N)/(R-N)+m;v&&(f=!f)}return f}},{"@turf/invariant":73}],73:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],74:[function(h,E,u){E.exports=_;function _(a,c,f,p,g){for(f=f||0,p=p||a.length-1,g=g||S;p>f;){if(p-f>600){var m=p-f+1,N=c-f+1,y=Math.log(m),R=.5*Math.exp(2*y/3),I=.5*Math.sqrt(y*R*(m-R)/m)*(N-m/2<0?-1:1),v=Math.max(f,Math.floor(c-N*R/m+I)),M=Math.min(p,Math.floor(c+(m-N)*R/m+I));_(a,c,v,M,g)}var T=a[c],w=f,b=p;for(d(a,f,c),g(a[p],T)>0&&d(a,f,p);w<b;){for(d(a,w,b),w++,b--;g(a[w],T)<0;)w++;for(;g(a[b],T)>0;)b--}g(a[f],T)===0?d(a,f,b):(b++,d(a,b,p)),b<=c&&(f=b+1),c<=b&&(p=b-1)}}function d(a,c,f){var p=a[c];a[c]=a[f],a[f]=p}function S(a,c){return a<c?-1:a>c?1:0}},{}],75:[function(h,E,u){E.exports=d;var _=h("quickselect");function d(w,b){if(!(this instanceof d))return new d(w,b);this._maxEntries=Math.max(4,w||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),b&&this._initFormat(b),this.clear()}d.prototype={all:function(){return this._all(this.data,[])},search:function(w){var b=this.data,P=[],O=this.toBBox;if(!v(w,b))return P;for(var D=[],C,q,B,U;b;){for(C=0,q=b.children.length;C<q;C++)B=b.children[C],U=b.leaf?O(B):B,v(w,U)&&(b.leaf?P.push(B):I(w,U)?this._all(B,P):D.push(B));b=D.pop()}return P},collides:function(w){var b=this.data,P=this.toBBox;if(!v(w,b))return!1;for(var O=[],D,C,q,B;b;){for(D=0,C=b.children.length;D<C;D++)if(q=b.children[D],B=b.leaf?P(q):q,v(w,B)){if(b.leaf||I(w,B))return!0;O.push(q)}b=O.pop()}return!1},load:function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var b=0,P=w.length;b<P;b++)this.insert(w[b]);return this}var O=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=O;else if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var D=this.data;this.data=O,O=D}this._insert(O,this.data.height-O.height-1,!0)}return this},insert:function(w){return w&&this._insert(w,this.data.height-1),this},clear:function(){return this.data=M([]),this},remove:function(w,b){if(!w)return this;for(var P=this.data,O=this.toBBox(w),D=[],C=[],q,B,U,W;P||D.length;){if(P||(P=D.pop(),B=D[D.length-1],q=C.pop(),W=!0),P.leaf&&(U=S(w,P.children,b),U!==-1))return P.children.splice(U,1),D.push(P),this._condense(D),this;!W&&!P.leaf&&I(P,O)?(D.push(P),C.push(q),q=0,B=P,P=P.children[0]):B?(q++,P=B.children[q],W=!1):P=null}return this},toBBox:function(w){return w},compareMinX:p,compareMinY:g,toJSON:function(){return this.data},fromJSON:function(w){return this.data=w,this},_all:function(w,b){for(var P=[];w;)w.leaf?b.push.apply(b,w.children):P.push.apply(P,w.children),w=P.pop();return b},_build:function(w,b,P,O){var D=P-b+1,C=this._maxEntries,q;if(D<=C)return q=M(w.slice(b,P+1)),a(q,this.toBBox),q;O||(O=Math.ceil(Math.log(D)/Math.log(C)),C=Math.ceil(D/Math.pow(C,O-1))),q=M([]),q.leaf=!1,q.height=O;var B=Math.ceil(D/C),U=B*Math.ceil(Math.sqrt(C)),W,L,X,ot;for(T(w,b,P,U,this.compareMinX),W=b;W<=P;W+=U)for(X=Math.min(W+U-1,P),T(w,W,X,B,this.compareMinY),L=W;L<=X;L+=B)ot=Math.min(L+B-1,X),q.children.push(this._build(w,L,ot,O-1));return a(q,this.toBBox),q},_chooseSubtree:function(w,b,P,O){for(var D,C,q,B,U,W,L,X;O.push(b),!(b.leaf||O.length-1===P);){for(L=X=1/0,D=0,C=b.children.length;D<C;D++)q=b.children[D],U=m(q),W=y(w,q)-U,W<X?(X=W,L=U<L?U:L,B=q):W===X&&U<L&&(L=U,B=q);b=B||b.children[0]}return b},_insert:function(w,b,P){var O=this.toBBox,D=P?w:O(w),C=[],q=this._chooseSubtree(D,this.data,b,C);for(q.children.push(w),f(q,D);b>=0&&C[b].children.length>this._maxEntries;)this._split(C,b),b--;this._adjustParentBBoxes(D,C,b)},_split:function(w,b){var P=w[b],O=P.children.length,D=this._minEntries;this._chooseSplitAxis(P,D,O);var C=this._chooseSplitIndex(P,D,O),q=M(P.children.splice(C,P.children.length-C));q.height=P.height,q.leaf=P.leaf,a(P,this.toBBox),a(q,this.toBBox),b?w[b-1].children.push(q):this._splitRoot(P,q)},_splitRoot:function(w,b){this.data=M([w,b]),this.data.height=w.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(w,b,P){var O,D,C,q,B,U,W,L;for(U=W=1/0,O=b;O<=P-b;O++)D=c(w,0,O,this.toBBox),C=c(w,O,P,this.toBBox),q=R(D,C),B=m(D)+m(C),q<U?(U=q,L=O,W=B<W?B:W):q===U&&B<W&&(W=B,L=O);return L},_chooseSplitAxis:function(w,b,P){var O=w.leaf?this.compareMinX:p,D=w.leaf?this.compareMinY:g,C=this._allDistMargin(w,b,P,O),q=this._allDistMargin(w,b,P,D);C<q&&w.children.sort(O)},_allDistMargin:function(w,b,P,O){w.children.sort(O);var D=this.toBBox,C=c(w,0,b,D),q=c(w,P-b,P,D),B=N(C)+N(q),U,W;for(U=b;U<P-b;U++)W=w.children[U],f(C,w.leaf?D(W):W),B+=N(C);for(U=P-b-1;U>=b;U--)W=w.children[U],f(q,w.leaf?D(W):W),B+=N(q);return B},_adjustParentBBoxes:function(w,b,P){for(var O=P;O>=0;O--)f(b[O],w)},_condense:function(w){for(var b=w.length-1,P;b>=0;b--)w[b].children.length===0?b>0?(P=w[b-1].children,P.splice(P.indexOf(w[b]),1)):this.clear():a(w[b],this.toBBox)},_initFormat:function(w){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(w[0])),this.compareMinY=new Function("a","b",b.join(w[1])),this.toBBox=new Function("a","return {minX: a"+w[0]+", minY: a"+w[1]+", maxX: a"+w[2]+", maxY: a"+w[3]+"};")}};function S(w,b,P){if(!P)return b.indexOf(w);for(var O=0;O<b.length;O++)if(P(w,b[O]))return O;return-1}function a(w,b){c(w,0,w.children.length,b,w)}function c(w,b,P,O,D){D||(D=M(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var C=b,q;C<P;C++)q=w.children[C],f(D,w.leaf?O(q):q);return D}function f(w,b){return w.minX=Math.min(w.minX,b.minX),w.minY=Math.min(w.minY,b.minY),w.maxX=Math.max(w.maxX,b.maxX),w.maxY=Math.max(w.maxY,b.maxY),w}function p(w,b){return w.minX-b.minX}function g(w,b){return w.minY-b.minY}function m(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function N(w){return w.maxX-w.minX+(w.maxY-w.minY)}function y(w,b){return(Math.max(b.maxX,w.maxX)-Math.min(b.minX,w.minX))*(Math.max(b.maxY,w.maxY)-Math.min(b.minY,w.minY))}function R(w,b){var P=Math.max(w.minX,b.minX),O=Math.max(w.minY,b.minY),D=Math.min(w.maxX,b.maxX),C=Math.min(w.maxY,b.maxY);return Math.max(0,D-P)*Math.max(0,C-O)}function I(w,b){return w.minX<=b.minX&&w.minY<=b.minY&&b.maxX<=w.maxX&&b.maxY<=w.maxY}function v(w,b){return b.minX<=w.maxX&&b.minY<=w.maxY&&b.maxX>=w.minX&&b.maxY>=w.minY}function M(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(w,b,P,O,D){for(var C=[b,P],q;C.length;)P=C.pop(),b=C.pop(),!(P-b<=O)&&(q=b+Math.ceil((P-b)/O/2)*O,_(w,q,b,P,D),C.push(b,q,q,P))}},{quickselect:74}],76:[function(h,E,u){var _=h("@turf/meta");E.exports=function(d){var S={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},a=Object.keys(S).reduce(function(f,p){return f[p.replace("Multi","")]=p,f},{});function c(f,p,g){g?S[p].coordinates=S[p].coordinates.concat(f.geometry.coordinates):S[p].coordinates.push(f.geometry.coordinates),S[p].properties.push(f.properties)}return _.featureEach(d,function(f){f.geometry&&(S[f.geometry.type]?c(f,f.geometry.type,!0):a[f.geometry.type]&&c(f,a[f.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(S).filter(function(f){return S[f].coordinates.length}).sort().map(function(f){return{type:"Feature",properties:{collectedProperties:S[f].properties},geometry:{type:f,coordinates:S[f].coordinates}}})}}},{"@turf/meta":77}],77:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],78:[function(h,E,u){var _=h("@turf/tin"),d=h("@turf/union"),S=h("@turf/distance");function a(f,p,g){if(typeof p!="number")throw new Error("maxEdge parameter is required");var m=_(f),N=m.features.filter(y);if(m.features=N,m.features.length<1)throw new Error("too few polygons found to compute concave hull");function y(R){var I=R.geometry.coordinates[0][0],v=R.geometry.coordinates[0][1],M=R.geometry.coordinates[0][2],T=S(I,v,g),w=S(v,M,g),b=S(I,M,g);return T<=p&&w<=p&&b<=p}return c(m)}function c(f){for(var p=JSON.parse(JSON.stringify(f.features[0])),g=f.features,m=0,N=g.length;m<N;m++){var y=g[m];y.geometry&&(p=d(p,y))}return p}E.exports=a},{"@turf/distance":79,"@turf/tin":82,"@turf/union":84}],79:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":80,"@turf/invariant":81,dup:8}],80:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],81:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],82:[function(h,E,u){var _=h("@turf/helpers").polygon,d=h("@turf/helpers").featureCollection;E.exports=function(p,g){return d(f(p.features.map(function(m){var N={x:m.geometry.coordinates[0],y:m.geometry.coordinates[1]};return g&&(N.z=m.properties[g]),N})).map(function(m){return _([[[m.a.x,m.a.y],[m.b.x,m.b.y],[m.c.x,m.c.y],[m.a.x,m.a.y]]],{a:m.a.z,b:m.b.z,c:m.c.z})}))};function S(p,g,m){this.a=p,this.b=g,this.c=m;var N=g.x-p.x,y=g.y-p.y,R=m.x-p.x,I=m.y-p.y,v=N*(p.x+g.x)+y*(p.y+g.y),M=R*(p.x+m.x)+I*(p.y+m.y),T=2*(N*(m.y-g.y)-y*(m.x-g.x)),w,b;this.x=(I*v-y*M)/T,this.y=(N*M-R*v)/T,w=this.x-p.x,b=this.y-p.y,this.r=w*w+b*b}function a(p,g){return g.x-p.x}function c(p){var g=p.length,m,N,y,R,I;t:for(;g;)for(N=p[--g],m=p[--g],y=g;y;)if(I=p[--y],R=p[--y],m===R&&N===I||m===I&&N===R){p.splice(g,2),p.splice(y,2),g-=2;continue t}}function f(p){if(p.length<3)return[];p.sort(a);for(var g=p.length-1,m=p[g].x,N=p[0].x,y=p[g].y,R=y,I=1e-12,v,M,T,w,b,P;g--;)p[g].y<y&&(y=p[g].y),p[g].y>R&&(R=p[g].y);var O=N-m,D=R-y,C=O>D?O:D,q=(N+m)*.5,B=(R+y)*.5,U=[new S({x:q-20*C,y:B-C,__sentinel:!0},{x:q,y:B+20*C,__sentinel:!0},{x:q+20*C,y:B-C,__sentinel:!0})],W=[],L=[],X;for(g=p.length;g--;){for(L.length=0,X=U.length;X--;){if(O=p[g].x-U[X].x,O>0&&O*O>U[X].r){W.push(U[X]),U.splice(X,1);continue}D=p[g].y-U[X].y,!(O*O+D*D>U[X].r)&&(L.push(U[X].a,U[X].b,U[X].b,U[X].c,U[X].c,U[X].a),U.splice(X,1))}for(c(L),X=L.length;X;)M=L[--X],v=L[--X],T=p[g],w=M.x-v.x,b=M.y-v.y,P=2*(w*(T.y-M.y)-b*(T.x-M.x)),Math.abs(P)>I&&U.push(new S(v,M,T))}for(Array.prototype.push.apply(W,U),g=W.length;g--;)(W[g].a.__sentinel||W[g].b.__sentinel||W[g].c.__sentinel)&&W.splice(g,1);return W}},{"@turf/helpers":83}],83:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],84:[function(h,E,u){var _=h("jsts");E.exports=function(){for(var d=new _.io.GeoJSONReader,S=d.read(JSON.stringify(arguments[0].geometry)),a=1;a<arguments.length;a++)S=S.union(d.read(JSON.stringify(arguments[a].geometry)));var c=new _.io.GeoJSONWriter;return S=c.write(S),{type:"Feature",geometry:S,properties:arguments[0].properties}}},{jsts:85}],85:[function(h,E,u){arguments[4][28][0].apply(u,arguments)},{dup:28}],86:[function(h,E,u){arguments[4][33][0].apply(u,arguments)},{"@turf/helpers":87,"@turf/meta":88,"convex-hull":91,dup:33}],87:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],88:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],89:[function(h,E,u){arguments[4][36][0].apply(u,arguments)},{dup:36,"robust-orientation":97}],90:[function(h,E,u){arguments[4][37][0].apply(u,arguments)},{dup:37}],91:[function(h,E,u){arguments[4][38][0].apply(u,arguments)},{"./lib/ch1d":92,"./lib/ch2d":93,"./lib/chnd":94,dup:38}],92:[function(h,E,u){arguments[4][39][0].apply(u,arguments)},{dup:39}],93:[function(h,E,u){arguments[4][40][0].apply(u,arguments)},{dup:40,"monotone-convex-hull-2d":96}],94:[function(h,E,u){arguments[4][41][0].apply(u,arguments)},{"affine-hull":89,dup:41,"incremental-convex-hull":95}],95:[function(h,E,u){arguments[4][42][0].apply(u,arguments)},{dup:42,"robust-orientation":97,"simplicial-complex":101}],96:[function(h,E,u){arguments[4][43][0].apply(u,arguments)},{dup:43,"robust-orientation":97}],97:[function(h,E,u){arguments[4][44][0].apply(u,arguments)},{dup:44,"robust-scale":98,"robust-subtract":99,"robust-sum":100,"two-product":102}],98:[function(h,E,u){arguments[4][45][0].apply(u,arguments)},{dup:45,"two-product":102,"two-sum":103}],99:[function(h,E,u){arguments[4][46][0].apply(u,arguments)},{dup:46}],100:[function(h,E,u){arguments[4][47][0].apply(u,arguments)},{dup:47}],101:[function(h,E,u){arguments[4][48][0].apply(u,arguments)},{"bit-twiddle":90,dup:48,"union-find":104}],102:[function(h,E,u){arguments[4][49][0].apply(u,arguments)},{dup:49}],103:[function(h,E,u){arguments[4][50][0].apply(u,arguments)},{dup:50}],104:[function(h,E,u){arguments[4][51][0].apply(u,arguments)},{dup:51}],105:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":106,"@turf/invariant":107,dup:5}],106:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],107:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],108:[function(h,E,u){var _=h("jsts");E.exports=function(d,S){var a=JSON.parse(JSON.stringify(d)),c=JSON.parse(JSON.stringify(S));a.type!=="Feature"&&(a={type:"Feature",properties:{},geometry:a}),c.type!=="Feature"&&(c={type:"Feature",properties:{},geometry:c});var f=new _.io.GeoJSONReader,p=f.read(JSON.stringify(a.geometry)),g=f.read(JSON.stringify(c.geometry)),m=p.difference(g);if(!m.isEmpty()){var N=new _.io.GeoJSONWriter,y=N.write(m);return a.geometry=m,{type:"Feature",properties:a.properties,geometry:y}}}},{jsts:109}],109:[function(h,E,u){arguments[4][28][0].apply(u,arguments)},{dup:28}],110:[function(h,E,u){var _=h("@turf/union"),d=h("turf-overlaps"),S=h("@turf/bbox"),a=h("rbush"),c=h("geojson-utils"),f=h("get-closest");E.exports=function(g,m){for(var N=[],y=[],R=new a,I=0;I<g.features.length;I++){var v=S(g.features[I]),M={minX:v[0],minY:v[1],maxX:v[2],maxY:v[3],origIndexPosition:I};y.push(M)}R.load(y);for(var T=0;T<g.features.length;T++){for(var w=g.features[T],b=S(w),P={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]},O=R.search(P),D=!1,C=0;C<O.length;C++){w=g.features[T];var q=O[C].origIndexPosition;if(N.length>0&&q!==0)if(q>N[N.length-1])q=q-N.length;else{var B=f.greaterNumber(q,N);B!==0&&(q=q-B)}if(q!==T){var U=g.features[q];if(!(typeof m!==void 0&&U.properties[m]!==w.properties[m])){var W=d(w,U);if(!W){var L=JSON.stringify(w),X=JSON.stringify(U),ot=p(JSON.parse(L)),F=p(JSON.parse(X));W=c.lineStringsIntersect(ot.geometry,F.geometry)}W&&(g.features[T]=_(w,U),N.push(O[C].origIndexPosition),N.sort(function(H,z){return H-z}),R.remove(O[C]),g.features.splice(q,1),P.origIndexPosition=T,R.remove(P,function(H,z){return H.origIndexPosition===z.origIndexPosition}),D=!0)}}}if(D){var Y=S(w);R.insert({minX:Y[0],minY:Y[1],maxX:Y[2],maxY:Y[3],origIndexPosition:T}),T--}}return g};function p(g){if(g==null)throw new Error("No polygon was passed");g.geometry.type="LineString";var m=[].concat.apply([],g.geometry.coordinates);return g.geometry.coordinates=m,g}},{"@turf/bbox":111,"@turf/union":113,"geojson-utils":115,"get-closest":116,rbush:118,"turf-overlaps":120}],111:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":112,dup:18}],112:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],113:[function(h,E,u){arguments[4][84][0].apply(u,arguments)},{dup:84,jsts:114}],114:[function(h,E,u){arguments[4][28][0].apply(u,arguments)},{dup:28}],115:[function(h,E,u){(function(){var _=this.gju={};typeof E<"u"&&E.exports&&(E.exports=_),_.lineStringsIntersect=function(a,c){for(var f=[],p=0;p<=a.coordinates.length-2;++p)for(var g=0;g<=c.coordinates.length-2;++g){var m={x:a.coordinates[p][1],y:a.coordinates[p][0]},N={x:a.coordinates[p+1][1],y:a.coordinates[p+1][0]},y={x:c.coordinates[g][1],y:c.coordinates[g][0]},R={x:c.coordinates[g+1][1],y:c.coordinates[g+1][0]},I=(R.x-y.x)*(m.y-y.y)-(R.y-y.y)*(m.x-y.x),v=(N.x-m.x)*(m.y-y.y)-(N.y-m.y)*(m.x-y.x),M=(R.y-y.y)*(N.x-m.x)-(R.x-y.x)*(N.y-m.y);if(M!=0){var T=I/M,w=v/M;0<=T&&T<=1&&0<=w&&w<=1&&f.push({type:"Point",coordinates:[m.x+T*(N.x-m.x),m.y+T*(N.y-m.y)]})}}return f.length==0&&(f=!1),f};function d(a){for(var c=[],f=[],p=0;p<a[0].length;p++)c.push(a[0][p][1]),f.push(a[0][p][0]);return c=c.sort(function(g,m){return g-m}),f=f.sort(function(g,m){return g-m}),[[c[0],f[0]],[c[c.length-1],f[f.length-1]]]}_.pointInBoundingBox=function(a,c){return!(a.coordinates[1]<c[0][0]||a.coordinates[1]>c[1][0]||a.coordinates[0]<c[0][1]||a.coordinates[0]>c[1][1])};function S(a,c,f){for(var p=[[0,0]],g=0;g<f.length;g++){for(var m=0;m<f[g].length;m++)p.push(f[g][m]);p.push(f[g][0]),p.push([0,0])}for(var N=!1,g=0,m=p.length-1;g<p.length;m=g++)p[g][0]>c!=p[m][0]>c&&a<(p[m][1]-p[g][1])*(c-p[g][0])/(p[m][0]-p[g][0])+p[g][1]&&(N=!N);return N}_.pointInPolygon=function(a,c){for(var f=c.type=="Polygon"?[c.coordinates]:c.coordinates,p=!1,g=0;g<f.length;g++)_.pointInBoundingBox(a,d(f[g]))&&(p=!0);if(!p)return!1;for(var m=!1,g=0;g<f.length;g++)S(a.coordinates[1],a.coordinates[0],f[g])&&(m=!0);return m},_.pointInMultiPolygon=function(a,c){for(var f=c.type=="MultiPolygon"?[c.coordinates]:c.coordinates,p=!1,g=!1,m=0;m<f.length;m++){for(var N=f[m],y=0;y<N.length;y++)p||_.pointInBoundingBox(a,d(N[y]))&&(p=!0);if(!p)return!1;for(var y=0;y<N.length;y++)g||S(a.coordinates[1],a.coordinates[0],N[y])&&(g=!0)}return g},_.numberToRadius=function(a){return a*Math.PI/180},_.numberToDegree=function(a){return a*180/Math.PI},_.drawCircle=function(a,c,N){for(var p=[c.coordinates[1],c.coordinates[0]],g=a/1e3/6371,m=[_.numberToRadius(p[0]),_.numberToRadius(p[1])],N=N||15,y=[[p[0],p[1]]],R=0;R<N;R++){var I=2*Math.PI*R/N,v=Math.asin(Math.sin(m[0])*Math.cos(g)+Math.cos(m[0])*Math.sin(g)*Math.cos(I)),M=m[1]+Math.atan2(Math.sin(I)*Math.sin(g)*Math.cos(m[0]),Math.cos(g)-Math.sin(m[0])*Math.sin(v));y[R]=[],y[R][1]=_.numberToDegree(v),y[R][0]=_.numberToDegree(M)}return{type:"Polygon",coordinates:[y]}},_.rectangleCentroid=function(a){var c=a.coordinates[0],f=c[0][0],p=c[0][1],g=c[2][0],m=c[2][1],N=g-f,y=m-p;return{type:"Point",coordinates:[f+N/2,p+y/2]}},_.pointDistance=function(a,c){var f=a.coordinates[0],p=a.coordinates[1],g=c.coordinates[0],m=c.coordinates[1],N=_.numberToRadius(m-p),y=_.numberToRadius(g-f),R=Math.pow(Math.sin(N/2),2)+Math.cos(_.numberToRadius(p))*Math.cos(_.numberToRadius(m))*Math.pow(Math.sin(y/2),2),I=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return 6371*I*1e3},_.geometryWithinRadius=function(a,c,f){if(a.type=="Point")return _.pointDistance(a,c)<=f;if(a.type=="LineString"||a.type=="Polygon"){var p={},g;a.type=="Polygon"?g=a.coordinates[0]:g=a.coordinates;for(var m in g)if(p.coordinates=g[m],_.pointDistance(p,c)>f)return!1}return!0},_.area=function(a){for(var c=0,f=a.coordinates[0],p=f.length-1,g,m,N=0;N<f.length;p=N++){var g={x:f[N][1],y:f[N][0]},m={x:f[p][1],y:f[p][0]};c+=g.x*m.y,c-=g.y*m.x}return c/=2,c},_.centroid=function(a){for(var c,f=0,p=0,g=a.coordinates[0],m=g.length-1,N,y,R=0;R<g.length;m=R++){var N={x:g[R][1],y:g[R][0]},y={x:g[m][1],y:g[m][0]};c=N.x*y.y-y.x*N.y,f+=(N.x+y.x)*c,p+=(N.y+y.y)*c}return c=_.area(a)*6,{type:"Point",coordinates:[p/c,f/c]}},_.simplify=function(a,c){c=c||20,a=a.map(function(F){return{lng:F.coordinates[0],lat:F.coordinates[1]}});var f,p,g,m,N,y,R,I,v,M,T,w,b,P,O,D,C,q,B,U=Math.PI/180*.5,W=new Array,L=new Array,X=new Array;if(a.length<3)return a;for(f=a.length,M=c*360/(2*Math.PI*6378137),M*=M,g=0,L[0]=0,X[0]=f-1,p=1;p>0;)if(m=L[p-1],N=X[p-1],p--,N-m>1){for(T=a[N].lng()-a[m].lng(),w=a[N].lat()-a[m].lat(),Math.abs(T)>180&&(T=360-Math.abs(T)),T*=Math.cos(U*(a[N].lat()+a[m].lat())),b=T*T+w*w,y=m+1,R=m,v=-1;y<N;y++)P=a[y].lng()-a[m].lng(),O=a[y].lat()-a[m].lat(),Math.abs(P)>180&&(P=360-Math.abs(P)),P*=Math.cos(U*(a[y].lat()+a[m].lat())),D=P*P+O*O,C=a[y].lng()-a[N].lng(),q=a[y].lat()-a[N].lat(),Math.abs(C)>180&&(C=360-Math.abs(C)),C*=Math.cos(U*(a[y].lat()+a[N].lat())),B=C*C+q*q,D>=b+B?I=B:B>=b+D?I=D:I=(P*w-O*T)*(P*w-O*T)/b,I>v&&(R=y,v=I);v<M?(W[g]=m,g++):(p++,L[p-1]=R,X[p-1]=N,p++,L[p-1]=m,X[p-1]=R)}else W[g]=m,g++;W[g]=f-1,g++;for(var ot=new Array,y=0;y<g;y++)ot.push(a[W[y]]);return ot.map(function(F){return{type:"Point",coordinates:[F.lng,F.lat]}})},_.destinationPoint=function(a,c,f){f=f/6371,c=_.numberToRadius(c);var p=_.numberToRadius(a.coordinates[0]),g=_.numberToRadius(a.coordinates[1]),m=Math.asin(Math.sin(g)*Math.cos(f)+Math.cos(g)*Math.sin(f)*Math.cos(c)),N=p+Math.atan2(Math.sin(c)*Math.sin(f)*Math.cos(g),Math.cos(f)-Math.sin(g)*Math.sin(m));return N=(N+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[_.numberToDegree(N),_.numberToDegree(m)]}}})()},{}],116:[function(h,E,u){var _=h("assert");function d(S,a,c){var f,p;return _(Array.isArray(a),"Get closest expects an array as second argument"),a.forEach(function(g,m){var N=c(g,S);N>=0&&(typeof p>"u"||N<p)&&(p=N,f=m)}),f}E.exports={number:function(a,c){return d(a,c,function(f,p){return Math.abs(f-p)})},greaterNumber:function(a,c){return d(a,c,function(f,p){return f-p})},lowerNumber:function(a,c){return d(a,c,function(f,p){return p-f})},custom:function(a,c,f){return d(a,c,f)}}},{assert:388}],117:[function(h,E,u){arguments[4][74][0].apply(u,arguments)},{dup:74}],118:[function(h,E,u){arguments[4][75][0].apply(u,arguments)},{dup:75,quickselect:117}],119:[function(h,E,u){E.exports=function(_){for(var d=0,S=1,a=_.length,c,f;S<a;)c=f||_[0],f=_[S],d+=(f[0]-c[0])*(f[1]+c[1]),S++;return d>0}},{}],120:[function(h,E,u){var _=h("turf-is-clockwise");function d(c,f){var p=c[0],g=c[1],m=f[0],N=f[1];return _([p,m,N,p])!=_([g,m,N,g])&&_([p,g,m,p])!=_([p,g,N,p])}function S(c,f){for(var p=0;p<c.length-1;p++)for(var g=[c[p],c[p+1]],m=0;m<f.length-1;m++){var N=[f[m],f[m+1]];if(d(g,N))return!0}return!1}function a(c){var f=[[[]]];switch(c.geometry.type){case"LineString":f=[[c.geometry.coordinates]];break;case"Polygon":f=[c.geometry.coordinates];break;case"MultiPolygon":f=c.geometry.coordinates;break}return f}E.exports=function(c,f){var p=a(c),g=a(f);return p.some(function(m){return g.some(function(N){return m.some(function(y){return N.some(function(R){return S(y,R)})})})})}},{"turf-is-clockwise":119}],121:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":122,"@turf/invariant":123,dup:8}],122:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],123:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],124:[function(h,E,u){var _=h("@turf/bbox"),d=h("@turf/bbox-polygon");E.exports=function(S){return d(_(S))}},{"@turf/bbox":127,"@turf/bbox-polygon":125}],125:[function(h,E,u){arguments[4][16][0].apply(u,arguments)},{"@turf/helpers":126,dup:16}],126:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],127:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":128,dup:18}],128:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],129:[function(h,E,u){arguments[4][52][0].apply(u,arguments)},{"@turf/helpers":130,"@turf/meta":131,dup:52}],130:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],131:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],132:[function(h,E,u){var _=h("@turf/meta").featureEach,d=h("@turf/meta").geomEach,S=h("@turf/invariant").getCoords,a=h("@turf/helpers"),c=a.point,f=a.lineString,p=a.polygon,g=a.featureCollection;function m(M){var T=M.geometry?M.geometry.type:M.type;switch(T){case"MultiPoint":return N(M);case"MultiPolygon":return R(M);case"MultiLineString":return y(M);case"FeatureCollection":return I(M);case"GeometryCollection":return v(M);case"Point":case"LineString":case"Polygon":return g([M])}}E.exports=m;function N(M){var T=[];return S(M).forEach(function(w){T.push(c(w,M.properties))}),g(T)}function y(M){var T=[];return S(M).forEach(function(w){T.push(f(w,M.properties))}),g(T)}function R(M){var T=[];return S(M).forEach(function(w){T.push(p(w,M.properties))}),g(T)}function I(M){var T=[];return _(M,function(w){switch(w.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":_(m(w),function(b){T.push(b)});break;default:T.push(w)}}),g(T)}function v(M){var T=[];return d(M,function(w){switch(w.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":_(m(w),function(P){T.push(P)});break;default:var b={type:"Feature",properties:{},geometry:w};T.push(b)}}),g(T)}},{"@turf/helpers":133,"@turf/invariant":134,"@turf/meta":135}],133:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],134:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],135:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],136:[function(h,E,u){var _=h("@turf/meta").coordEach;E.exports=function(S){return S=JSON.parse(JSON.stringify(S)),_(S,function(a){a.reverse()}),S}},{"@turf/meta":137}],137:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],138:[function(h,E,u){var _=Math.PI/180,d=180/Math.PI,S=function(p,g){this.lon=p,this.lat=g,this.x=_*p,this.y=_*g};S.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},S.prototype.antipode=function(){var p=-1*this.lat,g=this.lon<0?180+this.lon:(180-this.lon)*-1;return new S(g,p)};var a=function(){this.coords=[],this.length=0};a.prototype.move_to=function(p){this.length++,this.coords.push(p)};var c=function(p){this.properties=p||{},this.geometries=[]};c.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var p=[],g=0;g<this.geometries.length;g++)p.push(this.geometries[g].coords);return{geometry:{type:"MultiLineString",coordinates:p},type:"Feature",properties:this.properties}},c.prototype.wkt=function(){for(var p="",g="LINESTRING(",m=function(R){g+=R[0]+" "+R[1]+","},N=0;N<this.geometries.length;N++){if(this.geometries[N].coords.length===0)return"LINESTRING(empty)";var y=this.geometries[N].coords;y.forEach(m),p+=g.substring(0,g.length-1)+")"}return p};var f=function(p,g,m){if(!p||p.x===void 0||p.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!g||g.x===void 0||g.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new S(p.x,p.y),this.end=new S(g.x,g.y),this.properties=m||{};var N=this.start.x-this.end.x,y=this.start.y-this.end.y,R=Math.pow(Math.sin(y/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(N/2),2);if(this.g=2*Math.asin(Math.sqrt(R)),this.g===Math.PI)throw new Error("it appears "+p.view()+" and "+g.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+p+" and "+g)};f.prototype.interpolate=function(p){var g=Math.sin((1-p)*this.g)/Math.sin(this.g),m=Math.sin(p*this.g)/Math.sin(this.g),N=g*Math.cos(this.start.y)*Math.cos(this.start.x)+m*Math.cos(this.end.y)*Math.cos(this.end.x),y=g*Math.cos(this.start.y)*Math.sin(this.start.x)+m*Math.cos(this.end.y)*Math.sin(this.end.x),R=g*Math.sin(this.start.y)+m*Math.sin(this.end.y),I=d*Math.atan2(R,Math.sqrt(Math.pow(N,2)+Math.pow(y,2))),v=d*Math.atan2(y,N);return[v,I]},f.prototype.Arc=function(p,g){var m=[];if(!p||p<=2)m.push([this.start.lon,this.start.lat]),m.push([this.end.lon,this.end.lat]);else for(var N=1/(p-1),y=0;y<p;++y){var R=N*y,I=this.interpolate(R);m.push(I)}for(var v=!1,M=0,T=g&&g.offset?g.offset:10,w=180-T,b=-180+T,P=360-T,O=1;O<m.length;++O){var D=m[O-1][0],C=m[O][0],q=Math.abs(C-D);q>P&&(C>w&&D<b||D>w&&C<b)?v=!0:q>M&&(M=q)}var B=[];if(v&&M<T){var U=[];B.push(U);for(var W=0;W<m.length;++W){var L=parseFloat(m[W][0]);if(W>0&&Math.abs(L-m[W-1][0])>P){var X=parseFloat(m[W-1][0]),ot=parseFloat(m[W-1][1]),F=parseFloat(m[W][0]),Y=parseFloat(m[W][1]);if(X>-180&&X<b&&F===180&&W+1<m.length&&m[W-1][0]>-180&&m[W-1][0]<b){U.push([-180,m[W][1]]),W++,U.push([m[W][0],m[W][1]]);continue}else if(X>w&&X<180&&F===-180&&W+1<m.length&&m[W-1][0]>w&&m[W-1][0]<180){U.push([180,m[W][1]]),W++,U.push([m[W][0],m[W][1]]);continue}if(X<b&&F>w){var H=X;X=F,F=H;var z=ot;ot=Y,Y=z}if(X>w&&F<b&&(F+=360),X<=180&&F>=180&&X<F){var J=(180-X)/(F-X),G=J*Y+(1-J)*ot;U.push([m[W-1][0]>w?180:-180,G]),U=[],U.push([m[W-1][0]>w?-180:180,G]),B.push(U)}else U=[],B.push(U);U.push([L,m[W][1]])}else U.push([m[W][0],m[W][1]])}}else{var k=[];B.push(k);for(var j=0;j<m.length;++j)k.push([m[j][0],m[j][1]])}for(var rt=new c(this.properties),it=0;it<B.length;++it){var Q=new a;rt.geometries.push(Q);for(var lt=B[it],st=0;st<lt.length;++st)Q.move_to(lt[st])}return rt},E.exports.Coord=S,E.exports.Arc=c,E.exports.GreatCircle=f},{}],139:[function(h,E,u){var _=h("./arc"),d=h("@turf/invariant").getCoord;E.exports=function(S,a,c,f,p){S=d(S),a=d(a),c=c||{},f=f||100,p=p||10;var g=new _.GreatCircle({x:S[0],y:S[1]},{x:a[0],y:a[1]},c),m=g.Arc(f,{offset:p});return m.json()}},{"./arc":138,"@turf/invariant":140}],140:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],141:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],142:[function(h,E,u){for(var _=h("@turf/helpers").point,d=h("@turf/helpers").polygon,S=h("@turf/distance"),a=h("@turf/helpers").featureCollection,c=[],f=[],p=0;p<6;p++){var g=2*Math.PI/6*p;c.push(Math.cos(g)),f.push(Math.sin(g))}E.exports=function(R,I,v,M){var T=I/S(_([R[0],R[1]]),_([R[2],R[1]]),v),w=T*(R[2]-R[0]),b=I/S(_([R[0],R[1]]),_([R[0],R[3]]),v),P=b*(R[3]-R[1]),O=w/2,D=O*2,C=Math.sqrt(3)/2*P,q=R[2]-R[0],B=R[3]-R[1],U=3/4*D,W=C,L=q/(D-O/2),X=Math.ceil(L);Math.round(L)===X&&X++;var ot=(X*U-O/2-q)/2-O/2,F=Math.ceil(B/C),Y=(B-F*C)/2,H=F*C-B>C/2;H&&(Y-=C/4);for(var z=a([]),J=0;J<X;J++)for(var G=0;G<=F;G++){var k=J%2===1;if(!(G===0&&k)&&!(G===0&&H)){var j=J*U+R[0]-ot,rt=G*W+R[1]+Y;k&&(rt-=C/2),M?z.features.push.apply(z.features,N([j,rt],w/2,P/2)):z.features.push(m([j,rt],w/2,P/2))}}return z};function m(y,R,I){for(var v=[],M=0;M<6;M++){var T=y[0]+R*c[M],w=y[1]+I*f[M];v.push([T,w])}return v.push(v[0]),d([v])}function N(y,R,I){for(var v=[],M=0;M<6;M++){var T=[];T.push(y),T.push([y[0]+R*c[M],y[1]+I*f[M]]),T.push([y[0]+R*c[(M+1)%6],y[1]+I*f[(M+1)%6]]),T.push(y),v.push(d([T]))}return v}},{"@turf/distance":143,"@turf/helpers":146}],143:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":144,"@turf/invariant":145,dup:8}],144:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],145:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],146:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],147:[function(h,E,u){var _=h("@turf/distance"),d=h("@turf/square-grid"),S=h("@turf/centroid"),a=h("@turf/bbox");E.exports=function(c,f,p,g,m){var N=c.features.filter(function(P){return P.properties&&P.properties.hasOwnProperty(f)});if(N.length!==0){for(var y=d(a(c),g,m),R=y.features.length,I=0;I<R;I++){for(var v=0,M=0,T=0;T<c.features.length;T++){var w=_(S(y.features[I]),c.features[T],m);w===0&&(v=c.features[T].properties[f]);var b=1/Math.pow(w,p);M+=b,v+=b*c.features[T].properties[f]}y.features[I].properties.z=v/M}return y}else console.log("Specified Data Field is Missing")}},{"@turf/bbox":148,"@turf/centroid":150,"@turf/distance":153,"@turf/square-grid":156}],148:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":149,dup:18}],149:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],150:[function(h,E,u){arguments[4][30][0].apply(u,arguments)},{"@turf/helpers":151,"@turf/meta":152,dup:30}],151:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],152:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],153:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":154,"@turf/invariant":155,dup:8}],154:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],155:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],156:[function(h,E,u){var _=h("@turf/helpers").featureCollection,d=h("@turf/helpers").point,S=h("@turf/helpers").polygon,a=h("@turf/distance"),c=h("@turf/bbox");E.exports=function(p,g,m,N){var y=[];if(!p)throw new Error("bbox is required");if(Array.isArray(p)||(p=c(p)),p.length!==4)throw new Error("bbox must contain 4 numbers");var R=p[0],I=p[1],v=p[2],M=p[3],T=a(d([R,I]),d([v,I]),m),w=a(d([R,I]),d([R,M]),m),b=Math.ceil(T/g),P=Math.ceil(w/g),O=g/T,D=O*(v-R);N===!0&&(D=D*(T/g/b));var C=g/w,q=C*(M-I);N===!0&&(q=q*(w/g/P));for(var B=R,U=0;U<b;U++){for(var W=I,L=0;L<P;L++){var X=S([[[B,W],[B,W+q],[B+D,W+q],[B+D,W],[B,W]]]);y.push(X),W+=q}B+=D}return _(y)}},{"@turf/bbox":157,"@turf/distance":159,"@turf/helpers":162}],157:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":158,dup:18}],158:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],159:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":160,"@turf/invariant":161,dup:8}],160:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],161:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],162:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],163:[function(h,E,u){arguments[4][72][0].apply(u,arguments)},{"@turf/invariant":164,dup:72}],164:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],165:[function(h,E,u){var _=h("jsts");E.exports=function(d,S){var a,c;d.type==="Feature"?a=d.geometry:a=d,S.type==="Feature"?c=S.geometry:c=S;var f=new _.io.GeoJSONReader,p=f.read(JSON.stringify(a)),g=f.read(JSON.stringify(c)),m=p.intersection(g);if(!m.isEmpty()){var N=new _.io.GeoJSONWriter,y=N.write(m);return{type:"Feature",properties:{},geometry:y}}}},{jsts:166}],166:[function(h,E,u){arguments[4][28][0].apply(u,arguments)},{dup:28}],167:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],168:[function(h,E,u){E.exports=c;var _=1e-10;function d(f,p){var g=f.x-p.x,m=f.y-p.y;return g*g+m*m<_}function S(f){for(var p=f.head;p;){var g=p.next;p.next=p.prev,p.prev=g,p=g}var g=f.head;f.head=f.tail,f.tail=g}function a(f){this.level=f,this.s=null,this.count=0}a.prototype.remove_seq=function(f){f.prev?f.prev.next=f.next:this.s=f.next,f.next&&(f.next.prev=f.prev),--this.count},a.prototype.addSegment=function(f,p){for(var g=this.s,m=null,N=null,y=!1,R=!1;g&&(m==null&&(d(f,g.head.p)?(m=g,y=!0):d(f,g.tail.p)&&(m=g)),N==null&&(d(p,g.head.p)?(N=g,R=!0):d(p,g.tail.p)&&(N=g)),!(N!=null&&m!=null));)g=g.next;var I=(m!=null?1:0)|(N!=null?2:0);switch(I){case 0:var v={p:f,prev:null},M={p,next:null};v.next=M,M.prev=v,m={head:v,tail:M,next:this.s,prev:null,closed:!1},this.s&&(this.s.prev=m),this.s=m,++this.count;break;case 1:var T={p};y?(T.next=m.head,T.prev=null,m.head.prev=T,m.head=T):(T.next=null,T.prev=m.tail,m.tail.next=T,m.tail=T);break;case 2:var T={p:f};R?(T.next=N.head,T.prev=null,N.head.prev=T,N.head=T):(T.next=null,T.prev=N.tail,N.tail.next=T,N.tail=T);break;case 3:if(m===N){var T={p:m.tail.p,next:m.head,prev:null};m.head.prev=T,m.head=T,m.closed=!0;break}switch((y?1:0)|(R?2:0)){case 0:S(m);case 1:N.tail.next=m.head,m.head.prev=N.tail,N.tail=m.tail,this.remove_seq(m);break;case 3:S(m);case 2:m.tail.next=N.head,N.head.prev=m.tail,m.tail=N.tail,this.remove_seq(N);break}}};function c(f){if(f)this.drawContour=f;else{var p=this;p.contours={},this.drawContour=function(g,m,N,y,R,I){var v=p.contours[I];v||(v=p.contours[I]=new a(R)),v.addSegment({x:g,y:m},{x:N,y})},this.contourList=function(){var g=[],m=p.contours;for(var N in m)for(var y=m[N].s,R=m[N].level;y;){var I=y.head,v=[];for(v.level=R,v.k=N;I&&I.p;)v.push(I.p),I=I.next;g.push(v),y=y.next}return g.sort(function(M,T){return M.k-T.k}),g}}this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5)}c.prototype.contour=function(f,p,g,m,N,y,R,I,v){var M=this.h,T=this.sh,w=this.xh,b=this.yh,P=this.drawContour;this.contours={};for(var O=function(lt,st){return(M[st]*w[lt]-M[lt]*w[st])/(M[st]-M[lt])},D=function(lt,st){return(M[st]*b[lt]-M[lt]*b[st])/(M[st]-M[lt])},C,q,B,U,W,L,X=0,ot=0,F=0,Y=0,H=[0,1,1,0],z=[0,0,1,1],J=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],G=N-1;G>=m;G--)for(var k=p;k<=g-1;k++){var j,rt;if(j=Math.min(f[k][G],f[k][G+1]),rt=Math.min(f[k+1][G],f[k+1][G+1]),W=Math.min(j,rt),j=Math.max(f[k][G],f[k][G+1]),rt=Math.max(f[k+1][G],f[k+1][G+1]),L=Math.max(j,rt),L>=v[0]&&W<=v[I-1]){for(var it=0;it<I;it++)if(v[it]>=W&&v[it]<=L){for(var Q=4;Q>=0;Q--)Q>0?(M[Q]=f[k+H[Q-1]][G+z[Q-1]]-v[it],w[Q]=y[k+H[Q-1]],b[Q]=R[G+z[Q-1]]):(M[0]=.25*(M[1]+M[2]+M[3]+M[4]),w[0]=.5*(y[k]+y[k+1]),b[0]=.5*(R[G]+R[G+1])),M[Q]>_?T[Q]=1:M[Q]<-_?T[Q]=-1:T[Q]=0;for(Q=1;Q<=4;Q++)if(C=Q,q=0,Q!=4?B=Q+1:B=1,U=J[T[C]+1][T[q]+1][T[B]+1],U!=0){switch(U){case 1:X=w[C],F=b[C],ot=w[q],Y=b[q];break;case 2:X=w[q],F=b[q],ot=w[B],Y=b[B];break;case 3:X=w[B],F=b[B],ot=w[C],Y=b[C];break;case 4:X=w[C],F=b[C],ot=O(q,B),Y=D(q,B);break;case 5:X=w[q],F=b[q],ot=O(B,C),Y=D(B,C);break;case 6:X=w[B],F=b[B],ot=O(C,q),Y=D(C,q);break;case 7:X=O(C,q),F=D(C,q),ot=O(q,B),Y=D(q,B);break;case 8:X=O(q,B),F=D(q,B),ot=O(B,C),Y=D(B,C);break;case 9:X=O(B,C),F=D(B,C),ot=O(C,q),Y=D(C,q);break}P(X,F,ot,Y,v[it],it)}}}}}},{}],169:[function(h,E,u){var _=h("@turf/tin"),d=h("@turf/inside"),S=h("@turf/point-grid"),a=h("@turf/distance"),c=h("@turf/bbox"),f=h("@turf/planepoint"),p=h("@turf/helpers").featureCollection,g=h("@turf/helpers").lineString,m=h("@turf/helpers").point,N=h("@turf/square"),y=h("./conrec");E.exports=function(R,I,v,M){for(var T=_(R,I),w=c(R),b=N(w),P=a(m([b[0],b[1]]),m([b[2],b[1]]),"kilometers")/v,O=S(b,P,"kilometers"),D=[],C=0;C<O.features.length;C++)for(var q=O.features[C],B=0;B<T.features.length;B++){var U=T.features[B];d(q,U)&&(q.properties={},q.properties[I]=f(q,U))}for(var W=Math.sqrt(O.features.length),L=0;L<W;L++){for(var X=O.features.slice(L*W,(L+1)*W),ot=[],F=0;F<X.length;F++)X[F].properties?ot.push(X[F].properties[I]):ot.push(0);D.push(ot)}for(var Y=(b[2]-b[0])/W,H=[],z=[],J=0;J<W;J++)H.push(J*Y+b[0]),z.push(J*Y+b[1]);var G=new y;G.contour(D,0,v,0,v,H,z,M.length,M);var k=G.contourList(),j=p([]);return k.forEach(function(rt){if(rt.length>2){var it=[];rt.forEach(function(lt){it.push([lt.x,lt.y])});var Q=g(it);Q.properties={},Q.properties[I]=rt.level,j.features.push(Q)}}),j}},{"./conrec":168,"@turf/bbox":170,"@turf/distance":172,"@turf/helpers":175,"@turf/inside":176,"@turf/planepoint":178,"@turf/point-grid":179,"@turf/square":186,"@turf/tin":190}],170:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":171,dup:18}],171:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],172:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":173,"@turf/invariant":174,dup:8}],173:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],174:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],175:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],176:[function(h,E,u){arguments[4][72][0].apply(u,arguments)},{"@turf/invariant":177,dup:72}],177:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],178:[function(h,E,u){E.exports=function(_,d){var S=_.geometry.coordinates[0],a=_.geometry.coordinates[1],c=d.geometry.coordinates[0][0][0],f=d.geometry.coordinates[0][0][1],p=d.properties.a,g=d.geometry.coordinates[0][1][0],m=d.geometry.coordinates[0][1][1],N=d.properties.b,y=d.geometry.coordinates[0][2][0],R=d.geometry.coordinates[0][2][1],I=d.properties.c,v=(I*(S-c)*(a-m)+p*(S-g)*(a-R)+N*(S-y)*(a-f)-N*(S-c)*(a-R)-I*(S-g)*(a-f)-p*(S-y)*(a-m))/((S-c)*(a-m)+(S-g)*(a-R)+(S-y)*(a-f)-(S-c)*(a-R)-(S-g)*(a-f)-(S-y)*(a-m));return v}},{}],179:[function(h,E,u){var _=h("@turf/helpers").point,d=h("@turf/helpers").featureCollection,S=h("@turf/distance"),a=h("@turf/bbox");E.exports=function(c,f,p){var g=[];if(!c)throw new Error("bbox is required");if(Array.isArray(c)||(c=a(c)),c.length!==4)throw new Error("bbox must contain 4 numbers");for(var m=c[0],N=c[1],y=c[2],R=c[3],I=f/S(_([m,N]),_([y,N]),p),v=I*(y-m),M=f/S(_([m,N]),_([m,R]),p),T=M*(R-N),w=m;w<=y;){for(var b=N;b<=R;)g.push(_([w,b])),b+=T;w+=v}return d(g)}},{"@turf/bbox":180,"@turf/distance":182,"@turf/helpers":185}],180:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":181,dup:18}],181:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],182:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":183,"@turf/invariant":184,dup:8}],183:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],184:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],185:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],186:[function(h,E,u){var _=h("@turf/distance");E.exports=function(d){var S=d[0],a=d[1],c=d[2],f=d[3],p=_(d.slice(0,2),[c,a]),g=_(d.slice(0,2),[S,f]);if(p>=g){var m=(a+f)/2;return[S,m-(c-S)/2,c,m+(c-S)/2]}else{var N=(S+c)/2;return[N-(f-a)/2,a,N+(f-a)/2,f]}}},{"@turf/distance":187}],187:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":188,"@turf/invariant":189,dup:8}],188:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],189:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],190:[function(h,E,u){arguments[4][82][0].apply(u,arguments)},{"@turf/helpers":191,dup:82}],191:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],192:[function(h,E,u){var _=h("@turf/helpers").point;E.exports=function(S){var a,c,f={type:"FeatureCollection",features:[]};if(S.type==="Feature"?c=S.geometry:c=S,c.type==="LineString")a=[c.coordinates];else if(c.type==="MultiLineString")a=c.coordinates;else if(c.type==="MultiPolygon")a=[].concat.apply([],c.coordinates);else if(c.type==="Polygon")a=c.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return a.forEach(function(p){a.forEach(function(g){for(var m=0;m<p.length-1;m++)for(var N=0;N<g.length-1;N++)if(!(p===g&&(Math.abs(m-N)===1||Math.abs(m-N)===p.length-2))){var y=d(p[m][0],p[m][1],p[m+1][0],p[m+1][1],g[N][0],g[N][1],g[N+1][0],g[N+1][1]);y&&f.features.push(_([y[0],y[1]]))}})}),f};function d(S,a,c,f,p,g,m,N){var y,R,I,v,M,T={x:null,y:null,onLine1:!1,onLine2:!1};return y=(N-g)*(c-S)-(m-p)*(f-a),y===0?T.x!==null&&T.y!==null?T:!1:(R=a-g,I=S-p,v=(m-p)*R-(N-g)*I,M=(c-S)*R-(f-a)*I,R=v/y,I=M/y,T.x=S+R*(c-S),T.y=a+R*(f-a),R>=0&&R<=1&&(T.onLine1=!0),I>=0&&I<=1&&(T.onLine2=!0),T.onLine1&&T.onLine2?[T.x,T.y]:!1)}},{"@turf/helpers":193}],193:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],194:[function(h,E,u){var _=h("@turf/line-slice-along"),d=h("@turf/line-distance"),S=h("@turf/helpers").featureCollection,a=h("@turf/meta").featureEach,c=h("@turf/flatten");E.exports=function(p,g,m,N){var y=[],R=arguments[4];return a(p,function(I){I.geometry.type==="MultiLineString"&&(I=c(I)),a(I,function(v){N&&(v.geometry.coordinates=v.geometry.coordinates.reverse());var M=f(v,g,m);M.forEach(function(T,w){if(R===!0){var b=w%2===0?"F":"0",P=(w%2===0,"0"),O=w%2===0?"0":"F";T.properties.stroke="#"+b+P+O,T.properties["stroke-width"]=6}y.push(T)})})}),S(y)};function f(p,g,m){var N=[],y=d(p,m);if(y<=g)return[p];for(var R=Math.floor(y/g)+1,I=0;I<R;I++){var v=_(p,g*I,g*(I+1),m);N.push(v)}return N}},{"@turf/flatten":195,"@turf/helpers":199,"@turf/line-distance":200,"@turf/line-slice-along":210,"@turf/meta":220}],195:[function(h,E,u){arguments[4][132][0].apply(u,arguments)},{"@turf/helpers":196,"@turf/invariant":197,"@turf/meta":198,dup:132}],196:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],197:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],198:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],199:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],200:[function(h,E,u){var _=h("@turf/distance"),d=h("@turf/meta").featureEach,S=h("@turf/meta").coordReduce,a=h("@turf/meta").geomEach,c=h("@turf/flatten"),f=h("@turf/helpers").lineString,p=h("@turf/helpers").point;E.exports=function(y,R){if(!y)throw new Error("geojson is required");return a(y,function(I){if(I.type==="Point")throw new Error("geojson cannot be a Point");if(I.type==="MultiPoint")throw new Error("geojson cannot be a MultiPoint")}),m(y,function(I,v){var M=v.geometry.coordinates,T=p(M[0]),w=p(M[1]);return I+_(T,w,R)},0)};function g(N,y){var R=0;d(N,function(I){d(c(I),function(v){S(v,function(M,T){var w=f([M,T],v.properties);return y(w,R),R++,T})})})}function m(N,y,R){var I=R;return g(N,function(v,M){M===0&&R===void 0?I=v:I=y(I,v,M)}),I}},{"@turf/distance":201,"@turf/flatten":204,"@turf/helpers":208,"@turf/meta":209}],201:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":202,"@turf/invariant":203,dup:8}],202:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],203:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],204:[function(h,E,u){arguments[4][132][0].apply(u,arguments)},{"@turf/helpers":205,"@turf/invariant":206,"@turf/meta":207,dup:132}],205:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],206:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],207:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],208:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],209:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],210:[function(h,E,u){var _=h("@turf/bearing"),d=h("@turf/distance"),S=h("@turf/destination"),a=h("@turf/helpers").lineString;E.exports=function(c,f,p,g){var m,N=[];if(c.type==="Feature")m=c.geometry.coordinates;else if(c.type==="LineString")m=c.coordinates;else throw new Error("input must be a LineString Feature or Geometry");for(var y=0,R,I,v,M=0;M<m.length&&!(f>=y&&M===m.length-1);M++){if(y>f&&N.length===0){if(R=f-y,!R)return N.push(m[M]),a(N);I=_(m[M],m[M-1])-180,v=S(m[M],R,I,g),N.push(v.geometry.coordinates)}if(y>=p)return R=p-y,R?(I=_(m[M],m[M-1])-180,v=S(m[M],R,I,g),N.push(v.geometry.coordinates),a(N)):(N.push(m[M]),a(N));if(y>=f&&N.push(m[M]),M===m.length-1)return a(N);y+=d(m[M],m[M+1],g)}return a(m[m.length-1])}},{"@turf/bearing":211,"@turf/destination":213,"@turf/distance":216,"@turf/helpers":219}],211:[function(h,E,u){arguments[4][3][0].apply(u,arguments)},{"@turf/invariant":212,dup:3}],212:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],213:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":214,"@turf/invariant":215,dup:5}],214:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],215:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],216:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":217,"@turf/invariant":218,dup:8}],217:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],218:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],219:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],220:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],221:[function(h,E,u){arguments[4][200][0].apply(u,arguments)},{"@turf/distance":222,"@turf/flatten":225,"@turf/helpers":229,"@turf/meta":230,dup:200}],222:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":223,"@turf/invariant":224,dup:8}],223:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],224:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],225:[function(h,E,u){arguments[4][132][0].apply(u,arguments)},{"@turf/helpers":226,"@turf/invariant":227,"@turf/meta":228,dup:132}],226:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],227:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],228:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],229:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],230:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],231:[function(h,E,u){var _=h("@turf/helpers"),d=h("@turf/meta"),S=h("@turf/line-segment"),a=h("@turf/invariant").getCoords,c=h("geojson-rbush"),f=_.point,p=_.featureCollection,g=d.featureEach;E.exports=function(N,y){var R=[];if(N.geometry.type==="LineString"&&y.geometry.type==="LineString"&&N.geometry.coordinates.length===2&&y.geometry.coordinates.length===2){var I=m(N,y);return I&&R.push(I),p(R)}var v=c();return v.load(S(y)),g(S(N),function(M){g(v.search(M),function(T){var w=m(M,T);w&&R.push(w)})}),p(R)};function m(N,y){var R=a(N),I=a(y);if(R.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(I.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var v=R[0][0],M=R[0][1],T=R[1][0],w=R[1][1],b=I[0][0],P=I[0][1],O=I[1][0],D=I[1][1],C=(D-P)*(T-v)-(O-b)*(w-M),q=(O-b)*(M-P)-(D-P)*(v-b),B=(T-v)*(M-P)-(w-M)*(v-b);if(C===0)return null;var U=q/C,W=B/C;if(U>=0&&U<=1&&W>=0&&W<=1){var L=v+U*(T-v),X=M+U*(w-M);return f([L,X])}return null}},{"@turf/helpers":233,"@turf/invariant":234,"@turf/line-segment":235,"@turf/meta":243,"geojson-rbush":244}],232:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":243,dup:18}],233:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],234:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],235:[function(h,E,u){var _=h("@turf/flatten"),d=h("@turf/meta").featureEach,S=h("@turf/helpers").lineString,a=h("@turf/helpers").featureCollection,c=h("@turf/invariant").getCoords;E.exports=function(g){var m=[],N=0;return d(g,function(y){d(_(y),function(R){var I=[],v=R.geometry?R.geometry.type:R.type;switch(v){case"Polygon":I=c(R);break;case"LineString":I=[c(R)]}I.forEach(function(M){var T=f(M,R.properties);T.forEach(function(w){w.id=N,m.push(w),N++})})})}),a(m)};function f(g,m){var N=[];return g.reduce(function(y,R){var I=S([y,R],m);return I.bbox=p(y,R),N.push(I),R}),N}function p(g,m){var N=g[0],y=g[1],R=m[0],I=m[1],v=N<R?N:R,M=y<I?y:I,T=N>R?N:R,w=y>I?y:I;return[v,M,T,w]}},{"@turf/flatten":236,"@turf/helpers":240,"@turf/invariant":241,"@turf/meta":242}],236:[function(h,E,u){arguments[4][132][0].apply(u,arguments)},{"@turf/helpers":237,"@turf/invariant":238,"@turf/meta":239,dup:132}],237:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],238:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],239:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],240:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],241:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],242:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],243:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],244:[function(h,E,u){var _=h("@turf/bbox"),d=h("@turf/helpers").featureCollection,S=h("@turf/meta").featureEach,a=h("rbush");E.exports=function(c){var f=a(c);return f.insert=function(p){return p.bbox=p.bbox?p.bbox:_(p),a.prototype.insert.call(this,p)},f.load=function(p){var g=[];return S(p,function(m){m.bbox=m.bbox?m.bbox:_(m),g.push(m)}),a.prototype.load.call(this,g)},f.remove=function(p){return a.prototype.remove.call(this,p)},f.clear=function(){return a.prototype.clear.call(this)},f.search=function(p){var g=a.prototype.search.call(this,this.toBBox(p));return d(g)},f.collides=function(p){return a.prototype.collides.call(this,this.toBBox(p))},f.all=function(){var p=a.prototype.all.call(this);return d(p)},f.toJSON=function(){return a.prototype.toJSON.call(this)},f.fromJSON=function(p){return a.prototype.fromJSON.call(this,p)},f.toBBox=function(p){var g=p.bbox?p.bbox:_(p);return{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]}},f}},{"@turf/bbox":232,"@turf/helpers":233,"@turf/meta":243,rbush:246}],245:[function(h,E,u){arguments[4][74][0].apply(u,arguments)},{dup:74}],246:[function(h,E,u){arguments[4][75][0].apply(u,arguments)},{dup:75,quickselect:245}],247:[function(h,E,u){arguments[4][235][0].apply(u,arguments)},{"@turf/flatten":248,"@turf/helpers":252,"@turf/invariant":253,"@turf/meta":254,dup:235}],248:[function(h,E,u){arguments[4][132][0].apply(u,arguments)},{"@turf/helpers":249,"@turf/invariant":250,"@turf/meta":251,dup:132}],249:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],250:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],251:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],252:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],253:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],254:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],255:[function(h,E,u){arguments[4][210][0].apply(u,arguments)},{"@turf/bearing":256,"@turf/destination":258,"@turf/distance":261,"@turf/helpers":264,dup:210}],256:[function(h,E,u){arguments[4][3][0].apply(u,arguments)},{"@turf/invariant":257,dup:3}],257:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],258:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":259,"@turf/invariant":260,dup:5}],259:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],260:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],261:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":262,"@turf/invariant":263,dup:8}],262:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],263:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],264:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],265:[function(h,E,u){var _=h("@turf/helpers").lineString,d=h("@turf/point-on-line");E.exports=function(a,c,f){var p;if(f.type==="Feature")p=f.geometry.coordinates;else if(f.type==="LineString")p=f.coordinates;else throw new Error("input must be a LineString Feature or Geometry");var g=d(f,a),m=d(f,c),N;g.properties.index<=m.properties.index?N=[g,m]:N=[m,g];for(var y=_([N[0].geometry.coordinates],{}),R=N[0].properties.index+1;R<N[1].properties.index+1;R++)y.geometry.coordinates.push(p[R]);return y.geometry.coordinates.push(N[1].geometry.coordinates),y}},{"@turf/helpers":266,"@turf/point-on-line":267}],266:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],267:[function(h,E,u){var _=h("@turf/distance"),d=h("@turf/helpers").point,S=h("@turf/bearing"),a=h("@turf/destination");E.exports=function(f,p,g){var m;if(f.type==="Feature")m=f.geometry.coordinates;else if(f.type==="LineString")m=f.coordinates;else throw new Error("input must be a LineString Feature or Geometry");for(var N=d([1/0,1/0],{dist:1/0}),y=0,R=0;R<m.length-1;R++){var I=d(m[R]),v=d(m[R+1]);I.properties.dist=_(p,I,g),v.properties.dist=_(p,v,g);var M=_(I,v,g),T=Math.max(I.properties.dist,v.properties.dist),w=S(I,v),b=a(p,T,w+90,g),P=a(p,T,w-90,g),O=c(b.geometry.coordinates[0],b.geometry.coordinates[1],P.geometry.coordinates[0],P.geometry.coordinates[1],I.geometry.coordinates[0],I.geometry.coordinates[1],v.geometry.coordinates[0],v.geometry.coordinates[1]),D;O&&(D=d(O),D.properties.dist=_(p,D,g),D.properties.location=y+_(I,N,g)),I.properties.dist<N.properties.dist&&(N=I,N.properties.index=R,N.properties.location=y),v.properties.dist<N.properties.dist&&(N=v,N.properties.index=R+1,N.properties.location=y+M),D&&D.properties.dist<N.properties.dist&&(N=D,N.properties.index=R),y+=M}return N};function c(f,p,g,m,N,y,R,I){var v,M,T,w,b,P={x:null,y:null,onLine1:!1,onLine2:!1};return v=(I-y)*(g-f)-(R-N)*(m-p),v===0?P.x!==null&&P.y!==null?P:!1:(M=p-y,T=f-N,w=(R-N)*M-(I-y)*T,b=(g-f)*M-(m-p)*T,M=w/v,T=b/v,P.x=f+M*(g-f),P.y=p+M*(m-p),M>0&&M<1&&(P.onLine1=!0),T>0&&T<1&&(P.onLine2=!0),P.onLine1&&P.onLine2?[P.x,P.y]:!1)}},{"@turf/bearing":268,"@turf/destination":270,"@turf/distance":273,"@turf/helpers":276}],268:[function(h,E,u){arguments[4][3][0].apply(u,arguments)},{"@turf/invariant":269,dup:3}],269:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],270:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":271,"@turf/invariant":272,dup:5}],271:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],272:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],273:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":274,"@turf/invariant":275,dup:8}],274:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],275:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],276:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],277:[function(h,E,u){var _=h("@turf/meta").featureEach,d=h("rbush"),S=h("@turf/bbox"),a=h("@turf/helpers"),c=h("@turf/union");E.exports=function(I,v){var M=m(v),T=p(I),w=T[0],b=T[1];w=N(w),b=N(b);var P=f(M,w,b);return P};function f(I,v,M){var T=[];return T.push(I.geometry.coordinates[0]),_(v,function(w){T.push(w.geometry.coordinates[0])}),_(M,function(w){T.push(w.geometry.coordinates[0])}),a.polygon(T)}function p(I){var v=[],M=[];return _(I,function(T){T.geometry.type==="MultiPolygon"&&(T=g(T)),_(T,function(w){var b=w.geometry.coordinates,P=b[0],O=b.slice(1);v.push(a.polygon([P])),O.forEach(function(D){M.push(a.polygon([D]))})})}),[a.featureCollection(v),a.featureCollection(M)]}function g(I){var v=[];return I.geometry.coordinates.forEach(function(M){v.push(a.polygon(M))}),a.featureCollection(v)}function m(I){var v=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],M=I&&I.geometry.coordinates||v;return a.polygon(M)}function N(I){if(I.features.length<=1)return I;var v=R(I),M=[],T={};return _(I,function(w,b){if(T[b])return!0;for(v.remove({index:b},y),T[b]=!0;;){var P=S(w),O=v.search({minX:P[0],minY:P[1],maxX:P[2],maxY:P[3]});if(O.length>0){var D=O.map(function(C){return T[C.index]=!0,v.remove({index:C.index},y),C.geojson});D.push(w),w=c.apply(this,D)}if(O.length===0)break}M.push(w)}),a.featureCollection(M)}function y(I,v){return I.index===v.index}function R(I){var v=d(),M=[];return _(I,function(T,w){var b=S(T);M.push({minX:b[0],minY:b[1],maxX:b[2],maxY:b[3],geojson:T,index:w})}),v.load(M),v}},{"@turf/bbox":278,"@turf/helpers":280,"@turf/meta":281,"@turf/union":282,rbush:285}],278:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":279,dup:18}],279:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],280:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],281:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],282:[function(h,E,u){arguments[4][84][0].apply(u,arguments)},{dup:84,jsts:283}],283:[function(h,E,u){arguments[4][28][0].apply(u,arguments)},{dup:28}],284:[function(h,E,u){arguments[4][74][0].apply(u,arguments)},{dup:74}],285:[function(h,E,u){arguments[4][75][0].apply(u,arguments)},{dup:75,quickselect:284}],286:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],287:[function(h,E,u){var _=h("@turf/bearing"),d=h("@turf/destination"),S=h("@turf/distance");E.exports=function(a,c){var f=S(a,c,"miles"),p=_(a,c),g=d(a,f/2,p,"miles");return g}},{"@turf/bearing":288,"@turf/destination":290,"@turf/distance":293}],288:[function(h,E,u){arguments[4][3][0].apply(u,arguments)},{"@turf/invariant":289,dup:3}],289:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],290:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":291,"@turf/invariant":292,dup:5}],291:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],292:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],293:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":294,"@turf/invariant":295,dup:8}],294:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],295:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],296:[function(h,E,u){var _=h("@turf/distance");E.exports=function(d,S){for(var a,c=1/0,f=0;f<S.features.length;f++){var p=_(d,S.features[f],"miles");p<c&&(a=S.features[f],c=p)}return a}},{"@turf/distance":297}],297:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":298,"@turf/invariant":299,dup:8}],298:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],299:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],300:[function(h,E,u){arguments[4][178][0].apply(u,arguments)},{dup:178}],301:[function(h,E,u){arguments[4][179][0].apply(u,arguments)},{"@turf/bbox":302,"@turf/distance":304,"@turf/helpers":307,dup:179}],302:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":303,dup:18}],303:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],304:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":305,"@turf/invariant":306,dup:8}],305:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],306:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],307:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],308:[function(h,E,u){arguments[4][267][0].apply(u,arguments)},{"@turf/bearing":309,"@turf/destination":311,"@turf/distance":314,"@turf/helpers":317,dup:267}],309:[function(h,E,u){arguments[4][3][0].apply(u,arguments)},{"@turf/invariant":310,dup:3}],310:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],311:[function(h,E,u){arguments[4][5][0].apply(u,arguments)},{"@turf/helpers":312,"@turf/invariant":313,dup:5}],312:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],313:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],314:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":315,"@turf/invariant":316,dup:8}],315:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],316:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],317:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],318:[function(h,E,u){var _=h("@turf/helpers").featureCollection,d=h("@turf/center"),S=h("@turf/distance"),a=h("@turf/inside"),c=h("@turf/explode");function f(g){g.type!=="FeatureCollection"&&(g.type!=="Feature"&&(g={type:"Feature",geometry:g,properties:{}}),g=_([g]));for(var m=d(g),N=!1,y=0;!N&&y<g.features.length;){var R=g.features[y].geometry,I,v,M,T,w,b,P,O=!1;if(R.type==="Point")m.geometry.coordinates[0]===R.coordinates[0]&&m.geometry.coordinates[1]===R.coordinates[1]&&(N=!0);else if(R.type==="MultiPoint"){var D=!1;for(P=0;!D&&P<R.coordinates.length;)m.geometry.coordinates[0]===R.coordinates[P][0]&&m.geometry.coordinates[1]===R.coordinates[P][1]&&(N=!0,D=!0),P++}else if(R.type==="LineString")for(P=0;!O&&P<R.coordinates.length-1;)I=m.geometry.coordinates[0],v=m.geometry.coordinates[1],M=R.coordinates[P][0],T=R.coordinates[P][1],w=R.coordinates[P+1][0],b=R.coordinates[P+1][1],p(I,v,M,T,w,b)&&(O=!0,N=!0),P++;else if(R.type==="MultiLineString")for(var C=0;C<R.coordinates.length;){O=!1,P=0;for(var q=R.coordinates[C];!O&&P<q.length-1;)I=m.geometry.coordinates[0],v=m.geometry.coordinates[1],M=q[P][0],T=q[P][1],w=q[P+1][0],b=q[P+1][1],p(I,v,M,T,w,b)&&(O=!0,N=!0),P++;C++}else if(R.type==="Polygon"||R.type==="MultiPolygon"){var B={type:"Feature",geometry:R,properties:{}};a(m,B)&&(N=!0)}y++}if(N)return m;var U=_([]);for(y=0;y<g.features.length;y++)U.features=U.features.concat(c(g.features[y]).features);var W,L=1/0;for(y=0;y<U.features.length;y++){var X=S(m,U.features[y],"miles");X<L&&(L=X,W=U.features[y])}return W}function p(g,m,N,y,R,I){var v=Math.sqrt((R-N)*(R-N)+(I-y)*(I-y)),M=Math.sqrt((g-N)*(g-N)+(m-y)*(m-y)),T=Math.sqrt((R-g)*(R-g)+(I-m)*(I-m));if(v===M+T)return!0}E.exports=f},{"@turf/center":319,"@turf/distance":323,"@turf/explode":326,"@turf/helpers":329,"@turf/inside":330}],319:[function(h,E,u){arguments[4][57][0].apply(u,arguments)},{"@turf/bbox":320,"@turf/helpers":322,dup:57}],320:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":321,dup:18}],321:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],322:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],323:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":324,"@turf/invariant":325,dup:8}],324:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],325:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],326:[function(h,E,u){arguments[4][52][0].apply(u,arguments)},{"@turf/helpers":327,"@turf/meta":328,dup:52}],327:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],328:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],329:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],330:[function(h,E,u){arguments[4][72][0].apply(u,arguments)},{"@turf/invariant":331,dup:72}],331:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],332:[function(h,E,u){var _=h("geojson-random");E.exports=function(d,S,a){switch(a=a||{},S=S||1,d){case"point":case"points":case void 0:return _.point(S,a.bbox);case"polygon":case"polygons":return _.polygon(S,a.num_vertices,a.max_radial_length,a.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},{"geojson-random":333}],333:[function(h,E,u){E.exports=function(){throw new Error("call .point() or .polygon() instead")};function _(y){return y?p(y):[a(),c()]}E.exports.position=_,E.exports.point=function(y,R){var I=[];for(i=0;i<y;i++)I.push(m(R?f(_(R)):f()));return N(I)},E.exports.polygon=function(y,R,I,v){typeof R!="number"&&(R=10),typeof I!="number"&&(I=10);var M=[];for(i=0;i<y;i++){var T=[],w=Array.apply(null,new Array(R+1)).map(Math.random);w.forEach(b),w.forEach(P),T[T.length-1]=T[0],T=T.map(d(_(v))),M.push(m(g([T])))}function b(O,D,C){C[D]=D>0?O+C[D-1]:O}function P(O,D){O=O*2*Math.PI/w[w.length-1];var C=Math.random();T.push([C*I*Math.sin(O),C*I*Math.cos(O)])}return N(M)};function d(y){return function(R,I){return[R[0]+y[0],R[1]+y[1]]}}function S(){return Math.random()-.5}function a(){return S()*360}function c(){return S()*180}function f(y){return{type:"Point",coordinates:y||[a(),c()]}}function p(y){return[Math.random()*(y[2]-y[0])+y[0],Math.random()*(y[3]-y[1])+y[1]]}function g(y){return{type:"Polygon",coordinates:y}}function m(y){return{type:"Feature",geometry:y,properties:{}}}function N(y){return{type:"FeatureCollection",features:y}}},{}],334:[function(h,E,u){var _=h("@turf/helpers").featureCollection;E.exports=function(S,a){var c=_(d(S.features,a));return c};function d(S,a){for(var c=S.slice(0),f=S.length,p=f-a,g,m;f-- >p;)m=Math.floor((f+1)*Math.random()),g=c[m],c[m]=c[f],c[f]=g;return c.slice(p)}},{"@turf/helpers":335}],335:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],336:[function(h,E,u){var _=h("simplify-js"),d=["LineString","MultiLineString","Polygon","MultiPolygon"];E.exports=function(g,m,N){return g.type==="Feature"?c(S(g,m,N),g.properties):g.type==="FeatureCollection"?{type:"FeatureCollection",features:g.features.map(function(y){var R=S(y,m,N);return d.indexOf(R.type)>-1?c(R,y.properties):R})}:g.type==="GeometryCollection"?{type:"GeometryCollection",geometries:g.geometries.map(function(y){return d.indexOf(y.type)>-1?S({type:"Feature",geometry:y},m,N):y})}:g};function S(g,m,N){return g.geometry.type==="LineString"?{type:"LineString",coordinates:f(g.geometry.coordinates,m,N)}:g.geometry.type==="MultiLineString"?{type:"MultiLineString",coordinates:g.geometry.coordinates.map(function(y){return f(y,m,N)})}:g.geometry.type==="Polygon"?{type:"Polygon",coordinates:p(g.geometry.coordinates,m,N)}:g.geometry.type==="MultiPolygon"?{type:"MultiPolygon",coordinates:g.geometry.coordinates.map(function(y){return p(y,m,N)})}:g}function a(g){return g.length<3?!1:!(g.length===3&&g[2][0]===g[0][0]&&g[2][1]===g[0][1])}function c(g,m){return{type:"Feature",geometry:g,properties:m}}function f(g,m,N){return _(g.map(function(y){return{x:y[0],y:y[1],z:y[2]}}),m,N).map(function(y){return y.z?[y.x,y.y,y.z]:[y.x,y.y]})}function p(g,m,N){return g.map(function(y){var R=y.map(function(v){return{x:v[0],y:v[1]}});if(R.length<4)throw new Error("Invalid polygon");for(var I=_(R,m,N).map(function(v){return[v.x,v.y]});!a(I);)m-=m*.01,I=_(R,m,N).map(function(v){return[v.x,v.y]});return(I[I.length-1][0]!==I[0][0]||I[I.length-1][1]!==I[0][1])&&I.push(I[0]),I})}},{"simplify-js":337}],337:[function(h,E,u){(function(){function _(f,p){var g=f.x-p.x,m=f.y-p.y;return g*g+m*m}function d(f,p,g){var m=p.x,N=p.y,y=g.x-m,R=g.y-N;if(y!==0||R!==0){var I=((f.x-m)*y+(f.y-N)*R)/(y*y+R*R);I>1?(m=g.x,N=g.y):I>0&&(m+=y*I,N+=R*I)}return y=f.x-m,R=f.y-N,y*y+R*R}function S(f,p){for(var g=f[0],m=[g],N,y=1,R=f.length;y<R;y++)N=f[y],_(N,g)>p&&(m.push(N),g=N);return g!==N&&m.push(N),m}function a(f,p){var g=f.length,m=typeof Uint8Array<"u"?Uint8Array:Array,N=new m(g),y=0,R=g-1,I=[],v=[],M,T,w,b;for(N[y]=N[R]=1;R;){for(T=0,M=y+1;M<R;M++)w=d(f[M],f[y],f[R]),w>T&&(b=M,T=w);T>p&&(N[b]=1,I.push(y,b,b,R)),R=I.pop(),y=I.pop()}for(M=0;M<g;M++)N[M]&&v.push(f[M]);return v}function c(f,p,g){var m=p!==void 0?p*p:1;return f=g?f:S(f,m),f=a(f,m),f}typeof E<"u"?E.exports=c:typeof self<"u"?self.simplify=c:window.simplify=c})()},{}],338:[function(h,E,u){arguments[4][156][0].apply(u,arguments)},{"@turf/bbox":339,"@turf/distance":341,"@turf/helpers":344,dup:156}],339:[function(h,E,u){arguments[4][18][0].apply(u,arguments)},{"@turf/meta":340,dup:18}],340:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],341:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":342,"@turf/invariant":343,dup:8}],342:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],343:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],344:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],345:[function(h,E,u){arguments[4][186][0].apply(u,arguments)},{"@turf/distance":346,dup:186}],346:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":347,"@turf/invariant":348,dup:8}],347:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],348:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],349:[function(h,E,u){var _=h("@turf/inside");E.exports=function(d,S,a,c){return d=JSON.parse(JSON.stringify(d)),S=JSON.parse(JSON.stringify(S)),d.features.forEach(function(f){f.properties||(f.properties={}),S.features.forEach(function(p){if(f.properties[c]===void 0){var g=_(f,p);g&&(f.properties[c]=p.properties[a])}})}),d}},{"@turf/inside":350}],350:[function(h,E,u){arguments[4][72][0].apply(u,arguments)},{"@turf/invariant":351,dup:72}],351:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],352:[function(h,E,u){var _=h("@turf/helpers").polygon,d=h("earcut");E.exports=function(c){if(!c.geometry||c.geometry.type!=="Polygon"&&c.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var f={type:"FeatureCollection",features:[]};return c.geometry.type==="Polygon"?f.features=S(c.geometry.coordinates):c.geometry.coordinates.forEach(function(p){f.features=f.features.concat(S(p))}),f};function S(c){var f=a(c),p=2,g=d(f.vertices,f.holes,p),m=[],N=[];g.forEach(function(I,v){var M=g[v];N.push([f.vertices[M*p],f.vertices[M*p+1]])});for(var y=0;y<N.length;y+=3){var R=N.slice(y,y+3);R.push(N[y]),m.push(_([R]))}return m}function a(c){for(var f=c[0][0].length,p={vertices:[],holes:[],dimensions:f},g=0,m=0;m<c.length;m++){for(var N=0;N<c[m].length;N++)for(var y=0;y<f;y++)p.vertices.push(c[m][N][y]);m>0&&(g+=c[m-1].length,p.holes.push(g))}return p}},{"@turf/helpers":353,earcut:354}],353:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],354:[function(h,E,u){E.exports=_;function _(F,Y,H){H=H||2;var z=Y&&Y.length,J=z?Y[0]*H:F.length,G=d(F,0,J,H,!0),k=[];if(!G)return k;var j,rt,it,Q,lt,st,ct;if(z&&(G=m(F,Y,G,H)),F.length>80*H){j=it=F[0],rt=Q=F[1];for(var vt=H;vt<J;vt+=H)lt=F[vt],st=F[vt+1],lt<j&&(j=lt),st<rt&&(rt=st),lt>it&&(it=lt),st>Q&&(Q=st);ct=Math.max(it-j,Q-rt)}return a(G,k,H,j,rt,ct),k}function d(F,Y,H,z,J){var G,k;if(J===ot(F,Y,H,z)>0)for(G=Y;G<H;G+=z)k=W(G,F[G],F[G+1],k);else for(G=H-z;G>=Y;G-=z)k=W(G,F[G],F[G+1],k);return k&&O(k,k.next)&&(L(k),k=k.next),k}function S(F,Y){if(!F)return F;Y||(Y=F);var H=F,z;do if(z=!1,!H.steiner&&(O(H,H.next)||P(H.prev,H,H.next)===0)){if(L(H),H=Y=H.prev,H===H.next)return null;z=!0}else H=H.next;while(z||H!==Y);return Y}function a(F,Y,H,z,J,G,k){if(F){!k&&G&&I(F,z,J,G);for(var j=F,rt,it;F.prev!==F.next;){if(rt=F.prev,it=F.next,G?f(F,z,J,G):c(F)){Y.push(rt.i/H),Y.push(F.i/H),Y.push(it.i/H),L(F),F=it.next,j=it.next;continue}if(F=it,F===j){k?k===1?(F=p(F,Y,H),a(F,Y,H,z,J,G,2)):k===2&&g(F,Y,H,z,J,G):a(S(F),Y,H,z,J,G,1);break}}}}function c(F){var Y=F.prev,H=F,z=F.next;if(P(Y,H,z)>=0)return!1;for(var J=F.next.next;J!==F.prev;){if(w(Y.x,Y.y,H.x,H.y,z.x,z.y,J.x,J.y)&&P(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function f(F,Y,H,z){var J=F.prev,G=F,k=F.next;if(P(J,G,k)>=0)return!1;for(var j=J.x<G.x?J.x<k.x?J.x:k.x:G.x<k.x?G.x:k.x,rt=J.y<G.y?J.y<k.y?J.y:k.y:G.y<k.y?G.y:k.y,it=J.x>G.x?J.x>k.x?J.x:k.x:G.x>k.x?G.x:k.x,Q=J.y>G.y?J.y>k.y?J.y:k.y:G.y>k.y?G.y:k.y,lt=M(j,rt,Y,H,z),st=M(it,Q,Y,H,z),ct=F.nextZ;ct&&ct.z<=st;){if(ct!==F.prev&&ct!==F.next&&w(J.x,J.y,G.x,G.y,k.x,k.y,ct.x,ct.y)&&P(ct.prev,ct,ct.next)>=0)return!1;ct=ct.nextZ}for(ct=F.prevZ;ct&&ct.z>=lt;){if(ct!==F.prev&&ct!==F.next&&w(J.x,J.y,G.x,G.y,k.x,k.y,ct.x,ct.y)&&P(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}return!0}function p(F,Y,H){var z=F;do{var J=z.prev,G=z.next.next;!O(J,G)&&D(J,z,z.next,G)&&q(J,G)&&q(G,J)&&(Y.push(J.i/H),Y.push(z.i/H),Y.push(G.i/H),L(z),L(z.next),z=F=G),z=z.next}while(z!==F);return z}function g(F,Y,H,z,J,G){var k=F;do{for(var j=k.next.next;j!==k.prev;){if(k.i!==j.i&&b(k,j)){var rt=U(k,j);k=S(k,k.next),rt=S(rt,rt.next),a(k,Y,H,z,J,G),a(rt,Y,H,z,J,G);return}j=j.next}k=k.next}while(k!==F)}function m(F,Y,H,z){var J=[],G,k,j,rt,it;for(G=0,k=Y.length;G<k;G++)j=Y[G]*z,rt=G<k-1?Y[G+1]*z:F.length,it=d(F,j,rt,z,!1),it===it.next&&(it.steiner=!0),J.push(T(it));for(J.sort(N),G=0;G<J.length;G++)y(J[G],H),H=S(H,H.next);return H}function N(F,Y){return F.x-Y.x}function y(F,Y){if(Y=R(F,Y),Y){var H=U(Y,F);S(H,H.next)}}function R(F,Y){var H=Y,z=F.x,J=F.y,G=-1/0,k;do{if(J<=H.y&&J>=H.next.y){var j=H.x+(J-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(j<=z&&j>G){if(G=j,j===z){if(J===H.y)return H;if(J===H.next.y)return H.next}k=H.x<H.next.x?H:H.next}}H=H.next}while(H!==Y);if(!k)return null;if(z===G)return k.prev;var rt=k,it=k.x,Q=k.y,lt=1/0,st;for(H=k.next;H!==rt;)z>=H.x&&H.x>=it&&w(J<Q?z:G,J,it,Q,J<Q?G:z,J,H.x,H.y)&&(st=Math.abs(J-H.y)/(z-H.x),(st<lt||st===lt&&H.x>k.x)&&q(H,F)&&(k=H,lt=st)),H=H.next;return k}function I(F,Y,H,z){var J=F;do J.z===null&&(J.z=M(J.x,J.y,Y,H,z)),J.prevZ=J.prev,J.nextZ=J.next,J=J.next;while(J!==F);J.prevZ.nextZ=null,J.prevZ=null,v(J)}function v(F){var Y,H,z,J,G,k,j,rt,it=1;do{for(H=F,F=null,G=null,k=0;H;){for(k++,z=H,j=0,Y=0;Y<it&&(j++,z=z.nextZ,!!z);Y++);for(rt=it;j>0||rt>0&&z;)j===0?(J=z,z=z.nextZ,rt--):rt===0||!z||H.z<=z.z?(J=H,H=H.nextZ,j--):(J=z,z=z.nextZ,rt--),G?G.nextZ=J:F=J,J.prevZ=G,G=J;H=z}G.nextZ=null,it*=2}while(k>1);return F}function M(F,Y,H,z,J){return F=32767*(F-H)/J,Y=32767*(Y-z)/J,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,F|Y<<1}function T(F){var Y=F,H=F;do Y.x<H.x&&(H=Y),Y=Y.next;while(Y!==F);return H}function w(F,Y,H,z,J,G,k,j){return(J-k)*(Y-j)-(F-k)*(G-j)>=0&&(F-k)*(z-j)-(H-k)*(Y-j)>=0&&(H-k)*(G-j)-(J-k)*(z-j)>=0}function b(F,Y){return F.next.i!==Y.i&&F.prev.i!==Y.i&&!C(F,Y)&&q(F,Y)&&q(Y,F)&&B(F,Y)}function P(F,Y,H){return(Y.y-F.y)*(H.x-Y.x)-(Y.x-F.x)*(H.y-Y.y)}function O(F,Y){return F.x===Y.x&&F.y===Y.y}function D(F,Y,H,z){return O(F,Y)&&O(H,z)||O(F,z)&&O(H,Y)?!0:P(F,Y,H)>0!=P(F,Y,z)>0&&P(H,z,F)>0!=P(H,z,Y)>0}function C(F,Y){var H=F;do{if(H.i!==F.i&&H.next.i!==F.i&&H.i!==Y.i&&H.next.i!==Y.i&&D(H,H.next,F,Y))return!0;H=H.next}while(H!==F);return!1}function q(F,Y){return P(F.prev,F,F.next)<0?P(F,Y,F.next)>=0&&P(F,F.prev,Y)>=0:P(F,Y,F.prev)<0||P(F,F.next,Y)<0}function B(F,Y){var H=F,z=!1,J=(F.x+Y.x)/2,G=(F.y+Y.y)/2;do H.y>G!=H.next.y>G&&J<(H.next.x-H.x)*(G-H.y)/(H.next.y-H.y)+H.x&&(z=!z),H=H.next;while(H!==F);return z}function U(F,Y){var H=new X(F.i,F.x,F.y),z=new X(Y.i,Y.x,Y.y),J=F.next,G=Y.prev;return F.next=Y,Y.prev=F,H.next=J,J.prev=H,z.next=H,H.prev=z,G.next=z,z.prev=G,z}function W(F,Y,H,z){var J=new X(F,Y,H);return z?(J.next=z.next,J.prev=z,z.next.prev=J,z.next=J):(J.prev=J,J.next=J),J}function L(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function X(F,Y,H){this.i=F,this.x=Y,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}_.deviation=function(F,Y,H,z){var J=Y&&Y.length,G=J?Y[0]*H:F.length,k=Math.abs(ot(F,0,G,H));if(J)for(var j=0,rt=Y.length;j<rt;j++){var it=Y[j]*H,Q=j<rt-1?Y[j+1]*H:F.length;k-=Math.abs(ot(F,it,Q,H))}var lt=0;for(j=0;j<z.length;j+=3){var st=z[j]*H,ct=z[j+1]*H,vt=z[j+2]*H;lt+=Math.abs((F[st]-F[vt])*(F[ct+1]-F[st+1])-(F[st]-F[ct])*(F[vt+1]-F[st+1]))}return k===0&&lt===0?0:Math.abs((lt-k)/k)};function ot(F,Y,H,z){for(var J=0,G=Y,k=H-z;G<H;G+=z)J+=(F[k]-F[G])*(F[G+1]+F[k+1]),k=G;return J}_.flatten=function(F){for(var Y=F[0][0].length,H={vertices:[],holes:[],dimensions:Y},z=0,J=0;J<F.length;J++){for(var G=0;G<F[J].length;G++)for(var k=0;k<Y;k++)H.vertices.push(F[J][G][k]);J>0&&(z+=F[J-1].length,H.holes.push(z))}return H}},{}],355:[function(h,E,u){arguments[4][82][0].apply(u,arguments)},{"@turf/helpers":356,dup:82}],356:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],357:[function(h,E,u){var _=h("@turf/helpers").featureCollection,d=h("@turf/helpers").polygon,S=h("@turf/distance");E.exports=function(a,c,f){for(var p=_([]),g=c/S([a[0],a[1]],[a[2],a[1]],f),m=g*(a[2]-a[0]),N=c/S([a[0],a[1]],[a[0],a[3]],f),y=N*(a[3]-a[1]),R=0,I=a[0];I<=a[2];){for(var v=0,M=a[1];M<=a[3];)R%2===0&&v%2===0?p.features.push(d([[[I,M],[I,M+y],[I+m,M],[I,M]]]),d([[[I,M+y],[I+m,M+y],[I+m,M],[I,M+y]]])):R%2===0&&v%2===1?p.features.push(d([[[I,M],[I+m,M+y],[I+m,M],[I,M]]]),d([[[I,M],[I,M+y],[I+m,M+y],[I,M]]])):v%2===0&&R%2===1?p.features.push(d([[[I,M],[I,M+y],[I+m,M+y],[I,M]]]),d([[[I,M],[I+m,M+y],[I+m,M],[I,M]]])):v%2===1&&R%2===1&&p.features.push(d([[[I,M],[I,M+y],[I+m,M],[I,M]]]),d([[[I,M+y],[I+m,M+y],[I+m,M],[I,M+y]]])),M+=y,v++;R++,I+=m}return p}},{"@turf/distance":358,"@turf/helpers":361}],358:[function(h,E,u){arguments[4][8][0].apply(u,arguments)},{"@turf/helpers":359,"@turf/invariant":360,dup:8}],359:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],360:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],361:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],362:[function(h,E,u){E.exports=function(a,c,f){if(c=c||6,f=f||2,a===void 0)throw new Error("layer is required");switch(a.type){case"FeatureCollection":return a.features=a.features.map(function(p){return _(p,c,f)}),a;case"Feature":return _(a,c,f);default:throw new Error("invalid type")}};function _(a,c,f){return f!==void 0&&(a.geometry.coordinates=S(a.geometry.coordinates,0,f)),a.geometry.coordinates=d(a.geometry.coordinates,c),a}function d(a,c){return a.map(function(f){return typeof f=="object"?d(f,c):Number(f.toFixed(c))})}function S(a,c,f){return typeof a[0]!="object"?a.slice(c,f):a.map(function(p){return S(p,c,f)})}},{}],363:[function(h,E,u){arguments[4][84][0].apply(u,arguments)},{dup:84,jsts:364}],364:[function(h,E,u){arguments[4][28][0].apply(u,arguments)},{dup:28}],365:[function(h,E,u){var _=h("simplepolygon"),d=h("@turf/flatten"),S=h("@turf/meta").featureEach,a=h("@turf/helpers").featureCollection;E.exports=function(c){var f=a([]);return S(c,function(p){p.geometry.type==="MultiPolygon"&&(p=d(p)),S(p,function(g){var m=_(g);S(m,function(N){N.properties=g.properties?g.properties:{},f.features.push(N)})})}),f}},{"@turf/flatten":370,"@turf/helpers":374,"@turf/meta":375,simplepolygon:383}],366:[function(h,E,u){arguments[4][12][0].apply(u,arguments)},{"@mapbox/geojson-area":367,"@turf/meta":368,dup:12}],367:[function(h,E,u){arguments[4][13][0].apply(u,arguments)},{dup:13,wgs84:369}],368:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],369:[function(h,E,u){arguments[4][15][0].apply(u,arguments)},{dup:15}],370:[function(h,E,u){arguments[4][132][0].apply(u,arguments)},{"@turf/helpers":371,"@turf/invariant":372,"@turf/meta":373,dup:132}],371:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],372:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],373:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],374:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],375:[function(h,E,u){arguments[4][14][0].apply(u,arguments)},{dup:14}],376:[function(h,E,u){var _=h("@turf/inside"),d=h("@turf/helpers").featureCollection;E.exports=function(S,a){for(var c=d([]),f=0;f<a.features.length;f++)for(var p=0;p<S.features.length;p++){var g=_(S.features[p],a.features[f]);g&&c.features.push(S.features[p])}return c}},{"@turf/helpers":377,"@turf/inside":378}],377:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],378:[function(h,E,u){arguments[4][72][0].apply(u,arguments)},{"@turf/invariant":379,dup:72}],379:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],380:[function(h,E,u){var _=h("rbush");E.exports=function(a,c,f){if(a.geometry.type!="Polygon")throw new Error("The input feature must be a Polygon");f||(f=1);var p=a.geometry.coordinates,g=[],m={};if(f){for(var N=[],y=0;y<p.length;y++)for(var R=0;R<p[y].length-1;R++)N.push(b(y,R));var I=_();I.load(N)}for(var y=0;y<p.length;y++)for(var R=0;R<p[y].length-1;R++)if(f){var v=I.search(b(y,R));v.forEach(function(D){var C=D.ring,q=D.edge;w(y,R,C,q)})}else for(var M=0;M<p.length;M++)for(var T=0;T<p[M].length-1;T++)w(y,R,M,T);return c||(g={type:"Feature",geometry:{type:"MultiPoint",coordinates:g}}),g;function w(P,O,D,C){var q=p[P][O],B=p[P][O+1],U=p[D][C],W=p[D][C+1],L=d(q,B,U,W);if(L!=null){var X=(L[0]-q[0])/(B[0]-q[0]),ot=(L[0]-U[0])/(W[0]-U[0]);if(!(X>=1||X<=0||ot>=1||ot<=0)){var F=L,Y=!m[F];Y&&(m[F]=!0),c?g.push(c(L,P,O,q,B,X,D,C,U,W,ot,Y)):g.push(L)}}}function b(P,O){var D=p[P][O],C=p[P][O+1];if(D[0]<C[0])var q=D[0],B=C[0];else var q=C[0],B=D[0];if(D[1]<C[1])var U=D[1],W=C[1];else var U=C[1],W=D[1];return{minX:q,minY:U,maxX:B,maxY:W,ring:P,edge:O}}};function d(a,c,f,p){if(S(a,f)||S(a,p)||S(c,f)||S(p,f))return null;var g=a[0],m=a[1],N=c[0],y=c[1],R=f[0],I=f[1],v=p[0],M=p[1],T=(g-N)*(I-M)-(m-y)*(R-v);if(T==0)return null;var w=((g*y-m*N)*(R-v)-(g-N)*(R*M-I*v))/T,b=((g*y-m*N)*(I-M)-(m-y)*(R*M-I*v))/T;return[w,b]}function S(a,c){if(!a||!c||a.length!=c.length)return!1;for(var f=0,p=a.length;f<p;f++)if(a[f]instanceof Array&&c[f]instanceof Array){if(!S(a[f],c[f]))return!1}else if(a[f]!=c[f])return!1;return!0}},{rbush:382}],381:[function(h,E,u){arguments[4][74][0].apply(u,arguments)},{dup:74}],382:[function(h,E,u){arguments[4][75][0].apply(u,arguments)},{dup:75,quickselect:381}],383:[function(h,E,u){(function(_){var d=h("geojson-polygon-self-intersections"),S=h("@turf/helpers"),a=h("@turf/within"),c=h("@turf/area"),f=h("rbush");E.exports=function(I){if(_.hrtime(),I.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(I.geometry===void 0||I.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(I.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var v=I.geometry.coordinates.length,M=[],F=0;F<v;F++){var T=I.geometry.coordinates[F];y(T[0],T[T.length-1])||T.push(T[0]),M.push.apply(M,T.slice(0,T.length-1))}if(!R(M))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var w=M.length,b=d(I,function(zt,Rt,ke,Et,Oe,Mr,Ni,Vt,or,Ci,Jt,_e){return[zt,Rt,ke,Et,Oe,Mr,Ni,Vt,or,Ci,Jt,_e]}),P=b.length;if(P==0){for(var G=[],F=0;F<v;F++)G.push(S.polygon([I.geometry.coordinates[F]],{parent:-1,winding:N(I.geometry.coordinates[F])}));var at=S.featureCollection(G);return Nn(),sr(),at}for(var O=[],D=[],F=0;F<v;F++){O.push([]);for(var C=0;C<I.geometry.coordinates[F].length-1;C++)O[F].push([new p(I.geometry.coordinates[F][(C+1).modulo(I.geometry.coordinates[F].length-1)],1,[F,C],[F,(C+1).modulo(I.geometry.coordinates[F].length-1)],void 0)]),D.push(new g(I.geometry.coordinates[F][C],[F,(C-1).modulo(I.geometry.coordinates[F].length-1)],[F,C],void 0,void 0,!1,!0))}for(var F=0;F<P;F++)O[b[F][1]][b[F][2]].push(new p(b[F][0],b[F][5],[b[F][1],b[F][2]],[b[F][6],b[F][7]],void 0)),b[F][11]&&D.push(new g(b[F][0],[b[F][1],b[F][2]],[b[F][6],b[F][7]],void 0,void 0,!0,!0));for(var q=D.length,F=0;F<O.length;F++)for(var C=0;C<O[F].length;C++)O[F][C].sort(function(Rt,ke){return Rt.param<ke.param?-1:1});allIsectsAsIsectRbushTreeItem=[];for(var F=0;F<q;F++)allIsectsAsIsectRbushTreeItem.push({minX:D[F].coord[0],minY:D[F].coord[1],maxX:D[F].coord[0],maxY:D[F].coord[1],index:F});var B=f();B.load(allIsectsAsIsectRbushTreeItem);for(var F=0;F<O.length;F++)for(var C=0;C<O[F].length;C++)for(var U=0;U<O[F][C].length;U++){var W;U==O[F][C].length-1?W=O[F][(C+1).modulo(I.geometry.coordinates[F].length-1)][0].coord:W=O[F][C][U+1].coord;var L=B.search({minX:W[0],minY:W[1],maxX:W[0],maxY:W[1]})[0];O[F][C][U].nxtIsectAlongEdgeIn=L.index}for(var F=0;F<O.length;F++)for(var C=0;C<O[F].length;C++)for(var U=0;U<O[F][C].length;U++){var W=O[F][C][U].coord,L=B.search({minX:W[0],minY:W[1],maxX:W[0],maxY:W[1]})[0],X=L.index;X<w?D[X].nxtIsectAlongRingAndEdge2=O[F][C][U].nxtIsectAlongEdgeIn:y(D[X].ringAndEdge1,O[F][C][U].ringAndEdgeIn)?D[X].nxtIsectAlongRingAndEdge1=O[F][C][U].nxtIsectAlongEdgeIn:D[X].nxtIsectAlongRingAndEdge2=O[F][C][U].nxtIsectAlongEdgeIn}for(var ot=[],F=0,C=0;C<v;C++){for(var Y=F,U=0;U<I.geometry.coordinates[C].length-1;U++)D[F].coord[0]<D[Y].coord[0]&&(Y=F),F++;for(var H=D[Y].nxtIsectAlongRingAndEdge2,U=0;U<D.length;U++)if(D[U].nxtIsectAlongRingAndEdge1==Y||D[U].nxtIsectAlongRingAndEdge2==Y){var z=U;break}var J=m([D[z].coord,D[Y].coord,D[H].coord],!0)?1:-1;ot.push({isect:Y,parent:-1,winding:J})}ot.sort(function(Yt,zt){return D[Yt.isect].coord>D[zt.isect].coord?-1:1});for(var G=[];ot.length>0;){var k=ot.pop(),j=k.isect,rt=k.parent,it=k.winding,Q=G.length,lt=[D[j].coord],st=j;if(D[j].ringAndEdge1Walkable)var ct=D[j].ringAndEdge1,vt=D[j].nxtIsectAlongRingAndEdge1;else var ct=D[j].ringAndEdge2,vt=D[j].nxtIsectAlongRingAndEdge2;for(;!y(D[j].coord,D[vt].coord);){lt.push(D[vt].coord);for(var Re=void 0,F=0;F<ot.length;F++)if(ot[F].isect==vt){Re=F;break}if(Re!=null&&ot.splice(Re,1),y(ct,D[vt].ringAndEdge1)){if(ct=D[vt].ringAndEdge2,D[vt].ringAndEdge2Walkable=!1,D[vt].ringAndEdge1Walkable){var Qt={isect:vt};m([D[st].coord,D[vt].coord,D[D[vt].nxtIsectAlongRingAndEdge2].coord],it==1)?(Qt.parent=rt,Qt.winding=-it):(Qt.parent=Q,Qt.winding=it),ot.push(Qt)}st=vt,vt=D[vt].nxtIsectAlongRingAndEdge2}else{if(ct=D[vt].ringAndEdge1,D[vt].ringAndEdge1Walkable=!1,D[vt].ringAndEdge2Walkable){var Qt={isect:vt};m([D[st].coord,D[vt].coord,D[D[vt].nxtIsectAlongRingAndEdge1].coord],it==1)?(Qt.parent=rt,Qt.winding=-it):(Qt.parent=Q,Qt.winding=it),ot.push(Qt)}st=vt,vt=D[vt].nxtIsectAlongRingAndEdge1}}lt.push(D[vt].coord),G.push(S.polygon([lt],{index:Q,parent:rt,winding:it,netWinding:void 0}))}var at=S.featureCollection(G);Nn(),sr();function Nn(){for(var Yt=[],zt=0;zt<at.features.length;zt++)at.features[zt].properties.parent==-1&&Yt.push(zt);if(Yt.length>1)for(var zt=0;zt<Yt.length;zt++){for(var Rt=-1,ke=1/0,Et=0;Et<at.features.length;Et++)Yt[zt]!=Et&&a(S.featureCollection([S.point(at.features[Yt[zt]].geometry.coordinates[0][0])]),S.featureCollection([at.features[Et]])).features.length==1&&c(at.features[Et])<ke&&(Rt=Et);at.features[Yt[zt]].properties.parent=Rt}}function sr(){for(var Yt=0;Yt<at.features.length;Yt++)if(at.features[Yt].properties.parent==-1){var zt=at.features[Yt].properties.winding;at.features[Yt].properties.netWinding=zt,$e(Yt,zt)}}function $e(Yt,zt){for(var Rt=0;Rt<at.features.length;Rt++)if(at.features[Rt].properties.parent==Yt){var ke=zt+at.features[Rt].properties.winding;at.features[Rt].properties.netWinding=ke,$e(Rt,ke)}}return at};var p=function(I,v,M,T,w){this.coord=I,this.param=v,this.ringAndEdgeIn=M,this.ringAndEdgeOut=T,this.nxtIsectAlongEdgeIn=w},g=function(I,v,M,T,w,b,P){this.coord=I,this.ringAndEdge1=v,this.ringAndEdge2=M,this.nxtIsectAlongRingAndEdge1=T,this.nxtIsectAlongRingAndEdge2=w,this.ringAndEdge1Walkable=b,this.ringAndEdge2Walkable=P};function m(I,v){if(typeof v>"u"&&(v=!0),I.length!=3)throw new Error("This function requires an array of three points [x,y]");var M=(I[1][0]-I[0][0])*(I[2][1]-I[0][1])-(I[1][1]-I[0][1])*(I[2][0]-I[0][0]);return M>=0==v}function N(I){for(var v=0,M=0;M<I.length-1;M++)I[M][0]<I[v][0]&&(v=M);if(m([I[(v-1).modulo(I.length-1)],I[v],I[(v+1).modulo(I.length-1)]],!0))var T=1;else var T=-1;return T}function y(I,v){if(!I||!v||I.length!=v.length)return!1;for(var M=0,T=I.length;M<T;M++)if(I[M]instanceof Array&&v[M]instanceof Array){if(!y(I[M],v[M]))return!1}else if(I[M]!=v[M])return!1;return!0}Number.prototype.modulo=function(I){return(this%I+I)%I};function R(I){for(var v={},M=1,T=0,w=I.length;T<w;++T){if(v.hasOwnProperty(I[T])){M=0;break}v[I[T]]=1}return M}}).call(this,h("_process"))},{"@turf/area":366,"@turf/helpers":374,"@turf/within":376,_process:389,"geojson-polygon-self-intersections":380,rbush:382}],384:[function(h,E,u){arguments[4][376][0].apply(u,arguments)},{"@turf/helpers":385,"@turf/inside":386,dup:376}],385:[function(h,E,u){arguments[4][6][0].apply(u,arguments)},{dup:6}],386:[function(h,E,u){arguments[4][72][0].apply(u,arguments)},{"@turf/invariant":387,dup:72}],387:[function(h,E,u){arguments[4][4][0].apply(u,arguments)},{dup:4}],388:[function(h,E,u){var _=h("util/"),d=Array.prototype.slice,S=Object.prototype.hasOwnProperty,a=E.exports=m;a.AssertionError=function(w){this.name="AssertionError",this.actual=w.actual,this.expected=w.expected,this.operator=w.operator,w.message?(this.message=w.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var b=w.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var P=new Error;if(P.stack){var O=P.stack,D=b.name,C=O.indexOf(`
`+D);if(C>=0){var q=O.indexOf(`
`,C+1);O=O.substring(q+1)}this.stack=O}}},_.inherits(a.AssertionError,Error);function c(T,w){return _.isUndefined(w)?""+w:_.isNumber(w)&&!isFinite(w)||_.isFunction(w)||_.isRegExp(w)?w.toString():w}function f(T,w){return _.isString(T)?T.length<w?T:T.slice(0,w):T}function p(T){return f(JSON.stringify(T.actual,c),128)+" "+T.operator+" "+f(JSON.stringify(T.expected,c),128)}function g(T,w,b,P,O){throw new a.AssertionError({message:b,actual:T,expected:w,operator:P,stackStartFunction:O})}a.fail=g;function m(T,w){T||g(T,!0,w,"==",a.ok)}a.ok=m,a.equal=function(w,b,P){w!=b&&g(w,b,P,"==",a.equal)},a.notEqual=function(w,b,P){w==b&&g(w,b,P,"!=",a.notEqual)},a.deepEqual=function(w,b,P){N(w,b)||g(w,b,P,"deepEqual",a.deepEqual)};function N(T,w){if(T===w)return!0;if(_.isBuffer(T)&&_.isBuffer(w)){if(T.length!=w.length)return!1;for(var b=0;b<T.length;b++)if(T[b]!==w[b])return!1;return!0}else return _.isDate(T)&&_.isDate(w)?T.getTime()===w.getTime():_.isRegExp(T)&&_.isRegExp(w)?T.source===w.source&&T.global===w.global&&T.multiline===w.multiline&&T.lastIndex===w.lastIndex&&T.ignoreCase===w.ignoreCase:!_.isObject(T)&&!_.isObject(w)?T==w:R(T,w)}function y(T){return Object.prototype.toString.call(T)=="[object Arguments]"}function R(T,w){if(_.isNullOrUndefined(T)||_.isNullOrUndefined(w)||T.prototype!==w.prototype)return!1;if(_.isPrimitive(T)||_.isPrimitive(w))return T===w;var b=y(T),P=y(w);if(b&&!P||!b&&P)return!1;if(b)return T=d.call(T),w=d.call(w),N(T,w);var O=M(T),D=M(w),C,q;if(O.length!=D.length)return!1;for(O.sort(),D.sort(),q=O.length-1;q>=0;q--)if(O[q]!=D[q])return!1;for(q=O.length-1;q>=0;q--)if(C=O[q],!N(T[C],w[C]))return!1;return!0}a.notDeepEqual=function(w,b,P){N(w,b)&&g(w,b,P,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(w,b,P){w!==b&&g(w,b,P,"===",a.strictEqual)},a.notStrictEqual=function(w,b,P){w===b&&g(w,b,P,"!==",a.notStrictEqual)};function I(T,w){return!T||!w?!1:Object.prototype.toString.call(w)=="[object RegExp]"?w.test(T):T instanceof w?!0:w.call({},T)===!0}function v(T,w,b,P){var O;_.isString(b)&&(P=b,b=null);try{w()}catch(D){O=D}if(P=(b&&b.name?" ("+b.name+").":".")+(P?" "+P:"."),T&&!O&&g(O,b,"Missing expected exception"+P),!T&&I(O,b)&&g(O,b,"Got unwanted exception"+P),T&&O&&b&&!I(O,b)||!T&&O)throw O}a.throws=function(T,w,b){v.apply(this,[!0].concat(d.call(arguments)))},a.doesNotThrow=function(T,w){v.apply(this,[!1].concat(d.call(arguments)))},a.ifError=function(T){if(T)throw T};var M=Object.keys||function(T){var w=[];for(var b in T)S.call(T,b)&&w.push(b);return w}},{"util/":392}],389:[function(h,E,u){var _=E.exports={},d=[],S=!1;function a(){if(!S){S=!0;for(var f,p=d.length;p;){f=d,d=[];for(var g=-1;++g<p;)f[g]();p=d.length}S=!1}}_.nextTick=function(f){d.push(f),S||setTimeout(a,0)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={};function c(){}_.on=c,_.addListener=c,_.once=c,_.off=c,_.removeListener=c,_.removeAllListeners=c,_.emit=c,_.binding=function(f){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(f){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],390:[function(h,E,u){typeof Object.create=="function"?E.exports=function(d,S){d.super_=S,d.prototype=Object.create(S.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:E.exports=function(d,S){d.super_=S;var a=function(){};a.prototype=S.prototype,d.prototype=new a,d.prototype.constructor=d}},{}],391:[function(h,E,u){E.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},{}],392:[function(h,E,u){(function(_,d){var S=/%[sdj%]/g;u.format=function(G){if(!D(G)){for(var k=[],j=0;j<arguments.length;j++)k.push(f(arguments[j]));return k.join(" ")}for(var j=1,rt=arguments,it=rt.length,Q=String(G).replace(S,function(st){if(st==="%%")return"%";if(j>=it)return st;switch(st){case"%s":return String(rt[j++]);case"%d":return Number(rt[j++]);case"%j":try{return JSON.stringify(rt[j++])}catch{return"[Circular]"}default:return st}}),lt=rt[j];j<it;lt=rt[++j])b(lt)||!U(lt)?Q+=" "+lt:Q+=" "+f(lt);return Q},u.deprecate=function(G,k){if(q(d.process))return function(){return u.deprecate(G,k).apply(this,arguments)};if(_.noDeprecation===!0)return G;var j=!1;function rt(){if(!j){if(_.throwDeprecation)throw new Error(k);_.traceDeprecation?console.trace(k):console.error(k),j=!0}return G.apply(this,arguments)}return rt};var a={},c;u.debuglog=function(G){if(q(c)&&(c=_.env.NODE_DEBUG||""),G=G.toUpperCase(),!a[G])if(new RegExp("\\b"+G+"\\b","i").test(c)){var k=_.pid;a[G]=function(){var j=u.format.apply(u,arguments);console.error("%s %d: %s",G,k,j)}}else a[G]=function(){};return a[G]};function f(G,k){var j={seen:[],stylize:g};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),w(k)?j.showHidden=k:k&&u._extend(j,k),q(j.showHidden)&&(j.showHidden=!1),q(j.depth)&&(j.depth=2),q(j.colors)&&(j.colors=!1),q(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=p),N(j,G,j.depth)}u.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p(G,k){var j=f.styles[k];return j?"\x1B["+f.colors[j][0]+"m"+G+"\x1B["+f.colors[j][1]+"m":G}function g(G,k){return G}function m(G){var k={};return G.forEach(function(j,rt){k[j]=!0}),k}function N(G,k,j){if(G.customInspect&&k&&X(k.inspect)&&k.inspect!==u.inspect&&!(k.constructor&&k.constructor.prototype===k)){var rt=k.inspect(j,G);return D(rt)||(rt=N(G,rt,j)),rt}var it=y(G,k);if(it)return it;var Q=Object.keys(k),lt=m(Q);if(G.showHidden&&(Q=Object.getOwnPropertyNames(k)),L(k)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return R(k);if(Q.length===0){if(X(k)){var st=k.name?": "+k.name:"";return G.stylize("[Function"+st+"]","special")}if(B(k))return G.stylize(RegExp.prototype.toString.call(k),"regexp");if(W(k))return G.stylize(Date.prototype.toString.call(k),"date");if(L(k))return R(k)}var ct="",vt=!1,Re=["{","}"];if(T(k)&&(vt=!0,Re=["[","]"]),X(k)){var Qt=k.name?": "+k.name:"";ct=" [Function"+Qt+"]"}if(B(k)&&(ct=" "+RegExp.prototype.toString.call(k)),W(k)&&(ct=" "+Date.prototype.toUTCString.call(k)),L(k)&&(ct=" "+R(k)),Q.length===0&&(!vt||k.length==0))return Re[0]+ct+Re[1];if(j<0)return B(k)?G.stylize(RegExp.prototype.toString.call(k),"regexp"):G.stylize("[Object]","special");G.seen.push(k);var at;return vt?at=I(G,k,j,lt,Q):at=Q.map(function(Nn){return v(G,k,j,lt,Nn,vt)}),G.seen.pop(),M(at,ct,Re)}function y(G,k){if(q(k))return G.stylize("undefined","undefined");if(D(k)){var j="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(j,"string")}if(O(k))return G.stylize(""+k,"number");if(w(k))return G.stylize(""+k,"boolean");if(b(k))return G.stylize("null","null")}function R(G){return"["+Error.prototype.toString.call(G)+"]"}function I(G,k,j,rt,it){for(var Q=[],lt=0,st=k.length;lt<st;++lt)J(k,String(lt))?Q.push(v(G,k,j,rt,String(lt),!0)):Q.push("");return it.forEach(function(ct){ct.match(/^\d+$/)||Q.push(v(G,k,j,rt,ct,!0))}),Q}function v(G,k,j,rt,it,Q){var lt,st,ct;if(ct=Object.getOwnPropertyDescriptor(k,it)||{value:k[it]},ct.get?ct.set?st=G.stylize("[Getter/Setter]","special"):st=G.stylize("[Getter]","special"):ct.set&&(st=G.stylize("[Setter]","special")),J(rt,it)||(lt="["+it+"]"),st||(G.seen.indexOf(ct.value)<0?(b(j)?st=N(G,ct.value,null):st=N(G,ct.value,j-1),st.indexOf(`
`)>-1&&(Q?st=st.split(`
`).map(function(vt){return"  "+vt}).join(`
`).substr(2):st=`
`+st.split(`
`).map(function(vt){return"   "+vt}).join(`
`))):st=G.stylize("[Circular]","special")),q(lt)){if(Q&&it.match(/^\d+$/))return st;lt=JSON.stringify(""+it),lt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(lt=lt.substr(1,lt.length-2),lt=G.stylize(lt,"name")):(lt=lt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),lt=G.stylize(lt,"string"))}return lt+": "+st}function M(G,k,j){var rt=G.reduce(function(it,Q){return Q.indexOf(`
`)>=0,it+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return rt>60?j[0]+(k===""?"":k+`
 `)+" "+G.join(`,
  `)+" "+j[1]:j[0]+k+" "+G.join(", ")+" "+j[1]}function T(G){return Array.isArray(G)}u.isArray=T;function w(G){return typeof G=="boolean"}u.isBoolean=w;function b(G){return G===null}u.isNull=b;function P(G){return G==null}u.isNullOrUndefined=P;function O(G){return typeof G=="number"}u.isNumber=O;function D(G){return typeof G=="string"}u.isString=D;function C(G){return typeof G=="symbol"}u.isSymbol=C;function q(G){return G===void 0}u.isUndefined=q;function B(G){return U(G)&&F(G)==="[object RegExp]"}u.isRegExp=B;function U(G){return typeof G=="object"&&G!==null}u.isObject=U;function W(G){return U(G)&&F(G)==="[object Date]"}u.isDate=W;function L(G){return U(G)&&(F(G)==="[object Error]"||G instanceof Error)}u.isError=L;function X(G){return typeof G=="function"}u.isFunction=X;function ot(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}u.isPrimitive=ot,u.isBuffer=h("./support/isBuffer");function F(G){return Object.prototype.toString.call(G)}function Y(G){return G<10?"0"+G.toString(10):G.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var G=new Date,k=[Y(G.getHours()),Y(G.getMinutes()),Y(G.getSeconds())].join(":");return[G.getDate(),H[G.getMonth()],k].join(" ")}u.log=function(){console.log("%s - %s",z(),u.format.apply(u,arguments))},u.inherits=h("inherits"),u._extend=function(G,k){if(!k||!U(k))return G;for(var j=Object.keys(k),rt=j.length;rt--;)G[j[rt]]=k[j[rt]];return G};function J(G,k){return Object.prototype.hasOwnProperty.call(G,k)}}).call(this,h("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":391,_process:389,inherits:390}]},{},[1])(1)});var Ii,co,fo,go,po,mo,vo,yo,xo,Eo,Io,No,Co;const Pa={name:"CityMap",mounted(){Ii=he.map(this.$refs.map,{center:this.$store.state.citymap.center,zoom:this.$store.state.citymap.zoom,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSensitivity:1});const E=new Date().getFullYear();he.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Map data &copy; "+'<a href="https://openstreetmap.org">OpenStreetMap</a>'+" & Contributors",maxZoom:20,minZoom:1}).addTo(Ii),Ii.attributionControl.addAttribution("Litter data &copy; OpenLitterMap & Contributors "+E),this.addDataToLayerGroups()},computed:{center(){return this.$store.state.citymap.center},geojson(){return this.$store.state.citymap.data},hex(){return this.$store.state.citymap.hex},zoom(){return this.$store.state.citymap.zoom}},methods:{addDataToLayerGroups(){co=new he.LayerGroup,fo=new he.LayerGroup,go=new he.LayerGroup,po=new he.LayerGroup,mo=new he.LayerGroup().addTo(Ii),vo=new he.LayerGroup,yo=new he.LayerGroup,xo=new he.LayerGroup,Eo=new he.LayerGroup,Io=new he.LayerGroup,No=new he.LayerGroup,Co=new he.LayerGroup;const h={smoking:co,food:fo,coffee:go,alcohol:po,softdrinks:mo,sanitary:vo,other:yo,coastal:xo,brands:Eo,dogshit:Io,industrial:Co,dumping:No};this.geojson.features.map(u=>{ba.map(_=>{u.properties[_]&&Ma[_].map(d=>{u.properties[_][d]&&he.marker([u.properties.lat,u.properties.lon]).addTo(h[_]).bindPopup(Mo.getMapImagePopupContent(u.properties),Mo.popupOptions)})})});let E={Alcohol:po,Brands:Eo,Coastal:xo,Coffee:go,Dumping:No,Food:fo,Industrial:Co,Other:yo,PetSurprise:Io,Sanitary:vo,Smoking:co,SoftDrinks:mo};he.control.layers(null,E).addTo(Ii)}}};var Ta=function(){var E=this,u=E._self._c;return u("div",{ref:"map",attrs:{id:"hexmap"}})},Oa=[],_a=Po(Pa,Ta,Oa,!1,null,"86894abe");const Aa=_a.exports,Da={name:"CityMapContainer",components:{Loading:Ra,CityMap:Aa},data(){return{loading:!0}},async created(){this.loading=!0;let h=window.location.href.split("/"),E=null,u=null,_=null;h.length===11&&(E=h[8],u=h[9],_=h[10]),await this.$store.dispatch("GET_CITY_DATA",{city:h[6],min:E,max:u,hex:_}),this.loading=!1}};var Fa=function(){var E=this,u=E._self._c;return u("div",{staticClass:"cmc"},[E.loading?u("loading",{attrs:{active:E.loading,"is-full-page":!0},on:{"update:active":function(_){E.loading=_}}}):u("CityMap")],1)},qa=[],Ga=Po(Da,Fa,qa,!1,null,"a4ca41ed");const Ya=Ga.exports;export{Ya as default};
