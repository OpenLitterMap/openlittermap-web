import{n as p}from"./app-DVgw5rzq.js";Date.prototype.getWeekNumber=function(t){if(!t){let a=(this.getDay()+6)%7;this.setDate(this.getDate()-a+3)}let e=new Date(this.getFullYear(),0,4);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)};class C{constructor(e,a,i,s){this.sundayStart=e,this.leftAndRightDays=a,this.dateFormat=i,this.dayNames=s}formatDate(e){let a=e.getDate(),i=e.getMonth()+1,s=e.getFullYear(),n=this.dateFormat.replace("dd",a.toString());return n=n.replace("mm",i.toString()),n=n.replace("yyyy",s.toString()),n.split(" ")[0]}getDateFromFormat(e){let a=this.dateFormat.split(" ")[0];if(e=e.split(" ")[0],a.indexOf("/")!==-1)a=a.split("/"),e=e.split("/");else if(a.indexOf("-")!==-1)a=a.split("-"),e=e.split("-");else if(a.indexOf(".")!==-1)a=a.split("."),e=e.split(".");else throw new Error("Your date format not valid. Please read documentation.!");let i=a.indexOf("yyyy"),s=a.indexOf("mm"),n=a.indexOf("dd");return new Date(e[i],e[s]-1,e[n])}checkValidDate(e){return e=this.getDateFromFormat(e),e!="Invalid Date"}getWeeksInMonth(e,a){let i=[],s=new Date(a,e,1),n=new Date(a,e+1,0),r=n.getDate(),l=1,o=this.sundayStart?7-s.getDay():s.getDay()===0?1:7-s.getDay()+1;for(;l<=r;)i.push({year:a,start:l,end:o,number:new Date(a,e,l).getWeekNumber(this.sundayStart),days:[]}),l=o+1,o=o+7,o>r&&(o=r);return{weeks:i,month:n.getMonth(),year:n.getFullYear()}}getLeftMonthDays(e,a){let s=this.getWeeksInMonth(e,a).weeks[0],n=s.end-s.start+1,r=[],l=0,o=0;if(n!==7){let d=this.getWeeksInMonth(e-1,a),f=d.weeks[d.weeks.length-1];for(let h=f.start;h<=f.end;h++)r.push(h);o=d.month,l=d.year}return{days:r.reverse(),month:o,year:l}}getRightMonthDays(e,a){let i=this.getWeeksInMonth(e,a),s=i.weeks[i.weeks.length-1],n=s.end-s.start+1,r=[],l=0,o=0;if(n!==7){let d=this.getWeeksInMonth(e+1,a),f=d.weeks[0];for(let h=f.start;h<=f.end;h++)r.push(h);o=d.month,l=d.year}return{days:r,month:o,year:l}}getFinalizedWeeks(e,a){let i=this.getWeeksInMonth(e,a),s=this.getLeftMonthDays(e,a),n=this.getRightMonthDays(e,a);return i.weeks.forEach(r=>{for(let l=r.start;l<=r.end;l++)r.days.push({day:l,month:i.month,year:i.year,hide:!1,hideLeftAndRightDays:!1})}),s.days.length&&s.days.forEach(r=>{let l=!1;this.leftAndRightDays||(r="",l=!0),i.weeks[0].days.unshift({day:r,month:s.month,year:s.year,hide:!0,hideLeftAndRightDays:l})}),n.days.length&&n.days.forEach(r=>{let l=!1;this.leftAndRightDays||(r="",l=!0),i.weeks[i.weeks.length-1].days.push({day:r,month:n.month,year:n.year,hide:!0,hideLeftAndRightDays:l})}),i.weeks.forEach(r=>{delete r.year}),i.weeks}mask(e){let a=this.getDateFromFormat(e).getDate().toString().length,i=this.getDateFromFormat(e).getMonth(),s="00";a===1&&(s="0");let n="00";i+1<=9&&(n="0");let r=this.dateFormat.replace("dd",s).replace("mm",n).replace("yyyy","0000"),l=/[0\*]/,o=/[0-9]/,d="";for(let f=0,h=0;h<r.length&&!(h>=e.length||r[h]==="0"&&e[f].match(o)==null);){for(;r[h].match(l)==null&&e[f]!==r[h];)d+=r[h++];d+=e[f++],h++}return d}}const m=()=>{},y={props:{activeHours:{type:Array,required:!1},activeMinutes:{type:Array,required:!1},borderColor:{type:String,default:""},displayTimeInput:{type:Boolean,default:!1},configs:{type:Object,default:()=>{}},sundayStart:{type:Boolean,default:m},placeholder:{type:[String,Boolean],default:m},dateFormat:{type:String,validator(t){let e=t.split(" ")[1];return e?!!~["HH:MM","HH:mm","hh:MM","hh:mm"].indexOf(e):!0}},canClearRange:{type:Boolean,default:!1},isMultiple:{type:Boolean,default:m},isSeparately:{type:Boolean,default:m},isDatePicker:{type:Boolean,default:m},isMultipleDatePicker:{type:Boolean,default:m},isMultipleDateRange:{type:Boolean,default:m},isDateRange:{type:Boolean,default:m},withTimePicker:{type:Boolean,default:m},calendarsCount:{type:Number},isModal:{type:Boolean,default:m},isTypeable:{type:Boolean,default:m},changeMonthFunction:{type:Boolean,default:m},changeYearFunction:{type:Boolean,default:m},changeYearStep:{type:Number,default:()=>3},changeMonthStep:{type:Number,default:()=>1},newCurrentDate:{type:Date},markedDates:{type:Array,default:()=>[]},markedDateRange:{type:[Object,Array]},disabledDayNames:{type:Array},disabledDates:{type:Array,default:()=>[]},enabledDates:{type:Array,default:()=>[]},limits:{type:[Object,Boolean],default:m},minSelDays:{type:[Number,Boolean],default:m},maxSelDays:{type:[Number,Boolean],default:m},dayNames:{type:Array},monthNames:{type:Array},shortMonthNames:{type:Array},showWeekNumbers:{type:Boolean,default:m},value:{type:Object},transition:{type:Boolean,default:m},hiddenElements:{type:Array},isAutoCloseable:{type:Boolean,default:void 0},isDark:{type:Boolean,default:void 0},isLayoutExpandable:{type:Boolean,default:void 0},titlePosition:{type:String,default:"center"},arrowsPosition:{type:String,default:"space-between"},alwaysUseDefaultClasses:{type:Boolean,default:!1}},data(){return{popoverElement:"",defaultDateFormat:{date:!1,dateTime:!1,hour:"00",minute:"00"},hoveredObject:null,calendar:{currentDate:new Date,selectedDate:!1,selectedDateTime:!1,selectedHour:"00",selectedMinute:"00",selectedDatesItem:"",selectedDates:[],dateRange:{start:"",end:""},multipleDateRange:[]},transitionPrefix:"left",showCalendar:!0,showMonthPicker:!1,showYearPicker:!1,showTimePicker:!1,allowPreDate:!0,allowNextDate:!0,listCalendars:[],fConfigs:{sundayStart:!1,placeholder:!1,dateFormat:"dd/mm/yyyy hh:MM",isMultipleDateRange:!1,isDatePicker:!1,isMultipleDatePicker:!1,isDateRange:!1,withTimePicker:!1,isMultiple:!1,calendarsCount:1,isSeparately:!1,isModal:!1,isTypeable:!1,changeMonthFunction:!1,changeYearFunction:!1,changeYearStep:3,changeMonthStep:1,markedDates:[],markedDateRange:{start:!1,end:!1},limits:!1,minSelDays:!1,maxSelDays:!1,disabledDates:[],enabledDates:[],disabledDayNames:[],dayNames:["Mo","Tu","We","Th","Fr","Sa","Su"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showWeekNumbers:!1,transition:!0,hiddenElements:[],isAutoCloseable:!1,isDark:!1,isLayoutExpandable:!1,titlePosition:"center",arrowsPosition:"space-between"}}}},k={name:"TimePicker",data(){return{startDateActive:!0,currentSelectedDate:""}},props:{height:{type:Number,required:!0},hours:{type:Array,default:function(){return[...Array(24).keys()]},required:!1},minutes:{type:Array,default:function(){return[...Array(60).keys()]},required:!1}},watch:{startDateActive:function(){this.setScrollPosition()}},computed:{getCurrentDate(){return this.currentSelectedDate.date},getCurrentDateTime(){return this.currentSelectedDate.dateTime}},created(){let t=this.$parent.calendar.selectedDates;this.currentSelectedDate=t[t.length-1]},mounted(){let t=this.$parent.calendar.dateRange.start.split(" ")[0],e=this.$parent.calendar.dateRange.end.split(" ")[0];t&&this.$parent.helpCalendar.getDateFromFormat(t)<this.$parent.helpCalendar.getDateFromFormat(e)?this.startDateActive=!1:this.startDateActive=!0,this.setSelectedDateTime(),this.setStyles()},methods:{formatTime(t){return t<10?"0"+t:t},close(){this.$parent.showTimePicker=!1},addMinuteHour(t,e,a){let i="";return i+=e.split(" ")[0],t=="hour"?(i+=" "+a+":",i+=e.split(" ")[1].split(":")[1]):(i+=" "+e.split(" ")[1].split(":")[0]+":",i+=a),i},changeHour(t){if(this.$parent.fConfigs.isDateRange)this.checkStartDate()?this.$parent.calendar.dateRange.start=this.addMinuteHour("hour",this.$parent.calendar.dateRange.start,t):this.$parent.calendar.dateRange.end=this.addMinuteHour("hour",this.$parent.calendar.dateRange.end,t);else if(this.$parent.fConfigs.isMultipleDatePicker){let e=this.$parent.calendar.selectedDates.find(a=>a.date===this.getCurrentDate);e.hour=t}else this.$parent.calendar.selectedHour=t;this.setSelectedDateTime(),this.setScrollPosition()},changeMinute(t){if(this.$parent.fConfigs.isDateRange)this.checkStartDate()?this.$parent.calendar.dateRange.start=this.addMinuteHour("minute",this.$parent.calendar.dateRange.start,t):this.$parent.calendar.dateRange.end=this.addMinuteHour("minute",this.$parent.calendar.dateRange.end,t);else if(this.$parent.fConfigs.isMultipleDatePicker){let e=this.$parent.calendar.selectedDates.find(a=>a.date===this.getCurrentDate);e.minute=t}else this.$parent.calendar.selectedMinute=t;this.setSelectedDateTime(),this.setScrollPosition()},setSelectedDateTime(){if(this.$parent.fConfigs.isDatePicker)this.$parent.calendar.selectedDateTime=this.$parent.calendar.selectedDate+" "+this.$parent.calendar.selectedHour+":"+this.$parent.calendar.selectedMinute;else if(this.$parent.fConfigs.isMultipleDatePicker){let t=this.$parent.calendar.selectedDates.find(e=>e.date===this.getCurrentDate);t.dateTime=t.date+" "+t.hour+":"+t.minute}},checkStartDate(){return this.startDateActive},checkHourActiveClass(t){let e;return this.$parent.fConfigs.isDateRange?this.checkStartDate()?e=this.$parent.calendar.dateRange.start.split(" ")[1].split(":")[0]:e=this.$parent.calendar.dateRange.end.split(" ")[1].split(":")[0]:this.$parent.fConfigs.isMultipleDatePicker?e=this.$parent.calendar.selectedDates.find(a=>a.date===this.getCurrentDate).hour:e=this.$parent.calendar.selectedHour,this.hours.length&&!this.hours.some(a=>a==e)&&(e=this.hours[0]),e==this.formatTime(t)},checkMinuteActiveClass(t){let e;return this.$parent.fConfigs.isDateRange?this.checkStartDate()?e=this.$parent.calendar.dateRange.start.split(":")[1]:e=this.$parent.calendar.dateRange.end.split(":")[1]:this.$parent.fConfigs.isMultipleDatePicker?e=this.$parent.calendar.selectedDates.find(a=>a.date===this.getCurrentDate).minute:e=this.$parent.calendar.selectedMinute,this.minutes.length&&!this.minutes.some(a=>a==e)&&(e=this.minutes[0]),e==this.formatTime(t)},setStyles(){this.setScrollPosition();let t=+this.height-35-85;document.getElementsByClassName("vfc-time-picker__list")[0].style.height=t+"px",document.getElementsByClassName("vfc-time-picker__list")[1].style.height=t+"px"},setScrollPosition(){let t=this.$parent.$refs.mainContainer;this.$nextTick(function(){const e=this.$refs.hourList.querySelector(".vfc-time-picker__item--selected"),a=this.$refs.minuteList.querySelector(".vfc-time-picker__item--selected");this.$refs.hourList.scrollTop=e?e.offsetTop-t.clientHeight/2:0,this.$refs.minuteList.scrollTop=a?a.offsetTop-t.clientHeight/2:0})}}};var v=function(){var e=this,a=e._self._c;return a("div",{staticClass:"vfc-time-picker-container"},[a("div",{staticClass:"vfc-close",on:{click:function(i){return e.close()}}}),a("div",{staticClass:"vfc-modal-time-mechanic"},[a("div",{staticClass:"vfc-modal-time-line",attrs:{id:"time-line"}},[a("span",[e.$parent.fConfigs.isDateRange?[a("span",{class:{"vfc-active":e.startDateActive},on:{click:function(i){e.startDateActive=!0}}},[e._v(e._s(e.$parent.calendar.dateRange.start))]),e.$parent.calendar.dateRange.end?[a("span",[e._v("-")]),a("span",{class:{"vfc-active":!e.startDateActive},on:{click:function(i){e.startDateActive=!1}}},[e._v(e._s(e.$parent.calendar.dateRange.end))])]:e._e()]:e.$parent.fConfigs.isMultipleDatePicker?[e._v(e._s(e.getCurrentDateTime))]:[e._v(e._s(e.$parent.calendar.selectedDateTime))]],2)]),e._m(0),a("div",{staticClass:"vfc-time-picker"},[a("div",{ref:"hourList",staticClass:"vfc-time-picker__list vfc-time-picker__list--hours"},e._l(e.hours,function(i){return a("div",{key:i,staticClass:"vfc-time-picker__item",class:{"vfc-time-picker__item--selected":e.checkHourActiveClass(i)},on:{click:function(s){e.changeHour(e.formatTime(i))}}},[e._v(" "+e._s(e.formatTime(i))+" ")])}),0),a("div",{ref:"minuteList",staticClass:"vfc-time-picker__list vfc-time-picker__list--minutes"},e._l(e.minutes,function(i){return a("div",{key:i,staticClass:"vfc-time-picker__item",class:{"vfc-time-picker__item--selected":e.checkMinuteActiveClass(i)},on:{click:function(s){e.changeMinute(e.formatTime(i))}}},[e._v(" "+e._s(e.formatTime(i))+" ")])}),0)])])])},w=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"titles"},[e("div",[t._v("Hour")]),e("div",[t._v("Minute")])])}],R=p(k,v,w,!1,null,"10658a87");const M=R.exports,_={name:"Arrows",props:{fConfigs:{type:Object,required:!0},allowPreDate:{type:Boolean,required:!0},allowNextDate:{type:Boolean,required:!0},calendarKey:{type:Number,default:0},isMultiple:{type:Boolean,required:!0}},computed:{oneArrows(){return!this.fConfigs.isSeparately&&!this.isMultiple},manyArrows(){return this.fConfigs.isSeparately&&this.isMultiple}}};var F=function(){var e=this,a=e._self._c;return a("div",[e.oneArrows||e.manyArrows?a("div",{staticClass:"vfc-separately-navigation-buttons",class:"vfc-"+e.fConfigs.arrowsPosition},[a("div",{class:{"vfc-cursor-pointer":e.allowPreDate},on:{click:function(i){return e.$parent.PreMonth(e.oneArrows?0:e.calendarKey)}}},[e._t("navigationArrowLeft",function(){return[a("div",{staticClass:"vfc-arrow-left",class:{"vfc-disabled":!e.allowPreDate}})]})],2),a("div",{class:{"vfc-cursor-pointer":e.allowNextDate},on:{click:function(i){return e.$parent.NextMonth(e.oneArrows?0:e.calendarKey)}}},[e._t("navigationArrowRight",function(){return[a("div",{staticClass:"vfc-arrow-right",class:{"vfc-disabled":!e.allowNextDate}})]})],2)]):e._e()])},T=[],S=p(_,F,T,!1,null,null);const $=S.exports,P={name:"WeekNumbers",props:{number:{tyoe:Number,required:!0},borderColor:{type:String,default:""}}};var b=function(){var e=this,a=e._self._c;return a("div",{staticClass:"vfc-day vfc-week-number",style:{borderRightColor:e.borderColor}},[a("span",{staticClass:"vfc-span-day"},[e._v(e._s(e.number))])])},x=[],A=p(P,b,x,!1,null,"334cd43d");const N=A.exports,Y={name:"Day",props:{day_key:{type:Number,required:!0},week:{type:Object,required:!0},day:{type:Object,required:!0},helpCalendar:{type:Object,required:!0},fConfigs:{type:Object,required:!0},calendar:{type:Object,required:!0},alwaysUseDefaultClasses:{type:Boolean,default:!1}},data(){return{toolTip:!1,onNumber:!1}},computed:{startActive(){if(!this.fConfigs.isMultipleDateRange)return(this.day.isDateRangeStart||this.day.isMouseToLeft)&&!this.day.hideLeftAndRightDays;"".inRange||this.inRangeInit();const t=this.day.date.inRange(this.calendar.multipleDateRange),e=this.calendar.multipleDateRange[this.calendar.multipleDateRange.length-1];if(!e)return t;const a=~this.calendar.multipleDateRange.map(s=>s.start).indexOf(this.day.date),i=~this.calendar.multipleDateRange.map(s=>s.end).indexOf(this.day.date);return a===i&&i?t:a&&~a>-1&&this.calendar.multipleDateRange[~a].end||!e.start&&!e.end?a||t:(this.day.isDateRangeStart||this.day.isMouseToLeft)&&!this.day.hideLeftAndRightDays||t},endActive(){if(!this.fConfigs.isMultipleDateRange)return(this.day.isDateRangeEnd||this.day.isMouseToRight)&&!this.day.hideLeftAndRightDays;"".inRange||this.inRangeInit();const t=this.day.date.inRange(this.calendar.multipleDateRange),e=this.calendar.multipleDateRange[this.calendar.multipleDateRange.length-1];if(!e)return t;const a=~this.calendar.multipleDateRange.map(s=>s.start).indexOf(this.day.date),i=~this.calendar.multipleDateRange.map(s=>s.end).indexOf(this.day.date);return a===i&&i?t:i?!0:!e.start&&!e.end?e.start===e.end?!1:i:(this.day.isDateRangeEnd||this.day.isMouseToRight)&&!this.day.hideLeftAndRightDays||t},numberShow(){return this.fConfigs.isMultipleDateRange?!!(~this.calendar.multipleDateRange.map(e=>e.end).indexOf(this.day.date)||~this.calendar.multipleDateRange.map(e=>e.start).indexOf(this.day.date)):!1},timesShow(){let t=this.calendar.multipleDateRange?~this.calendar.multipleDateRange.map(e=>e.end).indexOf(this.day.date):-1;return this.fConfigs.isMultipleDateRange&&t},getDaysNumber(){const t=this.calendar.multipleDateRange.map(s=>s.end).indexOf(this.day.date),e=this.calendar.multipleDateRange.map(s=>s.start).indexOf(this.day.date),a=this.calendar.multipleDateRange.map(s=>s.end).lastIndexOf(this.day.date),i=this.calendar.multipleDateRange.map(s=>s.start).lastIndexOf(this.day.date);return this.toolTip=t!==a||e!==i||t>-1&&e>-1||e>-1&&t>-1,this.toolTip?"·":(t>-1?Number(t):0)||e}},methods:{toolTipTxt(){const t=[],e=this.calendar.multipleDateRange.map(r=>r.end),a=this.calendar.multipleDateRange.map(r=>r.start);let i=0,s=0,n=e.indexOf(this.day.date,i);for(;~e.indexOf(this.day.date,i);)n=e.indexOf(this.day.date,i),t.push(n),i=n+1;for(n=a.indexOf(this.day.date,s);~a.indexOf(this.day.date,s);)n=a.indexOf(this.day.date,s),t.push(n),s=n+1;return t.sort((r,l)=>r-l)},inRangeInit(){//!!!!\\
const t=this.helpCalendar;String.prototype.inRange=function(e){let a=!1;return e.forEach(i=>{const s=+t.getDateFromFormat(i.start.split(" ")[0]),n=+t.getDateFromFormat(i.end.split(" ")[0]),r=+t.getDateFromFormat(this.split(" ")[0]);s!==n&&s&&n&&(a=a||s<r&&r<n)}),a};//!!!!\\
},clearRange(){const t=this.calendar.multipleDateRange.findIndex(e=>e.end===this.day.date);this.calendar.multipleDateRange.splice(t,1)},dayMouseOver(){this.$emit("dayMouseOver",this.day.date)},hasSlot(t="default"){return!!this.$parent.$parent.$slots[t]||!!this.$parent.$parent.$scopedSlots[t]},isDisabledDate(t){const e=this.fConfigs.disabledDates;return this.isDateIncludedInDatesCollection(t,e)||!this.isEnabledDate(t)},isEnabledDate(t){const e=this.fConfigs.enabledDates;return!e.length||this.isDateIncludedInDatesCollection(t,e)},isDateIncludedInDatesCollection(t,e){let a=new Date;a.setHours(0,0,0,0);let i=this.helpCalendar.getDateFromFormat(t);return e.includes(t)||e.includes("beforeToday")&&i.getTime()<a.getTime()||e.includes("afterToday")&&i.getTime()>a.getTime()},getClassNames(t){let e=[];(!this.hasSlot("default")||this.alwaysUseDefaultClasses)&&e.push("vfc-span-day");let a=this.helpCalendar.getDateFromFormat(t.date).getDay()-1;a===-1&&(a=6);let i=this.fConfigs.dayNames[a];this.fConfigs.disabledDayNames.includes(i)&&(t.hide=!0,e.push("vfc-cursor-not-allowed"));let s=this.helpCalendar.getDateFromFormat(t.date);if(new Date().setHours(0,0,0,0),this.isDisabledDate(t.date)&&(e.push("vfc-disabled"),e.push("vfc-cursor-not-allowed")),this.fConfigs.limits){let r=this.helpCalendar.getDateFromFormat(this.fConfigs.limits.min).getTime(),l=this.helpCalendar.getDateFromFormat(this.fConfigs.limits.max).getTime();(s.getTime()<r||s.getTime()>l)&&(e.push("vfc-disabled"),e.push("vfc-cursor-not-allowed"))}if(t.hide&&e.push("vfc-hide"),t.isToday&&e.push("vfc-today"),!t.hideLeftAndRightDays&&!this.fConfigs.disabledDayNames.includes(i)&&(t.isMarked?e.push("vfc-marked"):t.isHovered&&e.push("vfc-hovered"),this.fConfigs.markedDates.includes(t.date)&&e.push("vfc-borderd"),Array.isArray(this.fConfigs.markedDateRange)?this.fConfigs.markedDateRange.forEach(r=>{this.helpCalendar.getDateFromFormat(r.start)<=this.helpCalendar.getDateFromFormat(t.date)&&this.helpCalendar.getDateFromFormat(r.end)>=this.helpCalendar.getDateFromFormat(t.date)&&e.push("vfc-marked"),t.date===r.start?e.push("vfc-start-marked"):t.date===r.end&&e.push("vfc-end-marked")}):this.fConfigs.markedDateRange.start&&this.fConfigs.markedDateRange.end?(this.helpCalendar.getDateFromFormat(this.fConfigs.markedDateRange.start)<=this.helpCalendar.getDateFromFormat(t.date)&&this.helpCalendar.getDateFromFormat(this.fConfigs.markedDateRange.end)>=this.helpCalendar.getDateFromFormat(t.date)&&e.push("vfc-marked"),t.date===this.fConfigs.markedDateRange.start?e.push("vfc-start-marked"):t.date===this.fConfigs.markedDateRange.end&&e.push("vfc-end-marked")):(this.fConfigs.markedDateRange.start&&this.helpCalendar.getDateFromFormat(this.fConfigs.markedDateRange.start)<=this.helpCalendar.getDateFromFormat(t.date)&&e.push("vfc-marked"),this.fConfigs.markedDateRange.end&&this.helpCalendar.getDateFromFormat(this.fConfigs.markedDateRange.end)>=this.helpCalendar.getDateFromFormat(t.date)&&e.push("vfc-marked")),e.push("vfc-hover")),this.fConfigs.isMultipleDateRange&&("".inRange||this.inRangeInit(),(t.isMarked||~this.calendar.multipleDateRange.map(r=>r.start.split(" ")[0]).indexOf(t.date)||~this.calendar.multipleDateRange.map(r=>r.end.split(" ")[0]).indexOf(t.date)||t.date.inRange(this.calendar.multipleDateRange))&&e.push("vfc-marked"),this.fConfigs.markedDates.includes(t.date)&&e.push("vfc-borderd"),~this.calendar.multipleDateRange.map(r=>r.start.split(" ")[0]).indexOf(t.date)&&e.push("vfc-start-marked"),~this.calendar.multipleDateRange.map(r=>r.end.split(" ")[0]).indexOf(t.date)&&e.push("vfc-end-marked")),typeof this.fConfigs.markedDates=="object"){let r=this.fConfigs.markedDates.find(l=>l.date===t.date);typeof r<"u"&&e.push(r.class)}return t.date===this.calendar.dateRange.start.split(" ")[0]&&e.push("vfc-start-marked"),t.date===this.calendar.dateRange.end.split(" ")[0]&&e.push("vfc-end-marked"),(t.date===this.calendar.selectedDate||this.calendar.hasOwnProperty("selectedDates")&&this.calendar.selectedDates.find(r=>r.date===t.date))&&e.push("vfc-borderd"),e}}};var O=function(){var e=this,a=e._self._c;return a("div",{staticClass:"vfc-day"},[e.startActive?a("div",{staticClass:"vfc-base-start"}):e._e(),e.endActive?a("div",{staticClass:"vfc-base-end"}):e._e(),e.day.hideLeftAndRightDays?e._e():a("span",{class:e.getClassNames(e.day),on:{click:function(i){return i.target!==i.currentTarget?null:e.$parent.$parent.clickDay(e.day,e.isDisabledDate)},mouseover:e.dayMouseOver}},[e._t("default",function(){return[e._v(e._s(e.day.day))]},{week:e.week,day:e.day}),e.timesShow?a("span",{staticClass:"times",on:{click:e.clearRange}},[e._v("×")]):e._e(),e.numberShow?a("span",{staticClass:"number",on:{mouseover:function(i){e.toolTip&&(e.onNumber=!0)},mouseleave:function(i){e.onNumber=!1}}},[e._v(e._s(e.getDaysNumber)+" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.toolTip&&e.onNumber,expression:"toolTip && onNumber"}],staticClass:"toolTip"},[e._v(" "+e._s(e.toolTipTxt().join(" "))+" ")])]):e._e()],2)])},E=[],L=p(Y,O,E,!1,null,"2af096af");const H=L.exports,I={name:"MonthYearPicker",props:{calendarKey:{type:Number,default:0},changeYearStep:{type:Number,default:3}},data(){return{delta:0}},watch:{delta(t){t<-new Date().getFullYear()&&(this.delta=0)}},methods:{changePicker(t){if(this.$parent.showMonthPicker){t==="right"?this.$parent.NextYear(this.calendarKey):this.$parent.PreYear(this.calendarKey);return}t==="right"?this.delta+=this.changeYearStep:this.delta-=this.changeYearStep}}};var B=function(){var e=this,a=e._self._c;return a("div",{staticClass:"vfc-months-container"},[a("div",{staticClass:"vfc-content vfc-content-MY-picker"},[a("div",{staticClass:"vfc-navigation-buttons"},[a("div",{on:{click:function(i){return e.changePicker("left")}}},[a("div",{staticClass:"vfc-arrow-left"})]),a("h2",{class:["vfc-top-date",e.delta!==0&&"vfc-top-date-has-delta"],on:{click:function(i){e.delta=0}}},[a("span",{staticClass:"vfc-popover-caret"}),e._v(" "+e._s(e.$parent.listCalendars[e.calendarKey].date.getFullYear())+" ")]),a("div",{on:{click:function(i){return e.changePicker("right")}}},[a("div",{staticClass:"vfc-arrow-right"})])]),a("div",{staticClass:"vfc-months"},[e.$parent.showMonthPicker?e._l(e.$parent.fConfigs.shortMonthNames,function(i,s){return a("div",{key:s,staticClass:"vfc-item",class:{"vfc-selected":e.$parent.listCalendars[e.calendarKey].date.getMonth()===s},on:{click:function(n){return e.$parent.pickMonth(s,e.calendarKey)}}},[e._v(" "+e._s(i)+" ")])}):e.$parent.showYearPicker?e._l(e.$parent.getYearList(e.$parent.listCalendars[e.calendarKey].date,e.delta),function(i,s){return a("div",{key:s,staticClass:"vfc-item",class:{"vfc-selected":e.$parent.listCalendars[e.calendarKey].date.getFullYear()===i.year},on:{click:function(n){return e.$parent.pickYear(i.year,e.calendarKey)}}},[e._v(" "+e._s(i.year)+" ")])}):e._e()],2)])])},W=[],q=p(I,B,W,!1,null,"5a5ef54d");const j=q.exports,U={name:"PickerInputs",props:{fConfigs:{type:Object,required:!0},singleSelectedDate:{type:String,required:!0},calendar:{type:Object,required:!0}},computed:{dateRangeSelectedStartDate:{get(){return this.calendar.dateRange.start?this.calendar.dateRange.start:""},set(t){t=this.helpCalendar.mask(t),this.helpCalendar.getDateFromFormat(t).getMonth()&&(this.calendar.dateRange.start=t)}},dateRangeSelectedEndDate:{get(){return this.calendar.dateRange.end?this.calendar.dateRange.end:""},set(t){t=this.helpCalendar.mask(t),this.helpCalendar.getDateFromFormat(t).getMonth()&&(this.calendar.dateRange.end=t)}}}};var J=function(){var e=this,a=e._self._c;return a("div",[e.fConfigs.isModal&&e.fConfigs.isDateRange?a("div",{staticClass:"vfc-multiple-input",class:{"vfc-dark":e.fConfigs.isDark}},[e._t("dateRangeInputs",function(){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dateRangeSelectedStartDate,expression:"dateRangeSelectedStartDate"}],attrs:{type:"text",title:"Start Date",placeholder:e.fConfigs.placeholder.split(" ")[0],readonly:!e.fConfigs.isTypeable,maxlength:e.fConfigs.dateFormat.length},domProps:{value:e.dateRangeSelectedStartDate},on:{input:function(i){i.target.composing||(e.dateRangeSelectedStartDate=i.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dateRangeSelectedEndDate,expression:"dateRangeSelectedEndDate"}],attrs:{type:"text",title:"End Date",placeholder:e.fConfigs.placeholder.split(" ")[0],readonly:!e.fConfigs.isTypeable,maxlength:e.fConfigs.dateFormat.length},domProps:{value:e.dateRangeSelectedEndDate},on:{input:function(i){i.target.composing||(e.dateRangeSelectedEndDate=i.target.value)}}})]},{startDate:e.dateRangeSelectedStartDate,endDate:e.dateRangeSelectedEndDate,isTypeable:e.fConfigs.isTypeable})],2):e.fConfigs.isModal&&e.fConfigs.isDatePicker?a("div",{class:{"vfc-dark":e.fConfigs.isDark}},[e._t("datePickerInput",function(){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.singleSelectedDate,expression:"singleSelectedDate"}],staticClass:"vfc-single-input",attrs:{type:"text",title:"Date",placeholder:e.fConfigs.placeholder,readonly:!e.fConfigs.isTypeable,maxlength:e.fConfigs.dateFormat.length},domProps:{value:e.singleSelectedDate},on:{input:function(i){i.target.composing||(e.singleSelectedDate=i.target.value)}}})]},{selectedDate:e.singleSelectedDate,isTypeable:e.fConfigs.isTypeable})],2):e.fConfigs.isModal&&e.fConfigs.isMultipleDatePicker?a("div",{staticClass:"vfc-tags-input-root",class:{"vfc-dark":e.fConfigs.isDark}},[a("div",{staticClass:"vfc-tags-input-wrapper-default vfc-tags-input"},[e._l(e.calendar.selectedDates,function(i,s){return a("span",{key:s,staticClass:"vfc-tags-input-badge vfc-tags-input-badge-pill vfc-tags-input-badge-selected-default"},[a("span",{domProps:{innerHTML:e._s(i.date)}}),a("a",{staticClass:"vfc-tags-input-remove",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.removeFromSelectedDates(s)}}})])}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.calendar.selectedDatesItem,expression:"calendar.selectedDatesItem"}],attrs:{type:"text",placeholder:"Add a date"},domProps:{value:e.calendar.selectedDatesItem},on:{keydown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:(i.preventDefault(),e.$parent.addToSelectedDates.apply(null,arguments))},input:function(i){i.target.composing||e.$set(e.calendar,"selectedDatesItem",i.target.value)}}})],2)]):e._e()])},z=[],G=p(U,J,z,!1,null,"d846c6d7");const Q=G.exports,X={name:"Footer"};var Z=function(){var e=this,a=e._self._c;return a("div",{staticClass:"footerCon"},[e._t("cleaner"),e._t("footer")],2)},V=[],K=p(X,Z,V,!1,null,"40e6eac8");const ee=K.exports,te=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),D=()=>new Date().getUTCMilliseconds(),ae={name:"FunctionalCalendar",components:{MonthYearPicker:j,TimePicker:M,PickerInputs:Q,Arrows:$,Footer:ee,Day:H,WeekNumbers:N},mixins:[y],computed:{startDMY(){return this.calendar.dateRange.start?this.calendar.dateRange.start.split(" ")[0]:""},endDMY(){return this.calendar.dateRange.end?this.calendar.dateRange.end.split(" ")[0]:""},rangeIsSelected(){return this.isMultipleDateRange?this.calendar.multipleDateRange.length>0:!!(this.calendar.dateRange.end&&this.calendar.dateRange.start)},helpCalendar(){return new C(this.fConfigs.sundayStart,this.checkHiddenElement("leftAndRightDays"),this.fConfigs.dateFormat,this.fConfigs.dayNames)},singleSelectedDate:{get(){let t="";if(this.displayTimeInput){const e=["HH:MM","HH:mm","hh:MM","hh:mm","MM:HH","mm:HH","MM:hh","mm:hh"];let a=this.fConfigs.dateFormat;this.dateFormat&&(a=this.dateFormat),e.indexOf(a.split(" ")[1])>3?t+=" "+[this.calendar.selectedHour,this.calendar.selectedMinute].reverse().join(":"):t+=" "+[this.calendar.selectedHour,this.calendar.selectedMinute].join(":")}return this.calendar.selectedDate?this.calendar.selectedDate+t:""},set(t){t=this.helpCalendar.mask(t),this.helpCalendar.getDateFromFormat(t).getMonth()&&(this.calendar.selectedDate=t)}}},created(){this.setConfigs(),this.initCalendar()},mounted(){this.displayTimeInput&&(this.fConfigs.placeholder.split(" ")[1]||(this.fConfigs.placeholder+=" hh:mm")),this.popoverElement=this.$refs.popoverElement,this.popoverElement.addEventListener("focusin",this.onFocusIn),this.popoverElement.addEventListener("focusout",this.onFocusOut),window.addEventListener("click",this.hideMonthYearPicker,{capture:!0}),this.$watch("value",function(t){if(typeof t=="object"&&(t.hasOwnProperty("dateRange")||t.hasOwnProperty("selectedDate")))this.calendar=t;else if(typeof t=="object"&&t.hasOwnProperty("multipleDateRange")){this.calendar.multipleDateRange=t.multipleDateRange;const e=this.calendar.multipleDateRange[Math.max(0,this.calendar.multipleDateRange.length-1)];if(e&&(e.start&&!e.end||!e.start&&e.end))throw new Error("Invalid Data Range")}},{immediate:!0,deep:!0}),this.$watch("showCalendar",function(t){t?this.$emit("opened"):this.$emit("closed")},{immediate:!0,deep:!0})},beforeDestroy:function(){window.removeEventListener("focusin",this.onFocusIn),window.removeEventListener("focusout",this.onFocusOut),window.removeEventListener("click",this.hideMonthYearPicker)},watch:{enabledDates:{handler(){this.fConfigs.enabledDates=this.enabledDates},deep:!0},"configs.enabledDates":{handler(){this.fConfigs.enabledDates=this.configs.enabledDates},deep:!0},fConfigs:{handler(){this.markChooseDays()},deep:!0,immediate:!0},calendar:{handler(){this.markChooseDays()},deep:!0,immediate:!0},"calendar.currentDate":{handler(t){this.$emit("input",this.calendar),this.checkLimits(t)}}},methods:{initCalendar(){this.setCalendarData(),this.listRendering(),this.markChooseDays(),this.checkLimits(this.calendar.currentDate)},updateCalendar(){this.setExistingCalendarData(),this.listRendering(),this.markChooseDays()},isNotSeparatelyAndFirst(t){return this.isSeparately||t==0},setCalendarData(){let t=this.calendar.currentDate;t=new Date(t.getFullYear(),t.getMonth()-1),this.listCalendars=[];for(let e=0;e<this.fConfigs.calendarsCount;e++){t=new Date(t.getFullYear(),t.getMonth()+1);let a={key:e+D(),date:t,dateTop:`${this.fConfigs.monthNames[t.getMonth()]} ${t.getFullYear()}`,month:this.fConfigs.monthNames[t.getMonth()],year:t.getFullYear(),weeks:this.helpCalendar.getFinalizedWeeks(t.getMonth(),t.getFullYear())};if(this.listCalendars.push(a),!this.fConfigs.isMultiple)break}},setExistingCalendarData(){for(let t=0;t<this.listCalendars.length;t++){let e=this.listCalendars[t],a=e.date;if(this.$set(this.listCalendars,t,{key:e.key,date:a,dateTop:`${this.fConfigs.monthNames[a.getMonth()]} ${a.getFullYear()}`,month:this.fConfigs.monthNames[a.getMonth()],year:a.getFullYear(),weeks:this.helpCalendar.getFinalizedWeeks(a.getMonth(),a.getFullYear())}),!this.fConfigs.isMultiple)break}},setConfigs(){let t;if(typeof this.$getOptions<"u"&&(t=this.$getOptions(),Object.keys(t).forEach(e=>{typeof this.fConfigs[e]<"u"&&this.$set(this.fConfigs,e,t[e])})),typeof this.configs<"u"?Object.keys(this.fConfigs).forEach(e=>{typeof this.configs[e]<"u"&&this.$set(this.fConfigs,e,this.configs[e])}):Object.keys(this.$props).forEach(e=>{typeof this.fConfigs[e]<"u"&&typeof this.$props[e]<"u"&&this.$set(this.fConfigs,e,this.$props[e])}),this.fConfigs.isModal&&(this.showCalendar=!1),this.fConfigs.placeholder||(this.fConfigs.placeholder=this.fConfigs.dateFormat),typeof this.newCurrentDate<"u"&&(this.calendar.currentDate=this.newCurrentDate),this.fConfigs.sundayStart){let e=[...this.fConfigs.dayNames],a=e[e.length-1];e.splice(e.length-1,1),e.unshift(a),this.fConfigs.dayNames=e}},listRendering(){this.listCalendars.forEach(t=>{t.weeks.forEach(e=>{let a=[];e.days.forEach(i=>{let s=new Date(i.year,i.month,i.day),n=new Date,r=!1;s.setHours(0,0,0,0),n.setHours(0,0,0,0),s.getTime()===n.getTime()&&(r=!0);let l;typeof this.fConfigs.markedDates[0]=="object"?l=this.fConfigs.markedDates.find(d=>d.date===this.helpCalendar.formatDate(s)):l=this.fConfigs.markedDates.find(d=>d===this.helpCalendar.formatDate(s)),this.startDMY===this.helpCalendar.formatDate(s)&&(l=!0);let o=!1;typeof l<"u"&&(o=!0),a.push({day:i.day,date:this.helpCalendar.formatDate(s),hide:i.hide,isMouseToLeft:!1,isMouseToRight:!1,isHovered:!1,isDateRangeStart:this.checkDateRangeStart(this.helpCalendar.formatDate(s)),isDateRangeEnd:this.checkDateRangeEnd(this.helpCalendar.formatDate(s)),hideLeftAndRightDays:i.hideLeftAndRightDays,isToday:r,isMarked:o})}),e.days=a})})},clickDay(t,e){if(this.fConfigs.withTimePicker&&this.fConfigs.isDateRange&&(t.date=t.date+" 00:00"),this.$emit("dayClicked",t),!this.fConfigs.isDateRange&&!this.fConfigs.isDatePicker&&!this.fConfigs.isMultipleDatePicker)return!1;let a=this.helpCalendar.getDateFromFormat(t.date).getDay()-1;a===-1&&(a=6);let i=this.fConfigs.dayNames[a];if(this.fConfigs.disabledDayNames.includes(i)||e(t.date))return!1;if(this.fConfigs.limits){let s=this.helpCalendar.getDateFromFormat(this.fConfigs.limits.min).getTime(),n=this.helpCalendar.getDateFromFormat(this.fConfigs.limits.max).getTime(),r=this.helpCalendar.getDateFromFormat(t.date).getTime();if(r<s||r>n)return!1}if(this.fConfigs.isMultipleDateRange){let s=this.helpCalendar.getDateFromFormat(t.date.split(" ")[0]).getTime(),n=this.calendar.multipleDateRange.length,r=this.calendar.multipleDateRange[n-1],l="";if(r||(this.calendar.multipleDateRange.push({end:"",start:""}),n=this.calendar.multipleDateRange.length,r=this.calendar.multipleDateRange[n-1]),r.start&&(l=this.helpCalendar.getDateFromFormat(r.start)),r.start!==""&&r.end!==""?this.calendar.multipleDateRange.push({end:"",start:t.date}):r.start===""&&r.end===""?r.start=t.date:r.end===""&&s>l.getTime()?r.end=t.date:r.start!==""&&s<=l.getTime()&&(this.$nextTick(()=>{this.calendar.withTimePicker&&(this.$refs.timePicker.startDateActive=!0)}),r.end=r.start,r.start=t.date),r.start!==""&&r.end!==""){let o=864e5,d=this.helpCalendar.getDateFromFormat(r.start),f=this.helpCalendar.getDateFromFormat(r.end),h=Math.round(Math.abs((d.getTime()-f.getTime())/o)),u=this.helpCalendar.getDateFromFormat(t.date).getTime();this.$emit("selectedDaysCount",h),this.fConfigs.isModal&&this.fConfigs.isAutoCloseable&&(this.showCalendar=!1);let c=this.fConfigs.minSelDays;c&&u>=l.getTime()&&h<c&&(l.setDate(l.getDate()+(c-1)),r.end=this.helpCalendar.formatDate(l)),c&&u<l.getTime()&&h<c&&(l.setDate(l.getDate()-(c-1)),r.start=this.helpCalendar.formatDate(l));let g=this.fConfigs.maxSelDays;g&&u>=l.getTime()&&h>=g&&(l.setDate(l.getDate()+(g-1)),r.end=this.helpCalendar.formatDate(l)),g&&u<l.getTime()&&h>=g&&(l.setDate(l.getDate()-(g-1)),r.start=this.helpCalendar.formatDate(l))}this.$emit("input",this.calendar)}else if(this.fConfigs.isDateRange){let s=this.helpCalendar.getDateFromFormat(t.date.split(" ")[0]).getTime(),n="";if(this.calendar.dateRange.start&&(n=this.helpCalendar.getDateFromFormat(this.calendar.dateRange.start)),this.calendar.dateRange.start!==""&&this.calendar.dateRange.end!==""?(this.calendar.dateRange.start=t.date,this.calendar.dateRange.end=""):this.calendar.dateRange.start===""&&this.calendar.dateRange.end===""?this.calendar.dateRange.start=t.date:this.calendar.dateRange.end===""&&s>n.getTime()?this.calendar.dateRange.end=t.date:this.calendar.dateRange.start!==""&&s<=n.getTime()&&(this.$nextTick(()=>{this.calendar.dateRange&&this.calendar.withTimePicker&&(this.$refs.timePicker.startDateActive=!0)}),this.calendar.dateRange.end=this.calendar.dateRange.start,this.calendar.dateRange.start=t.date),this.calendar.dateRange.start!==""&&this.calendar.dateRange.end!==""){let r=864e5,l=this.helpCalendar.getDateFromFormat(this.calendar.dateRange.start),o=this.helpCalendar.getDateFromFormat(this.calendar.dateRange.end),d=Math.round(Math.abs((l.getTime()-o.getTime())/r)),f=this.helpCalendar.getDateFromFormat(t.date).getTime();this.$emit("selectedDaysCount",d),this.fConfigs.isModal&&this.fConfigs.isAutoCloseable&&(this.showCalendar=!1);let h=this.fConfigs.minSelDays;h&&f>=n.getTime()&&d<h&&(n.setDate(n.getDate()+(h-1)),this.calendar.dateRange.end=this.helpCalendar.formatDate(n)),h&&f<n.getTime()&&d<h&&(n.setDate(n.getDate()-(h-1)),this.calendar.dateRange.start=this.helpCalendar.formatDate(n));let u=this.fConfigs.maxSelDays;u&&f>=n.getTime()&&d>=u&&(n.setDate(n.getDate()+(u-1)),this.calendar.dateRange.end=this.helpCalendar.formatDate(n)),u&&f<n.getTime()&&d>=u&&(n.setDate(n.getDate()-(u-1)),this.calendar.dateRange.start=this.helpCalendar.formatDate(n))}this.$emit("input",this.calendar)}else if(this.fConfigs.isDatePicker)this.calendar.selectedDate=t.date,this.$emit("input",this.calendar),this.fConfigs.isModal&&this.fConfigs.isAutoCloseable&&(this.showCalendar=!1);else if(this.fConfigs.isMultipleDatePicker){if(this.calendar.hasOwnProperty("selectedDates")&&this.calendar.selectedDates.find(s=>s.date===t.date)){let s=this.calendar.selectedDates.findIndex(n=>n.date===t.date);this.calendar.selectedDates.splice(s,1)}else{let s=Object.assign({},this.defaultDateFormat);s.date=t.date,this.calendar.hasOwnProperty("selectedDates")||(this.calendar.selectedDates=[]),this.calendar.selectedDates.push(s)}this.$emit("input",this.calendar)}this.markChooseDays(),this.fConfigs.withTimePicker&&((this.fConfigs.isDateRange||this.fConfigs.isDatePicker)&&this.openTimePicker(),this.calendar.selectedDates.find(s=>s.date===t.date)&&this.fConfigs.isMultipleDatePicker&&this.openTimePicker()),this.$emit("choseDay",t)},markChooseDays(){let t=this.startDMY,e=this.endDMY;this.listCalendars.forEach(a=>{a.weeks.forEach(i=>{i.days.forEach(s=>{s.isMarked=!1,s.date=s.date.split(" ")[0],this.fConfigs.isDatePicker?this.calendar.selectedDate===s.date&&(s.isMarked=!0):this.fConfigs.isMultipleDatePicker?this.calendar.hasOwnProperty("selectedDates")&&this.calendar.selectedDates.find(n=>n.date===s.date)&&(s.isMarked=!0):(s.isMouseToLeft=!1,s.isMouseToRight=!1,t===s.date&&(s.isMouseToLeft=!!e,s.isMarked=!0),e===s.date&&(s.isMouseToRight=!!e,s.isMarked=!0),this.calendar.multipleDateRange&&(~this.calendar.multipleDateRange.map(n=>n.start.split(" ")[0]).indexOf(s.date)&&(s.isMouseToLeft=!!e,s.isMarked=!0),~this.calendar.multipleDateRange.map(n=>n.end.split(" ")[0]).indexOf(s.date)&&(s.isMouseToRight=!!e,s.isMarked=!0),this.calendar.multipleDateRange.forEach(n=>{n.start&&n.start===n.end&&(s.isMouseToLeft=!1,s.isMouseToRight=!1),n.start&&n.end&&this.helpCalendar.getDateFromFormat(s.date).getTime()>this.helpCalendar.getDateFromFormat(n.start)&&this.helpCalendar.getDateFromFormat(s.date)<this.helpCalendar.getDateFromFormat(n.end)&&(s.isMarked=!0)})),t&&t===e&&(s.isMouseToLeft=!1,s.isMouseToRight=!1),t&&e&&this.helpCalendar.getDateFromFormat(s.date).getTime()>this.helpCalendar.getDateFromFormat(t)&&this.helpCalendar.getDateFromFormat(s.date)<this.helpCalendar.getDateFromFormat(e)&&(s.isMarked=!0)),this.fConfigs.markedDates.includes(s.date)&&(s.isMarked=!0)})})})},dayMouseOver(t){if(this.$emit("dayMouseOver",t),!this.fConfigs.isDateRange)return!1;if(this.fConfigs.limits){let e=this.helpCalendar.getDateFromFormat(this.fConfigs.limits.min).getTime(),a=this.helpCalendar.getDateFromFormat(this.fConfigs.limits.max).getTime(),i=this.helpCalendar.getDateFromFormat(t).getTime();if(i<e||i>a)return!1}if((this.calendar.dateRange.start===""||this.calendar.dateRange.end==="")&&(this.calendar.dateRange.start!==""||this.calendar.dateRange.end!==""))for(let e=0;e<this.listCalendars.length;e++){let a=this.listCalendars[e];for(let i=0;i<a.weeks.length;i++){let s=a.weeks[i];for(let n=0;n<s.days.length;n++){let r=s.days[n];if(this.listCalendars[e].weeks[i].days[n].isHovered=!1,r.date!==this.startDMY&&!this.fConfigs.markedDates.includes(r.date)&&(this.listCalendars[e].weeks[i].days[n].isMarked=!1),this.calendar.dateRange.start){let l=this.helpCalendar.getDateFromFormat(r.date).getTime(),o=this.helpCalendar.getDateFromFormat(t).getTime(),d=this.helpCalendar.getDateFromFormat(this.calendar.dateRange.start);this.listCalendars[e].weeks[i].days[n].isMouseToLeft=l===d.getTime()&&o>d.getTime()||l===o&&o<d.getTime(),this.listCalendars[e].weeks[i].days[n].isMouseToRight=l===d.getTime()&&o<d.getTime()||l===o&&o>d.getTime();let f=this.helpCalendar.getDateFromFormat(r.date).getDay()-1;f===-1&&(f=6);let h=this.fConfigs.dayNames[f];if(!this.fConfigs.disabledDayNames.includes(h)&&(l>d.getTime()&&l<o||l<d.getTime()&&l>o)&&(this.listCalendars[e].weeks[i].days[n].isMarked=!0),!this.calendar.dateRange.end&&l===o&&(this.listCalendars[e].weeks[i].days[n].isHovered=!1),this.checkSelDates("min",this.calendar.dateRange.start,r.date,t)){this.listCalendars[e].weeks[i].days[n].isMarked=!0;let u,c;c=new Date(d.getTime()),u=new Date(d.getTime()),c.setDate(c.getDate()-this.fConfigs.minSelDays+1),u.setDate(u.getDate()+this.fConfigs.minSelDays-1),o>=c.getTime()&&this.helpCalendar.formatDate(c)===r.date?(this.listCalendars[e].weeks[i].days[n].isMarked=!1,this.listCalendars[e].weeks[i].days[n].isMouseToLeft=!0,this.listCalendars[e].weeks[i].days[n].isHovered=!0):o<=u.getTime()&&this.helpCalendar.formatDate(u)===r.date&&(this.listCalendars[e].weeks[i].days[n].isMarked=!1,this.listCalendars[e].weeks[i].days[n].isMouseToRight=!0,this.listCalendars[e].weeks[i].days[n].isHovered=!0)}if(this.checkSelDates("max",this.calendar.dateRange.start,r.date,t)){this.listCalendars[e].weeks[i].days[n].isMarked=!1,this.listCalendars[e].weeks[i].days[n].isHovered=!1,this.listCalendars[e].weeks[i].days[n].isMouseToLeft=!1,this.listCalendars[e].weeks[i].days[n].isMouseToRight=!1;let u,c;u=new Date(d.getTime()),c=new Date(d.getTime()),u.setDate(u.getDate()-this.fConfigs.maxSelDays+1),c.setDate(c.getDate()+this.fConfigs.maxSelDays-1),o<=u.getTime()&&this.helpCalendar.formatDate(u)===r.date&&(this.listCalendars[e].weeks[i].days[n].isHovered=!0,this.listCalendars[e].weeks[i].days[n].isMouseToLeft=!0),o>=c.getTime()&&this.helpCalendar.formatDate(c)===r.date&&(this.listCalendars[e].weeks[i].days[n].isHovered=!0,this.listCalendars[e].weeks[i].days[n].isMouseToRight=!0)}}}}}if(this.calendar.multipleDateRange){let e=this.calendar.multipleDateRange[this.calendar.multipleDateRange.length-1];if(!e)return;if((e.start===""||e.end==="")&&(e.start!==""||e.end!==""))for(let a=0;a<this.listCalendars.length;a++){let i=this.listCalendars[a];for(let s=0;s<i.weeks.length;s++){let n=i.weeks[s];for(let r=0;r<n.days.length;r++){let l=n.days[r];if(this.listCalendars[a].weeks[s].days[r].isHovered=!1,l.date!==this.startDMY&&!this.fConfigs.markedDates.includes(l.date)&&(this.listCalendars[a].weeks[s].days[r].isMarked=!1),e.start){let o=this.helpCalendar.getDateFromFormat(l.date).getTime(),d=this.helpCalendar.getDateFromFormat(t).getTime(),f=this.helpCalendar.getDateFromFormat(e.start);this.listCalendars[a].weeks[s].days[r].isMouseToLeft=o===f.getTime()&&d>f.getTime()||o===d&&d<f.getTime(),this.listCalendars[a].weeks[s].days[r].isMouseToRight=o===f.getTime()&&d<f.getTime()||o===d&&d>f.getTime();let h=this.helpCalendar.getDateFromFormat(l.date).getDay()-1;h===-1&&(h=6);let u=this.fConfigs.dayNames[h];if(!this.fConfigs.disabledDayNames.includes(u)&&(o>f.getTime()&&o<d||o<f.getTime()&&o>d)&&(this.listCalendars[a].weeks[s].days[r].isMarked=!0),!e.end&&o===d&&(this.listCalendars[a].weeks[s].days[r].isHovered=!1),this.checkSelDates("min",e.start,l.date,t)){this.listCalendars[a].weeks[s].days[r].isMarked=!0;let c,g;g=new Date(f.getTime()),c=new Date(f.getTime()),g.setDate(g.getDate()-this.fConfigs.minSelDays+1),c.setDate(c.getDate()+this.fConfigs.minSelDays-1),d>=g.getTime()&&this.helpCalendar.formatDate(g)===l.date?(this.listCalendars[a].weeks[s].days[r].isMarked=!1,this.listCalendars[a].weeks[s].days[r].isMouseToLeft=!0,this.listCalendars[a].weeks[s].days[r].isHovered=!0):d<=c.getTime()&&this.helpCalendar.formatDate(c)===l.date&&(this.listCalendars[a].weeks[s].days[r].isMarked=!1,this.listCalendars[a].weeks[s].days[r].isMouseToRight=!0,this.listCalendars[a].weeks[s].days[r].isHovered=!0)}if(this.checkSelDates("max",e.start,l.date,t)){this.listCalendars[a].weeks[s].days[r].isMarked=!1,this.listCalendars[a].weeks[s].days[r].isHovered=!1,this.listCalendars[a].weeks[s].days[r].isMouseToLeft=!1,this.listCalendars[a].weeks[s].days[r].isMouseToRight=!1;let c,g;c=new Date(f.getTime()),g=new Date(f.getTime()),c.setDate(c.getDate()-this.fConfigs.maxSelDays+1),g.setDate(g.getDate()+this.fConfigs.maxSelDays-1),d<=c.getTime()&&this.helpCalendar.formatDate(c)===l.date&&(this.listCalendars[a].weeks[s].days[r].isHovered=!0,this.listCalendars[a].weeks[s].days[r].isMouseToLeft=!0),d>=g.getTime()&&this.helpCalendar.formatDate(g)===l.date&&(this.listCalendars[a].weeks[s].days[r].isHovered=!0,this.listCalendars[a].weeks[s].days[r].isMouseToRight=!0)}}}}}}},PreMonth(t=null){if(!this.allowPreDate)return!1;this.transitionPrefix="right";let e=this.fConfigs.changeMonthStep;t=t!==null?t:0;let a=this.listCalendars[t];a.date=new Date(a.date.getFullYear(),a.date.getMonth()-e),a.key-=D(),this.updateCalendar(),this.fConfigs.isSeparately||(this.calendar.currentDate=a.date,this.initCalendar()),this.$emit("changedMonth",a.date)},NextMonth(t=null){if(!this.allowNextDate)return!1;this.transitionPrefix="left";let e=this.fConfigs.changeMonthStep;t=t!==null?t:0;let a=this.listCalendars[t];a.date=new Date(a.date.getFullYear(),a.date.getMonth()+e),a.key+=D(),this.updateCalendar(),this.fConfigs.isSeparately||(this.calendar.currentDate=a.date,this.initCalendar()),this.$emit("changedMonth",a.date)},PreYear(t=null){if(!this.allowPreDate)return!1;let e=this.showYearPicker?this.fConfigs.changeYearStep:1;t=t!==null?t:0;let a=this.listCalendars[t];a.date=new Date(a.date.getFullYear()-e,a.date.getMonth()),this.updateCalendar(),this.fConfigs.isSeparately||(this.calendar.currentDate=a.date,this.initCalendar()),this.$emit("changedYear",a.date)},NextYear(t=null){if(!this.allowNextDate)return!1;let e=this.showYearPicker?this.fConfigs.changeYearStep:1;t=t!==null?t:0;let a=this.listCalendars[t];a.date=new Date(a.date.getFullYear()+e,a.date.getMonth()),this.updateCalendar(),this.fConfigs.isSeparately||(this.calendar.currentDate=a.date,this.initCalendar()),this.$emit("changedYear",a.date)},ChooseDate(t){let e=this.helpCalendar.getDateFromFormat(t);t==="today"&&(e=new Date),this.listCalendars[0].date=this.calendar.currentDate=e,this.updateCalendar(),this.initCalendar()},openMonthPicker(t){this.fConfigs.changeMonthFunction&&(this.showMonthPicker=t===this.showMonthPicker?!1:t,this.showYearPicker=!1)},openYearPicker(t){this.fConfigs.changeYearFunction&&(this.showYearPicker=t===this.showYearPicker?!1:t,this.showMonthPicker=!1)},openTimePicker(){this.showTimePicker=!0},pickMonth(t,e){if(this.showMonthPicker=!1,!this.isSeparately)this.listCalendars.forEach((i,s)=>{let n=i.date;i.date=new Date(n.getFullYear(),t+1+s,0),i.key+=D()});else{let i=this.listCalendars[e],s=i.date;i.date=new Date(s.getFullYear(),t+1,0),i.key+=D()}let a=this.listCalendars[e];this.$emit("changedMonth",a.date),this.updateCalendar()},pickYear(t,e){if(this.showYearPicker=!1,!this.isSeparately)this.listCalendars.forEach(a=>{let i=a.date;a.date=new Date(t,i.getMonth()+1,0),a.key+=D(),this.$emit("changedYear",a.date)});else{let a=this.listCalendars[e],i=a.date;a.date=new Date(t,i.getMonth()+1,0),a.key+=D(),this.$emit("changedYear",a.date)}this.updateCalendar()},getYearList(t,e){let a=[],i=t.getFullYear()-4+e;for(let s=0;s<12;s++){let n=i+s;a.push({year:n})}return a},addToSelectedDates(){if(this.helpCalendar.checkValidDate(this.calendar.selectedDatesItem)){let t=Object.assign({},this.defaultDateFormat);t.date=this.calendar.selectedDatesItem,this.calendar.selectedDates.push(t),this.calendar.selectedDatesItem="",this.markChooseDays()}},removeFromSelectedDates(t){this.calendar.selectedDates.splice(t,1),this.markChooseDays()},checkDateRangeEnd(t){return Array.isArray(this.fConfigs.markedDateRange)?this.fConfigs.markedDateRange.findIndex(e=>e.end===t)!==-1:t===this.fConfigs.markedDateRange.end},checkSelDates(t,e,a,i){let s=this.helpCalendar.getDateFromFormat(e).getTime(),n=this.helpCalendar.getDateFromFormat(a).getTime(),r=this.helpCalendar.getDateFromFormat(i).getTime(),o=(t==="min"?this.fConfigs.minSelDays:this.fConfigs.maxSelDays-2)*1e3*60*60*24,d=s+o,f=s-o,h;return r>s?t==="min"?h=n<d&&n>s&&this.fConfigs.minSelDays:h=n>d&&n>s&&this.fConfigs.maxSelDays:r<s&&(t==="min"?h=n>f&&n<s&&this.fConfigs.minSelDays:h=n<f&&n<s&&this.fConfigs.maxSelDays),h},checkLimits(t){if(this.fConfigs.limits){let e=new Date(this.helpCalendar.getDateFromFormat(this.fConfigs.limits.min));e.setDate(1),e.setHours(0,0,0,0);let a=new Date(this.helpCalendar.getDateFromFormat(this.fConfigs.limits.max));a.setDate(1),a.setHours(0,0,0,0),this.allowPreDate=!0,this.allowNextDate=!0;let i=new Date(t);i.setDate(1),i.setHours(0,0,0,0),i<=e&&(this.allowPreDate=!1),i>=a&&(this.allowNextDate=!1)}},getTransition_(){if(!this.fConfigs.transition)return"";let t="";return this.transitionPrefix==="left"?t="vfc-calendar-slide-left":this.transitionPrefix==="right"&&(t="vfc-calendar-slide-right"),t},checkHiddenElement(t){return!this.fConfigs.hiddenElements.includes(t)},onFocusIn(){this.fConfigs.isModal&&(this.showCalendar=!0)},onFocusOut(t){if(this.fConfigs.isModal&&!te(this.popoverElement,t.relatedTarget))return this.showCalendar=this.showMonthPicker=this.showYearPicker=!1},hideMonthYearPicker(t){this.$nextTick(()=>{if(this.showMonthPicker||this.showYearPicker){let e=this.showMonthPicker?this.showMonthPicker-1:this.showYearPicker-1;return this.$refs.calendars.querySelectorAll(".vfc-content-MY-picker")[e].contains(t.target)?void 0:this.showMonthPicker=this.showYearPicker=!1}})},checkDateRangeStart(t){return Array.isArray(this.fConfigs.markedDateRange)?this.fConfigs.markedDateRange.findIndex(e=>e.start===t)!==-1:t===this.fConfigs.markedDateRange.start},cleanRange(){if(!this.isMultipleDateRange){this.calendar.dateRange.end="",this.calendar.dateRange.start="";return}this.calendar.multipleDateRange=[]}}};var se=function(){var e=this,a=e._self._c;return a("div",{ref:"popoverElement",staticClass:"vfc-popover-container",attrs:{tabindex:"0"}},[a("PickerInputs",{attrs:{fConfigs:e.fConfigs,singleSelectedDate:e.singleSelectedDate,calendar:e.calendar},scopedSlots:e._u([{key:"dateRangeInputs",fn:function(i){return[e._t("dateRangeInputs",null,{startDate:i.startDate,endDate:i.endDate,isTypeable:e.fConfigs.isTypeable})]}},{key:"datePickerInput",fn:function(i){return[e._t("datePickerInput",null,{selectedDate:i.selectedDate,isTypeable:e.fConfigs.isTypeable})]}}],null,!0)}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCalendar,expression:"showCalendar"}],ref:"mainContainer",staticClass:"vfc-main-container",class:{"vfc-modal":e.fConfigs.isModal&&(e.fConfigs.isDatePicker||e.fConfigs.isDateRange||e.fConfigs.isMultipleDatePicker),"vfc-dark":e.fConfigs.isDark}},[e.showTimePicker?a("time-picker",{ref:"timePicker",attrs:{height:e.$refs.popoverElement.clientHeight,hours:e.activeHours,minutes:e.activeMinutes}}):[a("div",{staticClass:"vfc-calendars-container"},[a("Arrows",{attrs:{isMultiple:!1,fConfigs:e.fConfigs,allowPreDate:e.allowPreDate,allowNextDate:e.allowNextDate},scopedSlots:e._u([{key:"navigationArrowLeft",fn:function(){return[e._t("navigationArrowLeft")]},proxy:!0},{key:"navigationArrowRight",fn:function(){return[e._t("navigationArrowRight")]},proxy:!0}],null,!0)}),a("div",{ref:"calendars",staticClass:"vfc-calendars"},e._l(e.listCalendars,function(i,s){return a("div",{key:i.key,staticClass:"vfc-calendar"},[a("month-year-picker",{directives:[{name:"show",rawName:"v-show",value:e.showMonthPicker===s+1||e.showYearPicker===s+1,expression:`
                showMonthPicker === key + 1 || showYearPicker === key + 1
              `}],ref:"monthContainer",refInFor:!0,class:"vfc-"+e.fConfigs.titlePosition,attrs:{changeYearStep:e.changeYearStep,"calendar-key":s}}),a("div",{staticClass:"vfc-content"},[a("Arrows",{attrs:{isMultiple:!0,fConfigs:e.fConfigs,allowPreDate:e.allowPreDate,allowNextDate:e.allowNextDate,"calendar-key":s},scopedSlots:e._u([{key:"navigationArrowLeft",fn:function(){return[e._t("navigationArrowLeft")]},proxy:!0},{key:"navigationArrowRight",fn:function(){return[e._t("navigationArrowRight")]},proxy:!0}],null,!0)}),a("transition",{attrs:{tag:"div",name:e.getTransition_(),appear:""}},[e.checkHiddenElement("month")?a("div",{staticClass:"vfc-top-date",class:"vfc-"+e.fConfigs.titlePosition},[a("span",{class:{"vfc-cursor-pointer vfc-underline":e.fConfigs.changeMonthFunction&&e.isNotSeparatelyAndFirst(s),"vfc-underline-active":e.showMonthPicker===s+1},on:{click:function(n){n.preventDefault(),e.isNotSeparatelyAndFirst(s)&&e.openMonthPicker(s+1)}}},[e._v(" "+e._s(i.month))]),a("span",{class:{"vfc-cursor-pointer vfc-underline":e.fConfigs.changeYearFunction&&e.isNotSeparatelyAndFirst(s),"vfc-underline-active":e.showYearPicker===s+1},on:{click:function(n){n.preventDefault(),e.isNotSeparatelyAndFirst(s)&&e.openYearPicker(s+1)}}},[e._v(" "+e._s(i.year)+" ")])]):e._e()]),a("transition",{attrs:{tag:"div",name:e.getTransition_(),appear:""}},[a("div",{staticClass:"vfc-dayNames"},[e.fConfigs.showWeekNumbers?a("span"):e._e(),e._l(e.fConfigs.dayNames,function(n,r){return a("span",{key:s+r+1,staticClass:"vfc-day"},[e.checkHiddenElement("dayNames")?[e._v(" "+e._s(n)+" ")]:e._e()],2)})],2)]),a("transition-group",{attrs:{tag:"div",name:e.getTransition_(),appear:""}},[e._l(i.weeks,function(n,r){return a("div",{key:s+r+1,staticClass:"vfc-week"},[e.showWeekNumbers?a("WeekNumbers",{attrs:{number:n.number,borderColor:e.borderColor}}):e._e(),e._l(n.days,function(l,o){return a("Day",{key:s+r+o+1,ref:"day",refInFor:!0,attrs:{isMultipleDateRange:e.isMultipleDateRange,day:l,fConfigs:e.fConfigs,calendar:e.calendar,helpCalendar:e.helpCalendar,week:n,day_key:o,alwaysUseDefaultClasses:e.alwaysUseDefaultClasses},on:{dayMouseOver:e.dayMouseOver},scopedSlots:e._u([{key:"default",fn:function(d){return[e._t("default",null,{week:d.week,day:d.day})]}}],null,!0)})})],2)}),i.weeks.length<6&&!e.fConfigs.isLayoutExpandable?e._l(6-i.weeks.length,function(n){return a("div",{key:s+n+"moreWeek",staticStyle:{height:"32.6px"}},[e._v("   ")])}):e._e()],2)],1)],1)}),0),e.canClearRange||e.$slots.footer?a("Footer",{scopedSlots:e._u([{key:"footer",fn:function(){return[a("div",{on:{click:e.cleanRange}},[e._t("cleaner",function(){return[e.canClearRange&&e.fConfigs.isDateRange?a("div",{staticClass:"rangeCleaner"},[a("span",{class:[e.rangeIsSelected?"active":"disabled"],on:{click:e.cleanRange}},[e._v("Clear Range"+e._s(e.isMultipleDateRange&&"s"))])]):e._e()]})],2),e._t("footer")]},proxy:!0}],null,!0)}):e._e()],1)]],2)],1)},ie=[],ne=p(ae,se,ie,!1,null,null);const le=ne.exports;export{le as F};
