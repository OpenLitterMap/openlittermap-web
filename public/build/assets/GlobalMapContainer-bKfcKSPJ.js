import{L as r}from"./vue-loading-B1aI45xn.js";/* empty css                    */import{S as o}from"./Supercluster-DqDKrQIY.js";import{n}from"./app-DtC4ML0t.js";import"./index-Dxbj43yt.js";import"./mapHelpers-BpumXXX3.js";import"./moment-zH0z38ay.js";import"./glify-browser-BmdISaa5.js";/* empty css            */const s={name:"GlobalMapContainer",components:{Loading:r,Supercluster:o},data(){return{mapHeight:window.outerHeight-72}},async created(){this.isMobile&&this.addEventListenerIfMobile();let i=parseInt(new URLSearchParams(window.location.search).get("year"))||null;await this.$store.dispatch("GET_CLUSTERS",{zoom:2,year:i}),await this.$store.dispatch("GET_ART_DATA"),await this.$store.dispatch("GET_CLEANUPS"),await this.$store.dispatch("GET_MERCHANTS_GEOJSON"),this.$store.commit("globalLoading",!1)},async destroyed(){window.removeEventListener("resize",this.resizeHandler)},computed:{loading(){return this.$store.state.globalmap.loading},isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},methods:{addEventListenerIfMobile(){this.mapHeight=window.innerHeight-72+"px",window.addEventListener("resize",this.resizeHandler)},resizeHandler(){this.mapHeight=window.innerHeight-72+"px"}}};var d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"global-map-container",style:{height:e.mapHeight}},[e.loading?t("loading",{attrs:{active:e.loading,"is-full-page":!0},on:{"update:active":function(a){e.loading=a}}}):t("supercluster")],1)},l=[],p=n(s,d,l,!1,null,"8375a653");const E=p.exports;export{E as default};
