import{L as n}from"./vue-loading-BciPZii2.js";/* empty css                    */import{n as a}from"./app-CEOmuHfi.js";/* empty css            */const r={name:"Payments",components:{Loading:n},async created(){this.loading=!0,this.$store.state.plans.plans.length===0&&await this.$store.dispatch("GET_PLANS"),this.$store.state.user.user.stripe_id&&await this.$store.dispatch("GET_USERS_SUBSCRIPTIONS"),this.loading=!1},data(){return{loading:!0,plan:"Startup"}},computed:{check_for_stripe_id(){return this.$store.state.user.user.stripe_id},current_plan(){return this.plans.find(e=>e.name===this.subscription.name)},plans(){return this.$store.state.plans.plans},subscription(){return this.$store.state.subscriber.subscription}},methods:{async cancel_active_subscription(){await this.$store.dispatch("DELETE_ACTIVE_SUBSCRIPTION")},async resubscribe(){await this.$store.dispatch("RESUBSCRIBE",this.plan)},subscribe(){console.log("todo - load stripe")}}};var o=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{"padding-left":"1em","padding-right":"1em"}},[s("h1",{staticClass:"title is-4"},[t._v(t._s(t.$t("settings.payments.finance")))]),s("hr"),s("br"),s("div",{staticClass:"columns"},[t.loading?s("loading",{attrs:{active:t.loading,"is-full-page":!0},on:{"update:active":function(i){t.loading=i}}}):s("div",{staticClass:"column one-third is-offset-1"},[t.check_for_stripe_id?s("div",[t.subscription.stripe_status==="active"?s("div",[s("p",[t._v("You are currently subscribed to the "),s("strong",{staticClass:"green"},[t._v(t._s(t.subscription.name))]),t._v(" plan")]),s("p",{staticClass:"mb1"},[t._v("Helping us with "),s("strong",{staticClass:"green"},[t._v("â‚¬"+t._s(t.current_plan.price/100))]),t._v(" per month")]),s("p",[t._v("Thank you for helping the development of OpenLitterMap!")]),s("p",{staticClass:"mb1"},[t._v("You can change or cancel your subscription at any time.")]),s("button",{staticClass:"button is-medium is-danger",on:{click:t.cancel_active_subscription}},[t._v("Cancel Subscription")])]):s("div",[s("p",{staticClass:"mb1"},[t._v("You have unsubscribed from "),s("strong",{staticClass:"green"},[t._v(t._s(t.subscription.name))])]),s("p",{staticClass:"mb1"},[t._v("Thank you for supporting the development of OpenLitterMap")]),s("p",[t._v("Please contact us if you would like to resubscribe, or else create a new account. Thanks!")])])]):s("div",[s("p",[t._v(t._s(t.$t("settings.payments.help")))]),s("ul",[s("li",[t._v("- "+t._s(t.$t("settings.payments.support")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.help-costs")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.help-hire")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.help-produce")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.help-write")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.help-outreach")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.help-incentivize")))]),s("li",[t._v("- "+t._s(t.$t("settings.payments.more-soon")))])]),s("button",{staticClass:"button is-medium is-primary",on:{click:t.subscribe}},[t._v(t._s(t.$t("settings.payments.click-to-support")))])])])],1)])},c=[],p=a(r,o,c,!1,null,null);const d=p.exports;export{d as default};
