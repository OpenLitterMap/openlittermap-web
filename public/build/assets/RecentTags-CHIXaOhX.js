import{n as r}from"./app-BKJqQt33.js";const o={name:"RecentTags",props:["photoId"],computed:{recentTags(){return this.$store.state.litter.recentTags},recentCustomTags(){return this.$store.state.litter.recentCustomTags}},methods:{getCategoryName(e){return this.$i18n.t(`litter.categories.${e}`)},getTagName(e,t){return this.$i18n.t(`litter.${e}.${t}`)},addRecentTag(e,t){let s=1;this.$store.state.litter.tags.hasOwnProperty(this.photoId)&&this.$store.state.litter.tags[this.photoId].hasOwnProperty(e)&&this.$store.state.litter.tags[this.photoId][e].hasOwnProperty(t)&&(s=parseInt(this.$store.state.litter.tags[this.photoId][e][t])+1),this.$store.commit("changeCategory",e),this.$store.commit("changeTag",t),this.$store.commit("addTag",{photoId:this.photoId,category:e,tag:t,quantity:s})},addRecentCustomTag(e){this.$store.commit("addCustomTag",{photoId:this.photoId,customTag:e})},clearRecentTags(){this.$store.commit("initRecentTags",{}),this.$store.commit("initRecentCustomTags",[]),this.$localStorage.remove("recentTags"),this.$localStorage.remove("recentCustomTags")},clearRecentTag(e,t){this.$store.commit("removeRecentTag",{category:e,tag:t}),this.$localStorage.set("recentTags",JSON.stringify(this.recentTags))},clearRecentCustomTag(e){this.$store.commit("removeRecentCustomTag",e),this.$localStorage.set("recentCustomTags",JSON.stringify(this.recentCustomTags))}}};var c=function(){var t=this,s=t._self._c;return Object.keys(t.recentTags).length>0||t.recentCustomTags.length?s("div",{staticClass:"tags-container"},[s("p",{staticClass:"recent-tags-title mb-5 has-text-weight-bold"},[t._v(t._s(t.$t("tags.recently-tags")))]),t.recentCustomTags.length?s("div",[s("p",[t._v(t._s(t.$t("tags.custom-tags")))]),s("transition-group",{staticClass:"recent-tags",attrs:{name:"list",tag:"div"}},t._l(t.recentCustomTags,function(a){return s("div",{key:a,staticClass:"litter-tag",on:{click:function(i){return t.addRecentCustomTag(a)}}},[s("span",{staticClass:"close",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.clearRecentCustomTag(a)}}},[s("i",{staticClass:"fa fa-times"})]),s("p",{staticClass:"has-text-white"},[t._v(t._s(a))])])}),0)],1):t._e(),s("transition-group",{attrs:{name:"categories",tag:"div"}},t._l(Object.keys(t.recentTags),function(a){return s("div",{key:a},[s("p",[t._v(t._s(t.getCategoryName(a)))]),s("transition-group",{staticClass:"recent-tags",attrs:{name:"list",tag:"div"}},t._l(Object.keys(t.recentTags[a]),function(i){return s("div",{key:i,staticClass:"litter-tag",on:{click:function(n){return t.addRecentTag(a,i)}}},[s("span",{staticClass:"close",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.clearRecentTag(a,i)}}},[s("i",{staticClass:"fa fa-times"})]),s("p",{staticClass:"has-text-white"},[t._v(t._s(t.getTagName(a,i)))])])}),0)],1)}),0),s("div",{staticClass:"clear-tags-button"},[s("button",{staticClass:"button is-danger is-small tooltip",on:{click:t.clearRecentTags}},[s("span",{staticClass:"tooltip-text"},[t._v(t._s(t.$t("tags.clear-tags-btn")))]),s("i",{staticClass:"fa fa-trash"})])])],1):t._e()},l=[],g=r(o,c,l,!1,null,"8cffa47b");const h=g.exports;export{h as R};
