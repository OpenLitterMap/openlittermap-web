import{n as r,V as i}from"./app-CFZqWuKE.js";import{v as l}from"./vue2Dropzone-CsbavM4q.js";/* empty css            */const n={name:"Upload",components:{vueDropzone:l},data(){return{options:{url:"/upload",thumbnailWidth:150,maxFilesize:20,headers:{"X-CSRF-TOKEN":window.axios.defaults.headers.common["X-CSRF-TOKEN"]},includeStyling:!0,duplicateCheck:!0,paramName:"file",acceptedFiles:"image/*,.heic,.heif"},showTagLitterButton:!0,progress:0}},computed:{team(){var s;return(s=this.$store.state.user.user.team)==null?void 0:s.name}},async created(){Object.keys(this.$store.state.user.user.length===0)&&await this.$store.dispatch("GET_CURRENT_USER")},methods:{failed(s,t){let e=s.previewElement.querySelectorAll(".dz-error-message span");e&&e.length&&(e[0].textContent=t.message);const o=this.$t("notifications.error"),a=t.message;i.$vToastify.error({title:o,body:a,position:"top-right",type:"error"})},uploadStarted(s){this.showTagLitterButton=!1},uploadCompleted(s){this.showTagLitterButton=!0},tag(){this.$router.push({path:"/tag"})},uploadProgress(s,t,e){this.progress=s}}};var d=function(){var t=this,e=t._self._c;return e("section",{staticClass:"section hero fullheight is-warning is-bold upload-section"},[e("div",{staticClass:"container ma has-text-centered",staticStyle:{"flex-grow":"0",width:"100%"}},[e("h1",{staticClass:"title is-1 drop-title"},[t._v(" "+t._s(t.$t("upload.click-to-upload"))+" ")]),t.team?e("p",{staticClass:"subtitle mt-1"},[t._v(" "+t._s(t.$t("common.team"))+": "),e("strong",[t._v(t._s(t.team))])]):t._e(),e("vue-dropzone",{attrs:{id:"customdropzone",options:t.options,"use-custom-slot":!0},on:{"vdropzone-error":t.failed,"vdropzone-files-added":t.uploadStarted,"vdropzone-file-added":t.uploadStarted,"vdropzone-queue-complete":t.uploadCompleted,"vdropzone-total-upload-progress":t.uploadProgress}},[e("i",{staticClass:"fa fa-image upload-icon",attrs:{"aria-hidden":"true"}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.progress,expression:"progress"}],staticClass:"wrapper"},[e("div",{staticClass:"progress-bar"},[e("span",{staticClass:"progress-bar-fill has-background-info",style:{width:`${t.progress}%`}})])]),e("h2",{staticClass:"title is-2"},[t._v(" "+t._s(t.$t("upload.thank-you"))+" ")]),e("h3",{staticClass:"title is-3 mb2r"},[t._v(" "+t._s(t.$t("upload.need-tag-litter"))+" ")]),t.showTagLitterButton?e("button",{staticClass:"button is-medium is-info hov",on:{click:t.tag}},[t._v(" "+t._s(t.$t("upload.tag-litter"))),e("i",{staticClass:"fa fa-arrow-right",attrs:{"aria-hidden":"true"}})]):t._e()],1)])},p=[],u=r(n,d,p,!1,null,"fcf00e23");const f=u.exports;export{f as default};
