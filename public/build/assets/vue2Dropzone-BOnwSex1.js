import{c as I,g as N}from"./app-B8_u5LVe.js";var O={exports:{}};(function(R,Q){(function(U,M){R.exports=M()})(I,function(){var U,M=(function(l){var a=function(){function d(o,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,e,t){return e&&d(o.prototype,e),t&&d(o,t),o}}();function h(d,o){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?d:o}function g(d,o){if(!(d instanceof o))throw new TypeError("Cannot call a class as a function")}var b=function(){function d(){g(this,d)}return a(d,[{key:"on",value:function(o,e){return this._callbacks=this._callbacks||{},this._callbacks[o]||(this._callbacks[o]=[]),this._callbacks[o].push(e),this}},{key:"emit",value:function(o){this._callbacks=this._callbacks||{};var e=this._callbacks[o];if(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,s=s=e;!(r>=s.length);)s[r++].apply(this,n)}return this}},{key:"off",value:function(o,e){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var t=this._callbacks[o];if(!t)return this;if(arguments.length===1)return delete this._callbacks[o],this;for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}return this}}]),d}(),m=function(d){function o(e,t){g(this,o);var n,i=h(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),r=void 0;if(i.element=e,i.version=o.version,i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,""),i.clickableElements=[],i.listeners=[],i.files=[],typeof i.element=="string"&&(i.element=document.querySelector(i.element)),!i.element||i.element.nodeType==null)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");o.instances.push(i),i.element.dropzone=i;var s,u=(n=o.optionsForElement(i.element))!=null?n:{};if(i.options=o.extend({},i.defaultOptions,u,t??{}),i.options.forceFallback||!o.isBrowserSupported())return s=i.options.fallback.call(i),h(i,s);if(i.options.url==null&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),i.options.renameFilename!=null&&(i.options.renameFile=function(p){return i.options.renameFilename.call(i,p.name,p)}),i.options.method=i.options.method.toUpperCase(),(r=i.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),i.options.previewsContainer!==!1&&(i.options.previewsContainer?i.previewsContainer=o.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(i.options.clickable===!0?i.clickableElements=[i.element]:i.clickableElements=o.getElements(i.options.clickable,"clickable")),i.init(),i}return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,b),a(o,null,[{key:"initClass",value:function(){this.prototype.Emitter=b,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var t=0,n=n=this.element.getElementsByTagName("div");!(t>=n.length);){var i=n[t++];if(/(^| )dz-message($| )/.test(i.className)){e=i,i.className="dz-message";break}}e||(e=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var r=e.getElementsByTagName("span")[0];return r&&(r.textContent!=null?r.textContent=this.options.dictFallbackMessage:r.innerText!=null&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var r={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},s=e.width/e.height;t==null&&n==null?(t=r.srcWidth,n=r.srcHeight):t==null?t=n*s:n==null&&(n=t/s);var u=(t=Math.min(t,r.srcWidth))/(n=Math.min(n,r.srcHeight));if(r.srcWidth>t||r.srcHeight>n)if(i==="crop")s>u?(r.srcHeight=e.height,r.srcWidth=r.srcHeight*u):(r.srcWidth=e.width,r.srcHeight=r.srcWidth/u);else{if(i!=="contain")throw new Error("Unknown resizeMethod '"+i+"'");s>u?n=t/s:t=n*s}return r.srcX=(e.width-r.srcWidth)/2,r.srcY=(e.height-r.srcHeight)/2,r.trgWidth=t,r.trgHeight=n,r},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail /></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size></span></div>
    <div class="dz-filename"><span data-dz-name></span></div>
  </div>
  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
  <div class="dz-error-message"><span data-dz-errormessage></span></div>
  <div class="dz-success-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Check</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
      </g>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
      <title>Error</title>
      <defs></defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">
          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>
        </g>
      </g>
    </svg>
  </div>
</div>`,drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var n=0,i=i=e.previewElement.querySelectorAll("[data-dz-name]");!(n>=i.length);){var r=i[n++];r.textContent=e.name}for(var s=0,u=u=e.previewElement.querySelectorAll("[data-dz-size]");!(s>=u.length);)(r=u[s++]).innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var p=function(k){return k.preventDefault(),k.stopPropagation(),e.status===o.UPLOADING?o.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?o.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)},c=0,f=f=e.previewElement.querySelectorAll("[data-dz-remove]");!(c>=f.length);)f[c++].addEventListener("click",p)}},removedfile:function(e){return e.previewElement!=null&&e.previewElement.parentNode!=null&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(var n=0,i=i=e.previewElement.querySelectorAll("[data-dz-thumbnail]");!(n>=i.length);){var r=i[n++];r.alt=e.name,r.src=t}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),typeof t!="String"&&t.error&&(t=t.error);for(var n=0,i=i=e.previewElement.querySelectorAll("[data-dz-errormessage]");!(n>=i.length);)i[n++].textContent=t}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement)for(var i=0,r=r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");!(i>=r.length);){var s=r[i++];s.nodeName==="PROGRESS"?s.value=t:s.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,s=s=n;!(r>=s.length);){var u=s[r++];for(var p in u){var c=u[p];e[p]=c}}return e}}]),a(o,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(o.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(o.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(o.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===o.UPLOADING||e.status===o.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&function s(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(e.options.maxFiles===null||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",e.options.acceptedFiles!==null&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),e.options.capture!==null&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",o.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var u=e.hiddenFileInput.files;if(u.length)for(var p=0,c=c=u;!(p>=c.length);){var f=c[p++];e.addFile(f)}return e.emit("addedfiles",u),s()})}(),this.URL=window.URL!==null?window.URL:window.webkitURL;for(var t=0,n=n=this.events;!(t>=n.length);){var i=n[t++];this.on(i,this.options[i])}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(s){return e.emit("complete",s)}),this.on("complete",function(s){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0)return setTimeout(function(){return e.emit("queuecomplete")},0)});var r=function(s){return s.stopPropagation(),s.preventDefault?s.preventDefault():s.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(s){return e.emit("dragstart",s)},dragenter:function(s){return r(s),e.emit("dragenter",s)},dragover:function(s){var u=void 0;try{u=s.dataTransfer.effectAllowed}catch{}return s.dataTransfer.dropEffect=u==="move"||u==="linkMove"?"move":"copy",r(s),e.emit("dragover",s)},dragleave:function(s){return e.emit("dragleave",s)},drop:function(s){return r(s),e.drop(s)},dragend:function(s){return e.emit("dragend",s)}}}],this.clickableElements.forEach(function(s){return e.listeners.push({element:s,events:{click:function(u){return(s!==e.element||u.target===e.element||o.elementInside(u.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0;if(this.getActiveFiles().length){for(var i=0,r=r=this.getActiveFiles();!(i>=r.length);){var s=r[i++];t+=s.upload.bytesSent,n+=s.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return typeof this.options.paramName=="function"?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t=void 0;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var i=o.createElement(n);return this.element.tagName!=="FORM"?(t=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t??i}},{key:"getExistingFallback",value:function(){for(var e=function(s){for(var u=0,p=p=s;!(u>=p.length);){var c=p[u++];if(/(^| )fallback($| )/.test(c.className))return c}},t=["div","form"],n=0;n<t.length;n++){var i,r=t[n];if(i=e(this.element.getElementsByTagName(r)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],r=0;r<i.length;r++){var s=i[r];if(e>=Math.pow(this.options.filesizeBase,4-r)/10){t=e/Math.pow(this.options.filesizeBase,4-r),n=s;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var i=e.dataTransfer.items;i&&i.length&&i[0].webkitGetAsEntry!=null?this._addFilesFromItems(i):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(t=e!=null?e.clipboardData:void 0,n=function(r){return r.items},(t!=null?n(t):void 0)!=null){var t,n;this.emit("paste",e);var i=e.clipboardData.items;return i.length?this._addFilesFromItems(i):void 0}}},{key:"handleFiles",value:function(e){for(var t=0,n=n=e;!(t>=n.length);){var i=n[t++];this.addFile(i)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){for(var n=[],i=0,r=r=e;!(i>=r.length);){var s,u=r[i++];u.webkitGetAsEntry!=null&&(s=u.webkitGetAsEntry())?s.isFile?n.push(t.addFile(u.getAsFile())):s.isDirectory?n.push(t._addFilesFromDirectory(s,s.name)):n.push(void 0):u.getAsFile!=null&&(u.kind==null||u.kind==="file")?n.push(t.addFile(u.getAsFile())):n.push(void 0)}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),r=function(s){return u=console,p="log",c=function(f){return f.log(s)},u!=null&&typeof u[p]=="function"?c(u,p):void 0;var u,p,c};return function s(){return i.readEntries(function(u){if(u.length>0){for(var p=0,c=c=u;!(p>=c.length);){var f=c[p++];f.isFile?f.file(function(k){if(!n.options.ignoreHiddenFiles||k.name.substring(0,1)!==".")return k.fullPath=t+"/"+k.name,n.addFile(k)}):f.isDirectory&&n._addFilesFromDirectory(f,t+"/"+f.name)}s()}return null},r)}()}},{key:"accept",value:function(e,t){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;return e.upload={uuid:o.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){for(var t=0,n=n=e;!(t>=n.length);){var i=n[t++];this.enqueueFile(i)}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==o.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&this._thumbnailQueue.length!==0){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=F(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){e==null&&(e=!1);for(var t=0,n=n=this.files.slice();!(t>=n.length);){var i=n[t++];(i.status!==o.UPLOADING||e)&&this.removeFile(i)}return null}},{key:"resizeImage",value:function(e,t,n,i,r){var s=this;return this.createThumbnail(e,t,n,i,!0,function(u,p){if(p==null)return r(e);var c=s.options.resizeMimeType;c==null&&(c=e.type);var f=p.toDataURL(c,s.options.resizeQuality);return c!=="image/jpeg"&&c!=="image/jpg"||(f=L.restore(e.dataURL,f)),r(o.dataURItoBlob(f))})}},{key:"createThumbnail",value:function(e,t,n,i,r,s){var u=this,p=new FileReader;return p.onload=function(){if(e.dataURL=p.result,e.type!=="image/svg+xml")return u.createThumbnailFromUrl(e,t,n,i,r,s);s!=null&&s(p.result)},p.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,r,s,u){var p=this,c=document.createElement("img");return u&&(c.crossOrigin=u),c.onload=function(){var f=function(k){return k(1)};return typeof EXIF<"u"&&EXIF!==null&&r&&(f=function(k){return EXIF.getData(c,function(){return k(EXIF.getTag(this,"Orientation"))})}),f(function(k){e.width=c.width,e.height=c.height;var v=p.options.resize.call(p,e,t,n,i),y=document.createElement("canvas"),z=y.getContext("2d");switch(y.width=v.trgWidth,y.height=v.trgHeight,k>4&&(y.width=v.trgHeight,y.height=v.trgWidth),k){case 2:z.translate(y.width,0),z.scale(-1,1);break;case 3:z.translate(y.width,y.height),z.rotate(Math.PI);break;case 4:z.translate(0,y.height),z.scale(1,-1);break;case 5:z.rotate(.5*Math.PI),z.scale(1,-1);break;case 6:z.rotate(.5*Math.PI),z.translate(0,-y.width);break;case 7:z.rotate(.5*Math.PI),z.translate(y.height,-y.width),z.scale(-1,1);break;case 8:z.rotate(-.5*Math.PI),z.translate(-y.height,0)}E(z,c,v.srcX!=null?v.srcX:0,v.srcY!=null?v.srcY:0,v.srcWidth,v.srcHeight,v.trgX!=null?v.trgX:0,v.trgY!=null?v.trgY:0,v.trgWidth,v.trgHeight);var x=y.toDataURL("image/png");if(s!=null)return s(x,y)})},s!=null&&(c.onerror=s),c.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var t=0,n=n=e;!(t>=n.length);){var i=n[t++];i.processing=!0,i.status=o.UPLOADING,this.emit("processing",i)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(t){return t})}},{key:"cancelUpload",value:function(e){if(e.status===o.UPLOADING){for(var t=this._getFilesWithXhr(e.xhr),n=0,i=i=t;!(n>=i.length);)i[n++].status=o.CANCELED;e.xhr!==void 0&&e.xhr.abort();for(var r=0,s=s=t;!(r>=s.length);){var u=s[r++];this.emit("canceled",u)}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==o.ADDED&&e.status!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if(typeof e=="function"){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,function(n){if(e[0].upload.chunked){var i=e[0],r=n[0];i.upload.chunks=[];var s=function(){for(var f=0;i.upload.chunks[f]!==void 0;)f++;if(!(f>=i.upload.totalChunkCount)){var k=f*t.options.chunkSize,v=Math.min(k+t.options.chunkSize,i.size),y={name:t._getParamName(0),data:r.webkitSlice?r.webkitSlice(k,v):r.slice(k,v),filename:i.upload.filename,chunkIndex:f};i.upload.chunks[f]={file:i,index:f,dataBlock:y,status:o.UPLOADING,progress:0,retries:0},t._uploadData(e,[y])}};if(i.upload.finishedChunkUpload=function(f){var k=!0;f.status=o.SUCCESS,f.dataBlock=null,f.xhr=null;for(var v=0;v<i.upload.totalChunkCount;v++){if(i.upload.chunks[v]===void 0)return s();i.upload.chunks[v].status!==o.SUCCESS&&(k=!1)}k&&t.options.chunksUploaded(i,function(){t._finished(e,"",null)})},t.options.parallelChunkUploads)for(var u=0;u<i.upload.totalChunkCount;u++)s();else s()}else{for(var p=[],c=0;c<e.length;c++)p[c]={name:t._getParamName(c),data:n[c],filename:e[c].upload.filename};t._uploadData(e,p)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(e.upload.chunks[n]!==void 0&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){for(var n=this,i=new XMLHttpRequest,r=0,s=s=e;!(r>=s.length);)s[r++].xhr=i;e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=i);var u=this.resolveOption(this.options.method,e),p=this.resolveOption(this.options.url,e);i.open(u,p,!0),i.timeout=this.resolveOption(this.options.timeout,e),i.withCredentials=!!this.options.withCredentials,i.onload=function(D){n._finishedUploading(e,i,D)},i.onerror=function(){n._handleUploadError(e,i)},(i.upload!=null?i.upload:i).onprogress=function(D){return n._updateFilesUploadProgress(e,i,D)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var f in this.options.headers&&o.extend(c,this.options.headers),c){var k=c[f];k&&i.setRequestHeader(f,k)}var v=new FormData;if(this.options.params){var y=this.options.params;for(var z in typeof y=="function"&&(y=y.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null)),y){var x=y[z];v.append(z,x)}}for(var C=0,w=w=e;!(C>=w.length);){var A=w[C++];this.emit("sending",A,i,v)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,v),this._addFormElementData(v);for(var T=0;T<t.length;T++){var _=t[T];v.append(_.name,_.data,_.filename)}this.submitRequest(i,v,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],r=0,s=function(p){n.options.transformFile.call(n,e[p],function(c){i[p]=c,++r===e.length&&t(i)})},u=0;u<e.length;u++)s(u)}},{key:"_addFormElementData",value:function(e){if(this.element.tagName==="FORM")for(var t=0,n=n=this.element.querySelectorAll("input, textarea, select, button");!(t>=n.length);){var i=n[t++],r=i.getAttribute("name"),s=i.getAttribute("type");if(s&&(s=s.toLowerCase()),r!=null)if(i.tagName==="SELECT"&&i.hasAttribute("multiple"))for(var u=0,p=p=i.options;!(u>=p.length);){var c=p[u++];c.selected&&e.append(r,c.value)}else(!s||s!=="checkbox"&&s!=="radio"||i.checked)&&e.append(r,i.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i=void 0;if(n!==void 0){if(i=100*n.loaded/n.total,e[0].upload.chunked){var r=e[0],s=this._getChunk(r,t);s.progress=i,s.total=n.total,s.bytesSent=n.loaded,r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(var u=0;u<r.upload.totalChunkCount;u++)r.upload.chunks[u]!==void 0&&r.upload.chunks[u].progress!==void 0&&(r.upload.progress+=r.upload.chunks[u].progress,r.upload.total+=r.upload.chunks[u].total,r.upload.bytesSent+=r.upload.chunks[u].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else for(var p=0,c=c=e;!(p>=c.length);){var f=c[p++];f.upload.progress=i,f.upload.total=n.total,f.upload.bytesSent=n.loaded}for(var k=0,v=v=e;!(k>=v.length);){var y=v[k++];this.emit("uploadprogress",y,y.upload.progress,y.upload.bytesSent)}}else{var z=!0;i=100;for(var x=0,C=C=e;!(x>=C.length);){var w=C[x++];w.upload.progress===100&&w.upload.bytesSent===w.upload.total||(z=!1),w.upload.progress=i,w.upload.bytesSent=w.upload.total}if(z)return;for(var A=0,T=T=e;!(A>=T.length);){var _=T[A++];this.emit("uploadprogress",_,i,_.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,t,n){var i=void 0;if(e[0].status!==o.CANCELED&&t.readyState===4){if(t.responseType!=="arraybuffer"&&t.responseType!=="blob"&&(i=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(r){n=r,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,i,n):this._handleUploadError(e,t,i)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==o.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],t);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var r=0,s=s=e;!(r>=s.length);)s[r++],this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,t,n){for(var i=0,r=r=e;!(i>=r.length);){var s=r[i++];s.status=o.SUCCESS,this.emit("success",s,t,n),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){for(var i=0,r=r=e;!(i>=r.length);){var s=r[i++];s.status=o.ERROR,this.emit("error",s,t,n),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(e==="x"?t:3&t|8).toString(16)})}}]),o}();m.initClass(),m.version="5.5.1",m.options={},m.optionsForElement=function(d){return d.getAttribute("id")?m.options[S(d.getAttribute("id"))]:void 0},m.instances=[],m.forElement=function(d){if(typeof d=="string"&&(d=document.querySelector(d)),(d!=null?d.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return d.dropzone},m.autoDiscover=!0,m.discover=function(){var d=void 0;if(document.querySelectorAll)d=document.querySelectorAll(".dropzone");else{d=[];var o=function(e){return function(){for(var t=[],n=0,i=i=e;!(n>=i.length);){var r=i[n++];/(^| )dropzone($| )/.test(r.className)?t.push(d.push(r)):t.push(void 0)}return t}()};o(document.getElementsByTagName("div")),o(document.getElementsByTagName("form"))}return function(){for(var e=[],t=0,n=n=d;!(t>=n.length);){var i=n[t++];m.optionsForElement(i)!==!1?e.push(new m(i)):e.push(void 0)}return e}()},m.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],m.isBrowserSupported=function(){var d=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var o=0,e=e=m.blacklistedBrowsers;!(o>=e.length);)e[o++].test(navigator.userAgent)&&(d=!1);else d=!1;else d=!1;return d},m.dataURItoBlob=function(d){for(var o=atob(d.split(",")[1]),e=d.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(o.length),n=new Uint8Array(t),i=0,r=o.length,s=0<=r;s?i<=r:i>=r;s?i++:i--)n[i]=o.charCodeAt(i);return new Blob([t],{type:e})};var F=function(d,o){return d.filter(function(e){return e!==o}).map(function(e){return e})},S=function(d){return d.replace(/[\-_](\w)/g,function(o){return o.charAt(1).toUpperCase()})};m.createElement=function(d){var o=document.createElement("div");return o.innerHTML=d,o.childNodes[0]},m.elementInside=function(d,o){if(d===o)return!0;for(;d=d.parentNode;)if(d===o)return!0;return!1},m.getElement=function(d,o){var e=void 0;if(typeof d=="string"?e=document.querySelector(d):d.nodeType!=null&&(e=d),e==null)throw new Error("Invalid `"+o+"` option provided. Please provide a CSS selector or a plain HTML element.");return e},m.getElements=function(d,o){var e=void 0,t=void 0;if(d instanceof Array){t=[];try{for(var n=0,i=i=d;!(n>=i.length);)e=i[n++],t.push(this.getElement(e,o))}catch{t=null}}else if(typeof d=="string"){t=[];for(var r=0,s=s=document.querySelectorAll(d);!(r>=s.length);)e=s[r++],t.push(e)}else d.nodeType!=null&&(t=[d]);if(t==null||!t.length)throw new Error("Invalid `"+o+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return t},m.confirm=function(d,o,e){return window.confirm(d)?o():e!=null?e():void 0},m.isValidFile=function(d,o){if(!o)return!0;o=o.split(",");for(var e=d.type,t=e.replace(/\/.*$/,""),n=0,i=i=o;!(n>=i.length);){var r=i[n++];if((r=r.trim()).charAt(0)==="."){if(d.name.toLowerCase().indexOf(r.toLowerCase(),d.name.length-r.length)!==-1)return!0}else if(/\/\*$/.test(r)){if(t===r.replace(/\/.*$/,""))return!0}else if(e===r)return!0}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(d){return this.each(function(){return new m(this,d)})}),l!==null?l.exports=m:window.Dropzone=m,m.ADDED="added",m.QUEUED="queued",m.ACCEPTED=m.QUEUED,m.UPLOADING="uploading",m.PROCESSING=m.UPLOADING,m.CANCELED="canceled",m.ERROR="error",m.SUCCESS="success";var E=function(d,o,e,t,n,i,r,s,u,p){var c=function(f){f.naturalWidth;var k=f.naturalHeight,v=document.createElement("canvas");v.width=1,v.height=k;var y=v.getContext("2d");y.drawImage(f,0,0);for(var z=y.getImageData(1,0,1,k).data,x=0,C=k,w=k;w>x;)z[4*(w-1)+3]===0?C=w:x=w,w=C+x>>1;var A=w/k;return A===0?1:A}(o);return d.drawImage(o,e,t,n,i,r,s,u,p/c)},L=function(){function d(){g(this,d)}return a(d,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(o){for(var e="",t=void 0,n=void 0,i="",r=void 0,s=void 0,u=void 0,p="",c=0;r=(t=o[c++])>>2,s=(3&t)<<4|(n=o[c++])>>4,u=(15&n)<<2|(i=o[c++])>>6,p=63&i,isNaN(n)?u=p=64:isNaN(i)&&(p=64),e=e+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(p),t=n=i="",r=s=u=p="",c<o.length;);return e}},{key:"restore",value:function(o,e){if(!o.match("data:image/jpeg;base64,"))return e;var t=this.decode64(o.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(t),i=this.exifManipulation(e,n);return"data:image/jpeg;base64,"+this.encode64(i)}},{key:"exifManipulation",value:function(o,e){var t=this.getExifArray(e),n=this.insertExif(o,t);return new Uint8Array(n)}},{key:"getExifArray",value:function(o){for(var e=void 0,t=0;t<o.length;){if((e=o[t])[0]===255&e[1]===225)return e;t++}return[]}},{key:"insertExif",value:function(o,e){var t=o.replace("data:image/jpeg;base64,",""),n=this.decode64(t),i=n.indexOf(255,3),r=n.slice(0,i),s=n.slice(i),u=r;return u=(u=u.concat(e)).concat(s)}},{key:"slice2Segments",value:function(o){for(var e=0,t=[];!(o[e]===255&o[e+1]===218);){if(o[e]===255&o[e+1]===216)e+=2;else{var n=e+(256*o[e+2]+o[e+3])+2,i=o.slice(e,n);t.push(i),e=n}if(e>o.length)break}return t}},{key:"decode64",value:function(o){var e=void 0,t=void 0,n="",i=void 0,r=void 0,s="",u=0,p=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(o)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),o=o.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(o.charAt(u++))<<2|(i=this.KEY_STR.indexOf(o.charAt(u++)))>>4,t=(15&i)<<4|(r=this.KEY_STR.indexOf(o.charAt(u++)))>>2,n=(3&r)<<6|(s=this.KEY_STR.indexOf(o.charAt(u++))),p.push(e),r!==64&&p.push(t),s!==64&&p.push(n),e=t=n="",i=r=s="",u<o.length;);return p}}]),d}();L.initClass(),m._autoDiscoverFunction=function(){if(m.autoDiscover)return m.discover()},function(d,o){var e=!1,t=!0,n=d.document,i=n.documentElement,r=n.addEventListener?"addEventListener":"attachEvent",s=n.addEventListener?"removeEventListener":"detachEvent",u=n.addEventListener?"":"on",p=function c(f){if(f.type!=="readystatechange"||n.readyState==="complete")return(f.type==="load"?d:n)[s](u+f.type,c,!1),!e&&(e=!0)?o.call(d,f.type||f):void 0};if(n.readyState!=="complete"){if(n.createEventObject&&i.doScroll){try{t=!d.frameElement}catch{}t&&function c(){try{i.doScroll("left")}catch{return void setTimeout(c,50)}return p("poll")}()}n[r](u+"DOMContentLoaded",p,!1),n[r](u+"readystatechange",p,!1),d[r](u+"load",p,!1)}}(window,m._autoDiscoverFunction)}(U={exports:{}},U.exports),U.exports),P={getSignedURL(l,a){let h={filePath:l.name,contentType:l.type};return new Promise((g,b)=>{var m=new FormData;let F=new XMLHttpRequest,S=typeof a.signingURL=="function"?a.signingURL(l):a.signingURL;F.open("POST",S),F.onload=function(){F.status==200?g(JSON.parse(F.response)):b(F.statusText)},F.onerror=function(E){console.error("Network Error : Could not send request to AWS (Maybe CORS errors)"),b(E)},a.withCredentials===!0&&(F.withCredentials=!0),Object.entries(a.headers||{}).forEach(([E,L])=>{F.setRequestHeader(E,L)}),h=Object.assign(h,a.params||{}),Object.entries(h).forEach(([E,L])=>{m.append(E,L)}),F.send(m)})},sendFile(l,a,h){var g=h?this.setResponseHandler:this.sendS3Handler;return this.getSignedURL(l,a).then(b=>g(b,l)).catch(b=>b)},setResponseHandler(l,a){a.s3Signature=l.signature,a.s3Url=l.postEndpoint},sendS3Handler(l,a){let h=new FormData,g=l.signature;return Object.keys(g).forEach(function(b){h.append(b,g[b])}),h.append("file",a),new Promise((b,m)=>{let F=new XMLHttpRequest;F.open("POST",l.postEndpoint),F.onload=function(){if(F.status==201){var S=new window.DOMParser().parseFromString(F.response,"text/xml").firstChild.children[0].innerHTML;b({success:!0,message:S})}else{var E=new window.DOMParser().parseFromString(F.response,"text/xml").firstChild.children[0].innerHTML;m({success:!1,message:E+". Request is marked as resolved when returns as status 201"})}},F.onerror=function(S){var E=new window.DOMParser().parseFromString(F.response,"text/xml").firstChild.children[1].innerHTML;m({success:!1,message:E})},F.send(h)})}};return M.autoDiscover=!1,function(l,a,h,g,b,m,F,S,E,L){var d,o=typeof h=="function"?h.options:h;return l&&l.render&&(o.render=l.render,o.staticRenderFns=l.staticRenderFns,o._compiled=!0),h}({render:function(){var l=this.$createElement,a=this._self._c||l;return a("div",{ref:"dropzoneElement",class:{"vue-dropzone dropzone":this.includeStyling},attrs:{id:this.id}},[this.useCustomSlot?a("div",{staticClass:"dz-message"},[this._t("default",[this._v("Drop files here to upload")])],2):this._e()])},staticRenderFns:[]},void 0,{props:{id:{type:String,required:!0,default:"dropzone"},options:{type:Object,required:!0},includeStyling:{type:Boolean,default:!0,required:!1},awss3:{type:Object,required:!1,default:null},destroyDropzone:{type:Boolean,default:!0,required:!1},duplicateCheck:{type:Boolean,default:!1,required:!1},useCustomSlot:{type:Boolean,default:!1,required:!1}},data:()=>({isS3:!1,isS3OverridesServerPropagation:!1,wasQueueAutoProcess:!0}),computed:{dropzoneSettings(){let l={thumbnailWidth:200,thumbnailHeight:200};return Object.keys(this.options).forEach(function(a){l[a]=this.options[a]},this),this.awss3!==null&&(l.autoProcessQueue=!1,this.isS3=!0,this.isS3OverridesServerPropagation=this.awss3.sendFileToServer===!1,this.options.autoProcessQueue!==void 0&&(this.wasQueueAutoProcess=this.options.autoProcessQueue),this.isS3OverridesServerPropagation&&(l.url=a=>a[0].s3Url)),l}},mounted(){if(this.$isServer&&this.hasBeenMounted)return;this.hasBeenMounted=!0,this.dropzone=new M(this.$refs.dropzoneElement,this.dropzoneSettings);let l=this;this.dropzone.on("thumbnail",function(a,h){l.$emit("vdropzone-thumbnail",a,h)}),this.dropzone.on("addedfile",function(a){var h,g;if(l.duplicateCheck&&this.files.length)for(h=0,g=this.files.length;h<g-1;h++)this.files[h].name===a.name&&this.files[h].size===a.size&&this.files[h].lastModifiedDate.toString()===a.lastModifiedDate.toString()&&(this.removeFile(a),l.$emit("vdropzone-duplicate-file",a));l.$emit("vdropzone-file-added",a),l.isS3&&l.wasQueueAutoProcess&&!a.manuallyAdded&&l.getSignedAndUploadToS3(a)}),this.dropzone.on("addedfiles",function(a){l.$emit("vdropzone-files-added",a)}),this.dropzone.on("removedfile",function(a){l.$emit("vdropzone-removed-file",a),a.manuallyAdded&&l.dropzone.options.maxFiles!==null&&l.dropzone.options.maxFiles++}),this.dropzone.on("success",function(a,h){if(l.$emit("vdropzone-success",a,h),l.isS3){if(l.isS3OverridesServerPropagation){var g=new window.DOMParser().parseFromString(h,"text/xml").firstChild.children[0].innerHTML;l.$emit("vdropzone-s3-upload-success",g)}l.wasQueueAutoProcess&&l.setOption("autoProcessQueue",!1)}}),this.dropzone.on("successmultiple",function(a,h){l.$emit("vdropzone-success-multiple",a,h)}),this.dropzone.on("error",function(a,h,g){l.$emit("vdropzone-error",a,h,g),this.isS3&&l.$emit("vdropzone-s3-upload-error")}),this.dropzone.on("errormultiple",function(a,h,g){l.$emit("vdropzone-error-multiple",a,h,g)}),this.dropzone.on("sending",function(a,h,g){if(l.isS3)if(l.isS3OverridesServerPropagation){let b=a.s3Signature;Object.keys(b).forEach(function(m){g.append(m,b[m])})}else g.append("s3ObjectLocation",a.s3ObjectLocation);l.$emit("vdropzone-sending",a,h,g)}),this.dropzone.on("sendingmultiple",function(a,h,g){l.$emit("vdropzone-sending-multiple",a,h,g)}),this.dropzone.on("complete",function(a){l.$emit("vdropzone-complete",a)}),this.dropzone.on("completemultiple",function(a){l.$emit("vdropzone-complete-multiple",a)}),this.dropzone.on("canceled",function(a){l.$emit("vdropzone-canceled",a)}),this.dropzone.on("canceledmultiple",function(a){l.$emit("vdropzone-canceled-multiple",a)}),this.dropzone.on("maxfilesreached",function(a){l.$emit("vdropzone-max-files-reached",a)}),this.dropzone.on("maxfilesexceeded",function(a){l.$emit("vdropzone-max-files-exceeded",a)}),this.dropzone.on("processing",function(a){l.$emit("vdropzone-processing",a)}),this.dropzone.on("processingmultiple",function(a){l.$emit("vdropzone-processing-multiple",a)}),this.dropzone.on("uploadprogress",function(a,h,g){l.$emit("vdropzone-upload-progress",a,h,g)}),this.dropzone.on("totaluploadprogress",function(a,h,g){l.$emit("vdropzone-total-upload-progress",a,h,g)}),this.dropzone.on("reset",function(){l.$emit("vdropzone-reset")}),this.dropzone.on("queuecomplete",function(){l.$emit("vdropzone-queue-complete")}),this.dropzone.on("drop",function(a){l.$emit("vdropzone-drop",a)}),this.dropzone.on("dragstart",function(a){l.$emit("vdropzone-drag-start",a)}),this.dropzone.on("dragend",function(a){l.$emit("vdropzone-drag-end",a)}),this.dropzone.on("dragenter",function(a){l.$emit("vdropzone-drag-enter",a)}),this.dropzone.on("dragover",function(a){l.$emit("vdropzone-drag-over",a)}),this.dropzone.on("dragleave",function(a){l.$emit("vdropzone-drag-leave",a)}),l.$emit("vdropzone-mounted")},beforeDestroy(){this.destroyDropzone&&this.dropzone.destroy()},methods:{manuallyAddFile:function(l,a){l.manuallyAdded=!0,this.dropzone.emit("addedfile",l);let h=!1;if((a.indexOf(".svg")>-1||a.indexOf(".png")>-1||a.indexOf(".jpg")>-1||a.indexOf(".jpeg")>-1||a.indexOf(".gif")>-1||a.indexOf(".webp")>-1)&&(h=!0),this.dropzone.options.createImageThumbnails&&h&&l.size<=1024*this.dropzone.options.maxThumbnailFilesize*1024){a&&this.dropzone.emit("thumbnail",l,a);for(var g=l.previewElement.querySelectorAll("[data-dz-thumbnail]"),b=0;b<g.length;b++)g[b].style.width=this.dropzoneSettings.thumbnailWidth+"px",g[b].style.height=this.dropzoneSettings.thumbnailHeight+"px",g[b].style["object-fit"]="contain"}this.dropzone.emit("complete",l),this.dropzone.options.maxFiles&&this.dropzone.options.maxFiles--,this.dropzone.files.push(l),this.$emit("vdropzone-file-added-manually",l)},setOption:function(l,a){this.dropzone.options[l]=a},removeAllFiles:function(l){this.dropzone.removeAllFiles(l)},processQueue:function(){let l=this.dropzone;this.isS3&&!this.wasQueueAutoProcess?this.getQueuedFiles().forEach(a=>{this.getSignedAndUploadToS3(a)}):this.dropzone.processQueue(),this.dropzone.on("success",function(){l.options.autoProcessQueue=!0}),this.dropzone.on("queuecomplete",function(){l.options.autoProcessQueue=!1})},init:function(){return this.dropzone.init()},destroy:function(){return this.dropzone.destroy()},updateTotalUploadProgress:function(){return this.dropzone.updateTotalUploadProgress()},getFallbackForm:function(){return this.dropzone.getFallbackForm()},getExistingFallback:function(){return this.dropzone.getExistingFallback()},setupEventListeners:function(){return this.dropzone.setupEventListeners()},removeEventListeners:function(){return this.dropzone.removeEventListeners()},disable:function(){return this.dropzone.disable()},enable:function(){return this.dropzone.enable()},filesize:function(l){return this.dropzone.filesize(l)},accept:function(l,a){return this.dropzone.accept(l,a)},addFile:function(l){return this.dropzone.addFile(l)},removeFile:function(l){this.dropzone.removeFile(l)},getAcceptedFiles:function(){return this.dropzone.getAcceptedFiles()},getRejectedFiles:function(){return this.dropzone.getRejectedFiles()},getFilesWithStatus:function(){return this.dropzone.getFilesWithStatus()},getQueuedFiles:function(){return this.dropzone.getQueuedFiles()},getUploadingFiles:function(){return this.dropzone.getUploadingFiles()},getAddedFiles:function(){return this.dropzone.getAddedFiles()},getActiveFiles:function(){return this.dropzone.getActiveFiles()},getSignedAndUploadToS3(l){var a=P.sendFile(l,this.awss3,this.isS3OverridesServerPropagation);this.isS3OverridesServerPropagation?a.then(()=>{setTimeout(()=>this.dropzone.processFile(l))}):a.then(h=>{h.success?(l.s3ObjectLocation=h.message,setTimeout(()=>this.dropzone.processFile(l)),this.$emit("vdropzone-s3-upload-success",h.message)):h.message!==void 0?this.$emit("vdropzone-s3-upload-error",h.message):this.$emit("vdropzone-s3-upload-error","Network Error : Could not send request to AWS. (Maybe CORS error)")}),a.catch(h=>{alert(h)})},setAWSSigningURL(l){this.isS3&&(this.awss3.signingURL=l)}}},void 0,!1)})})(O);var q=O.exports;const $=N(q);export{$ as v};
